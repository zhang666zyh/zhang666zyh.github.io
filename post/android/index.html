<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Android - Zhang&#39;s Blog的博客</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Zhang&#39;s Blog" /><meta name="description" content="Step1.安装AndroidStudio 别搞压缩包exe了,安卓配置坑爹的要死 直接官网下载exe执行下载 打开后它说没有SDK,就在软件中下" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.67.1 with theme even" />


<link rel="canonical" href="http://localhost:1313/post/android/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Android" />
<meta property="og:description" content="Step1.安装AndroidStudio 别搞压缩包exe了,安卓配置坑爹的要死 直接官网下载exe执行下载 打开后它说没有SDK,就在软件中下" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/android/" />
<meta property="article:published_time" content="2021-11-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-11-01T00:00:00+00:00" />
<meta itemprop="name" content="Android">
<meta itemprop="description" content="Step1.安装AndroidStudio 别搞压缩包exe了,安卓配置坑爹的要死 直接官网下载exe执行下载 打开后它说没有SDK,就在软件中下">
<meta itemprop="datePublished" content="2021-11-01T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-11-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="23189">



<meta itemprop="keywords" content="Java,Kotlin," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Android"/>
<meta name="twitter:description" content="Step1.安装AndroidStudio 别搞压缩包exe了,安卓配置坑爹的要死 直接官网下载exe执行下载 打开后它说没有SDK,就在软件中下"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Zhang&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/home/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">MyBlog</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Zhang&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/home/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">MyBlog</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Android</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-11-01 </span>
        
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#step1安装androidstudio">Step1.安装AndroidStudio</a>
      <ul>
        <li><a href="#手机开启开发者选项操作">手机开启开发者选项操作</a></li>
      </ul>
    </li>
    <li><a href="#step2androidstudio开发工具简介">Step2.AndroidStudio开发工具简介</a></li>
    <li><a href="#step3处理缩略图的三种方法">Step3.处理缩略图的三种方法</a></li>
    <li><a href="#实战1记事本1已经作废">实战1.记事本1(已经作废)</a>
      <ul>
        <li><a href="#不可或缺的intent">不可或缺的intent</a>
          <ul>
            <li><a href="#页面布局">页面布局</a></li>
            <li><a href="#给页面加添加按钮">给页面加添加按钮</a></li>
            <li><a href="#给按钮绑定点击事件">给按钮绑定点击事件</a></li>
            <li><a href="#实现点击按钮页面的跳转">实现点击按钮页面的跳转</a></li>
            <li><a href="#跳转成功后实现在页面中的输入">跳转成功后实现在页面中的输入</a></li>
            <li><a href="#实现将编辑页面中的输入传回服务器">实现将编辑页面中的输入传回服务器</a></li>
            <li><a href="#流程详解">流程详解</a></li>
          </ul>
        </li>
        <li><a href="#数据库操作与笔记显示">数据库操作与笔记显示</a></li>
      </ul>
    </li>
    <li><a href="#step4androidstudio常用操作">Step4.AndroidStudio常用操作</a>
      <ul>
        <li><a href="#1定制app安装后的图标">1.定制app安装后的图标</a></li>
        <li><a href="#2将项目打包成apk">2.将项目打包成apk</a></li>
      </ul>
    </li>
    <li><a href="#实战2o泡果奶">实战2.O泡果奶</a>
      <ul>
        <li><a href="#控制音量">控制音量</a></li>
        <li><a href="#播放音乐">播放音乐</a></li>
        <li><a href="#项目主代码">项目主代码</a></li>
      </ul>
    </li>
    <li><a href="#实战3记事本success">实战3.记事本(Success)</a>
      <ul>
        <li><a href="#数据库测试">数据库测试</a></li>
        <li><a href="#主页面ui设计">主页面UI设计</a></li>
        <li><a href="#编辑笔记功能页面以及保存删除功能">编辑笔记功能页面以及保存、删除功能</a></li>
        <li><a href="#为主页面笔记列表编写适配器">为主页面笔记列表编写适配器</a>
          <ul>
            <li><a href="#cursor详解">Cursor详解</a></li>
            <li><a href="#适配器">适配器</a></li>
          </ul>
        </li>
        <li><a href="#添加图片并将缩略图设置到首页列表中">添加图片并将缩略图设置到首页列表中</a></li>
        <li><a href="#添加视频并将第一帧缩略图设置到首页列表中">添加视频并将第一帧缩略图设置到首页列表中</a></li>
        <li><a href="#查看笔记内容的页面">查看笔记内容的页面</a>
          <ul>
            <li><a href="#详情页ui设计">详情页UI设计</a></li>
            <li><a href="#在详情页ui上显示笔记内容">在详情页UI上显示笔记内容</a></li>
          </ul>
        </li>
        <li><a href="#更改app的图标和颜色">更改APP的图标和颜色</a>
          <ul>
            <li><a href="#图标">图标</a></li>
            <li><a href="#主页颜色">主页颜色</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#step5android主题设置">Step5.Android主题设置</a>
      <ul>
        <li><a href="#颜色">颜色</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="step1安装androidstudio">Step1.安装AndroidStudio</h1>
<ul>
<li>
<p>别搞压缩包exe了,安卓配置坑爹的要死</p>
</li>
<li>
<p>直接官网下载exe执行下载</p>
</li>
<li>
<p>打开后它说没有SDK,就在软件中下载</p>
<p><img src="https://img-blog.csdnimg.cn/716bde3c5a974e1a9fa027398a0c56f5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<p><img src="https://img-blog.csdnimg.cn/34bdada7fa824883b4eb8bd9982586c6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<blockquote>
<p>一路next,下载完成</p>
</blockquote>
</li>
<li>
<p>然后配置jdk路径,jdk11以下是无法支持的,那就搞两个JDK吧</p>
<blockquote>
<p>配置Java环境变量的时候,CLASSPATH和Path中的都是写死的,JAVA_HOME是Java的安装路径</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">CLASSPATH:.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;
Path:;%CATALINA_HOME%\lib;%CATALINA_HOME%\bin;
JAVA_HOME:C:\Program Files\Java\jdk-15.0.1
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>运行前切换就行了</p>
</li>
<li>
<p>JDK安装在<code>C://ProgramFile//Java</code>中</p>
</li>
<li>
<p>如果JDK为8,则会报错</p>
<p><img src="https://img-blog.csdnimg.cn/67a44fb2c79441f08129c9cfb5e572a1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>然后更改build.gradle中的JDK版本号为15</p>
<p><img src="https://img-blog.csdnimg.cn/7e2d996073ef466385dcb3e64ffd790f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>搞完后，连接手机</p>
</li>
<li>
<p>手机连接USB电脑,然后手机打开开发者选项,按照手机上的流程一步步的走下来,安装Android Test</p>
</li>
<li>
<p>Android Studio会自动搜索到你的手机</p>
</li>
</ul>
<h2 id="手机开启开发者选项操作">手机开启开发者选项操作</h2>
<ul>
<li>设置中搜索开发者选项</li>
<li>按照它的提示来操作就好了</li>
</ul>
<h1 id="step2androidstudio开发工具简介">Step2.AndroidStudio开发工具简介</h1>
<p><code>AndroidMainifest.xml</code></p>
<p><img src="https://img-blog.csdnimg.cn/69add0756ce542ff8ff50a26831dc6f9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<ul>
<li>这相当于你当前app的说明书,通常不会去更改它,当然除了一些特殊情况</li>
</ul>
<p><code>Java下这几个com包</code></p>
<ul>
<li>MainActivity.java就是核心,剩下的那两个用于Test</li>
</ul>
<hr>
<p><code>resource文件夹</code></p>
<p><img src="https://img-blog.csdnimg.cn/4861db367830429bb5d0409d42ef464e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<hr>
<p><code>Gradle</code></p>
<ul>
<li>
<p>这是一个用于Android将项目打包成app的工具</p>
<p><img src="https://img-blog.csdnimg.cn/b1eb4c4e3b664417ab1a9ed1cc5085c7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>对于它,只需要看build.gradle(app的那个)就行</p>
</li>
<li>
<p>这里面包括了很多配置的版本(例如JDK)</p>
</li>
</ul>
<hr>
<h1 id="step3处理缩略图的三种方法">Step3.处理缩略图的三种方法</h1>
<ul>
<li>
<p>第一种是BitmapFactory和BitmapFactory.Options 。</p>
<blockquote>
<p>首先，BitmapFactory.Options有几个Fields很有用：
inJustDecodeBounds：If set to true, the decoder  will return null (no bitmap), but the out&hellip;
也就是说，当inJustDecodeBounds设成true时，bitmap并不加载到内存，这样效率很高哦。而这时，你可以获    	得bitmap的高、宽等信息。
outHeight：The resulting height of the bitmap, set independent of the state of inJustDecodeBounds.
outWidth：The resulting width of the bitmap, set independent of the state of inJustDecodeBounds. 
看到了吧，上面3个变量是相关联的哦。
inSampleSize ：   If set to a value &gt; 1, requests the decoder to subsample the original image, returning a smaller image to save memory.
这就是用来做缩放比的。这里有个技巧：
inSampleSize=（outHeight/Height+outWidth/Width）/2
实践证明，这样缩放出来的图片还是很好的。
最后用BitmapFactory.decodeFile(path, options)生成。
由于只是对bitmap加载到内存一次，所以效率比较高。解析速度快。</p>
</blockquote>
</li>
<li>
<p>第二种是使用Bitmap加Matrix来缩放。</p>
<blockquote>
<p>首先要获得原bitmap，再从原bitmap的基础上生成新图片。这样效率很低。</p>
</blockquote>
</li>
<li>
<p>第三种是用2.2新加的类ThumbnailUtils来做。</p>
<blockquote>
<p>让我们新看看这个类，从API中来看，此类就三个静态方法：createVideoThumbnail、extractThumbnail(Bitmap source, int width, int height, int options)、extractThumbnail(Bitmap source, int width, int height)。</p>
</blockquote>
</li>
</ul>
<hr>
<h1 id="实战1记事本1已经作废">实战1.记事本1(已经作废)</h1>
<h2 id="不可或缺的intent">不可或缺的intent</h2>
<ul>
<li>创建记事本项目,肯定不会只有一个页面,需要编辑页面、显示页面等,这就需要编写不同的类</li>
<li>MainActivity.java是app的主页面</li>
<li>在和MainActivity.java同级目录下创建一个EditActivity.java类</li>
</ul>
<p><code>MainActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Android-Java页面中,新版本每个页面类都必须继承AppCompatActivity类,而且必须重写onCreate方法</p>
</blockquote>
<blockquote>
<p>android中所有的活动都要继承于Activity，而AppCompatActivity是Activtiy的子类。AppCompatActivity是一种向下兼容的Activity，它可以将Activtiy在各个系统版本增加的特性和功能最低兼容到Android2.1系统。</p>
</blockquote>
<p><code>EditActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EditActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">edit_layout</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>看MainActivity.java</p>
<p><img src="https://img-blog.csdnimg.cn/2e47cd9efb4e4154abbcb64a107f078f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>一个Java页面类关联一个layout,所以也需要创建一个edit_layout.xml</p>
</li>
</ul>
<p><code>edit_layout.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>

<span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>更改布局之前不是这样的</p>
</blockquote>
<blockquote>
<p>创建一个<code>edit_layout.xml</code>,然后输入activity根据提示生成就好了</p>
</blockquote>
<blockquote>
<p>在setContentView中要指定layout文件的文件名(上面图黄框),这和MyBatis的接口和xml的命名空间是一样的</p>
</blockquote>
<h3 id="页面布局">页面布局</h3>
<ul>
<li>
<p>constraintlayout是最简单的布局,它文字会自动居中</p>
</li>
<li>
<p>如果想自定义,可以将其改成相对布局</p>
<p><img src="https://img-blog.csdnimg.cn/5829e8754c3a4b72ae92dc6666d0dafd.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>这样文字就会跑到页面左上角</p>
</li>
<li>
<p>老版本的AndroidStudio可以通过Preview窗口去查看和调试安卓页面的组件</p>
</li>
<li>
<p>新版本是在design中</p>
</li>
<li>
<p>但是需要开启这个磁铁才可以编辑</p>
<p><img src="https://img-blog.csdnimg.cn/5fef706caa524164b8675528c94d7453.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>开启之后,就可以将文字拖动到页面的任何位置</p>
<p><img src="https://img-blog.csdnimg.cn/9498f4907ced4e2ea2ac8b89b516bee6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
</ul>
<hr>
<h3 id="给页面加添加按钮">给页面加添加按钮</h3>
<ul>
<li>
<p>基础配置完成之后,给页面搞一个添加文档的按钮</p>
</li>
<li>
<p>需要在design页面导入一个Float Action Button,并将其拖动到design中想放置按钮的位置</p>
<p><img src="https://img-blog.csdnimg.cn/0e700977ad624e7eba42a8941328e27e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>拖动成功后,就可以看到页面的xml文件中多了一个按钮标签</p>
</li>
<li>
<p>按钮添加成功后,给按钮添加图标样式</p>
</li>
<li>
<p>在drawable下新建一个矢量图标(Vector Asset)</p>
<p><img src="https://img-blog.csdnimg.cn/b2cbf1ff3aa5461eba4c211caac454bf.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>点击Clip Art可以选择图标样式</p>
<p><img src="https://img-blog.csdnimg.cn/6d55348c773242f794273010a87160ce.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<p><img src="https://img-blog.csdnimg.cn/2a9b42d8212c4b09975000910bbc3ec8.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>选择后一路确定就好了</p>
</li>
<li>
<p>可以看到,添加的这个矢量图标其实也是一个xml文件</p>
</li>
<li>
<p>然后需要将新建的这个矢量图标添加到activity_main.xml中的按钮的配置中</p>
<p><img src="https://img-blog.csdnimg.cn/29635bdc4bd143ec9f220eca5e12f111.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<blockquote>
<p>srcCompat(源文件兼容):value为矢量图标的路径</p>
<p>@相当于定位,这里就是定位在drawable下</p>
</blockquote>
</li>
<li>
<p>安装app</p>
<p><img src="https://img-blog.csdnimg.cn/bb9a0290d30e422e8248925f3a07e088.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
</ul>
<h3 id="给按钮绑定点击事件">给按钮绑定点击事件</h3>
<ul>
<li>
<p>在activity_main.xml中,可以看到页面中每一个组件都有自己的id,用于在java文件中寻找到这个组件并绑定事件</p>
<p><img src="https://img-blog.csdnimg.cn/2f3d924ed3884d7aa8339dd11ca69cf1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<blockquote>
<p>这里给它设置成fab</p>
</blockquote>
</li>
<li>
<p>然后在主类中为这个按钮添加并绑定点击事件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">com.google.android.material.floatingactionbutton.FloatingActionButton</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="c1">// 随便定义的变量用于测试点击事件发生后的输出
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&#34;tag&#34;</span><span class="o">;</span>
  
    <span class="c1">//按钮类,和activity_main.xml文件中引入的FloatingActionButton是一样的
</span><span class="c1"></span>    <span class="n">FloatingActionButton</span> <span class="n">floatingActionButton</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
  
        <span class="cm">/*
</span><span class="cm">         * 通过xml文件中FloatingActionButton组件的id,将xml文件中(视图中的FloatingActionButton和java文件中定义的FloatActionButton关联起来)
</span><span class="cm">         * 这种绑定通过(AppCompatActivity)findViewById实现
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">FloatingActionButton</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fab</span><span class="o">);</span>
  
        <span class="cm">/*
</span><span class="cm">         * 通过setOnClickListener方法给按钮设置点击事件
</span><span class="cm">         * new View.OnClickListener()是点击事件的监听
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">(){</span>
            <span class="c1">//重写onClick方法,这就是真正的点击事件
</span><span class="c1"></span>            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//在日志控制台中(logcat)输出信息
</span><span class="c1"></span>                <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="s">&#34;onClick&#34;</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>run</p>
</li>
<li>
<p>点击按钮</p>
<p><img src="https://img-blog.csdnimg.cn/ea3eac6f57b74b03839ccb8c1943831b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
</ul>
<p><code>Android中的View类详解</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">Android中的View类代表用户界面中基本的构建块.一个View在屏幕中占据一个矩形区域、并且负责绘制和事件处理.View是所有widgets的基础类,widgets是我们通常用于创建和用户交互的组件,比如按钮、文本输入框等等.子类ViewGroup是所有布局（layout）的基础类,layout是一个不看见的容器,里面堆放着其他的view或者ViewGroup,并且设置他们的布局属性.

view都有一个Integer属性的id,这个id一般是在定义viewxml文件中设置的.被用于在指定的view树中查找view.常见的一种形式:

在布局文件中定义个按钮，并给它设置唯一的id

&lt;Button
     android:id=&#34;@+id/my_button&#34;
     android:layout_width=&#34;wrap_content&#34;
     android:layout_height=&#34;wrap_content&#34;
     android:text=&#34;@string/my_button_text&#34;/&gt;
     
在Activity的onCreate方法中查找这个按钮:
	Button myButton = findViewById(R.id.my_button);
</code></pre></td></tr></table>
</div>
</div><h3 id="实现点击按钮页面的跳转">实现点击按钮页面的跳转</h3>
<ul>
<li>
<p>这个按钮添加的初衷就是为了添加文本</p>
</li>
<li>
<p>所以点击它会跳转到另一个页面上</p>
</li>
<li>
<p>目前有两个类(主类和EditActivity.java)</p>
</li>
<li>
<p>肯定是从主类跳转到EditActivity类</p>
</li>
<li>
<p>这里需要使用一个Intent类,它相当于一个信号,构造器是两个页面类</p>
</li>
<li>
<p>new出对象后,只需要启动(startActivity这个跳转对象就好了</p>
<blockquote>
<p>在这个类中,凡是前面没写对象点的并且没有new过这个对象,那就很有可能是这个类继承的类中的方法,就拿过来直接用了</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">com.google.android.material.floatingactionbutton.FloatingActionButton</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="c1">// 随便定义的变量用于测试点击事件发生后的输出
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&#34;tag&#34;</span><span class="o">;</span>
  
    <span class="c1">//按钮类,和activity_main.xml文件中引入的FloatingActionButton是一样的
</span><span class="c1"></span>    <span class="n">FloatingActionButton</span> <span class="n">floatingActionButton</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
  
        <span class="cm">/*
</span><span class="cm">         * 通过xml文件中FloatingActionButton组件的id,将xml文件中(视图中的FloatingActionButton和java文件中定义的FloatActionButton关联起来)
</span><span class="cm">         * 这种绑定通过(AppCompatActivity)findViewById实现
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">FloatingActionButton</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fab</span><span class="o">);</span>
  
        <span class="cm">/*
</span><span class="cm">         * 通过setOnClickListener方法给按钮设置点击事件
</span><span class="cm">         * new View.OnClickListener()是点击事件的监听
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">(){</span>
            <span class="c1">//重写onClick方法,这就是真正的点击事件
</span><span class="c1"></span>            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">//                //在日志控制台中(logcat)输出信息
</span><span class="c1">//                Log.d(TAG,&#34;onClick&#34;);
</span><span class="c1"></span>                <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="n">EditActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="跳转成功后实现在页面中的输入">跳转成功后实现在页面中的输入</h3>
<ul>
<li>
<p>和前端一样,输入就是使用text这种类似的组件</p>
</li>
<li>
<p>编辑edit_layout.xml文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>
  
    <span class="nt">&lt;EditText</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;&lt;/EditText&gt;</span>
  
<span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>在文件中加上&lt;EditText组件,然后长宽都为父元素宽度</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/309d4b288f574fefbef8186ba5b74431.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>但现在问题来了,光标默认是从页面中间的位置向两边扩展</p>
</li>
<li>
<p>在edit_layout.xml中添加gravity</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>
  
    <span class="nt">&lt;EditText</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:gravity=</span><span class="s">&#34;top&#34;</span><span class="nt">&gt;&lt;/EditText&gt;</span>
  
<span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>gravity是重力的意思,这里将光标重力设置为top,即为光标默认在app页面最顶端</p>
<p><img src="https://img-blog.csdnimg.cn/4a02847c3138402b9f552e820ecc574e.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
</ul>
<h3 id="实现将编辑页面中的输入传回服务器">实现将编辑页面中的输入传回服务器</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.android.material.floatingactionbutton.FloatingActionButton</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="c1">// 随便定义的变量用于测试点击事件发生后的输出
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&#34;tag&#34;</span><span class="o">;</span>

    <span class="c1">//按钮类,和activity_main.xml文件中引入的FloatingActionButton是一样的
</span><span class="c1"></span>    <span class="n">FloatingActionButton</span> <span class="n">floatingActionButton</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="cm">/*
</span><span class="cm">         * 通过xml文件中FloatingActionButton组件的id,将xml文件中(视图中的FloatingActionButton和java文件中定义的FloatActionButton关联起来)
</span><span class="cm">         * 这种绑定通过(AppCompatActivity)findViewById实现
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">FloatingActionButton</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fab</span><span class="o">);</span>

        <span class="cm">/*
</span><span class="cm">         * 通过setOnClickListener方法给按钮设置点击事件
</span><span class="cm">         * new View.OnClickListener()是点击事件的监听
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">(){</span>
            <span class="c1">//重写onClick方法,这就是真正的点击事件
</span><span class="c1"></span>            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">//                //在日志控制台中(logcat)输出信息
</span><span class="c1">//                Log.d(TAG,&#34;onClick&#34;);
</span><span class="c1"></span>                <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="n">EditActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="c1">//                startActivity(intent);
</span><span class="c1"></span>                <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">intent</span><span class="o">,</span><span class="n">0</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="c1">// 这个data是接收另一个Activity传回来的数据,类型也是intent(其实我猜就是另外一个Activity将自己的Intent传回来)
</span><span class="c1"></span>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onActivityResult</span><span class="o">(</span><span class="n">requestCode</span><span class="o">,</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
        <span class="k">assert</span> <span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
        
        <span class="c1">// getStringExtra,获取传回来的Intent对象中指定key的value
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">editText</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">&#34;input&#34;</span><span class="o">);</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="n">TAG</span><span class="o">,</span><span class="n">editText</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>如果想在Activity中得到新打开Activity 关闭后返回的数据，需要使用系统提供的startActivityForResult(Intent intent, int requestCode)方法打开新的Activity，新的Activity 关闭后会向前面的Activity传回数据，为了得到传回的数据，必须在前面的Activity中重写onActivityResult(int requestCode, int resultCode, Intent data)方法</p>
</blockquote>
<hr>
<ul>
<li>
<p>像主页设置按钮一样,Edit页面中也存在输入框,所以需要在EditActivity.java中将这个输入框添加(new)并关联(id)</p>
</li>
<li>
<p>给输入框设置一个id</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>
  
    <span class="nt">&lt;EditText</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/edit&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:gravity=</span><span class="s">&#34;top&#34;</span><span class="nt">&gt;&lt;/EditText&gt;</span>
  
<span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p><code>EditActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.KeyEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EditActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="n">EditText</span> <span class="n">editText</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">edit_layout</span><span class="o">);</span>
        <span class="n">editText</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">edit</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onKeyDown</span><span class="o">(</span><span class="kt">int</span> <span class="n">keyCode</span><span class="o">,</span> <span class="n">KeyEvent</span> <span class="n">keyEvent</span><span class="o">){</span>
        <span class="c1">// 如果按下了手机上的home键(中心键,IOS唯一的那个键)
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">keyCode</span> <span class="o">==</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="na">KEYCODE_HOME</span><span class="o">){</span>
            <span class="c1">//什么都不发生
</span><span class="c1"></span>            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">//如果按下了返回键(Android上的左边退步键)
</span><span class="c1"></span>        <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">keyCode</span> <span class="o">==</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="na">KEYCODE_BACK</span><span class="o">){</span>
            <span class="c1">// new一个Intent对象
</span><span class="c1"></span>            <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>

            <span class="c1">// 获取输入框中的内容,并将它以key-value的形式存储在当前的Intent中
</span><span class="c1"></span>            <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;input&#34;</span><span class="o">,</span><span class="n">editText</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>

            <span class="c1">// 设置结果
</span><span class="c1"></span>            <span class="n">setResult</span><span class="o">(</span><span class="n">RESULT_OK</span><span class="o">,</span><span class="n">intent</span><span class="o">);</span>

            <span class="c1">// 结束当前运行,跳转回设有startActivity()的页面
</span><span class="c1"></span>            <span class="n">finish</span><span class="o">();</span>

            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">onKeyDown</span><span class="o">(</span><span class="n">keyCode</span><span class="o">,</span><span class="n">keyEvent</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="" alt="Photo"><img src="C:%5CUsers%5C%E5%BC%A0%E5%AE%87%E8%88%AA%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211104170812621.png" alt="image-20211104170812621"></p>
<h3 id="流程详解">流程详解</h3>
<p><code>startActivityForResult和startActivity的区别</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">1.startActivity()
	仅仅是跳转到目标页面，若是想跳回当前页面，则必须再使用一次startActivity()
2.startActivityForResult()
	可以一次性完成这项任务,当程序执行到这段代码的时候,假若从T1Activity跳转到下一个	    	Text2Activity,而当这个Text2Activity调用了finish()方法以后,程序会自动跳转回				T1Activity,并调用前一个T1Activity中的onActivityResult()方法
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>这里有一个大前提就是:无论是startActivity还是startAcrivityForResult,都用于跳转到目标界面</p>
</blockquote>
<p><code>初始跳转页面的onActivityResult方法</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">重写onActivityResult方法，用来接收B回传的数据。
</code></pre></td></tr></table>
</div>
</div><p><code>跳转到的那个页面的setResult方法</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">在B中回传数据时采用setResult方法，并且之后要调用finish方法。

setResult(RESULT_OK, intent); //intent为A传来的带有Bundle的intent，当然也可以自己定义新的Bundle
finish();//此处一定要调用finish()方法

Android activity的setResult()在什么时候调用(重点也是难点)

如果在startActivityForResult起来的 Activity里面设置setResult,结果并不会马上返回给parent的Activity,只有当前Activity被finish,结果才会 被发送给parent的onActivityResult去处理!

如果一个activity要返回数据到启动它的那个activity，可以调用setResult()方法。
</code></pre></td></tr></table>
</div>
</div><p><code>整体流程解析</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">如果想在Activity中得到新打开Activity 关闭后返回的数据，需要使用系统提供的startActivityForResult(Intent intent, int requestCode)方法打开新的Activity，新的Activity 关闭后会向前面的Activity传回数据，为了得到传回的数据，必须在前面的Activity中重写onActivityResult(int requestCode, int resultCode, Intent data)方法

当新Activity关闭后，新Activity返回的数据通过Intent进行传递，android平台会调用前面Activity 的onActivityResult()方法，把存放了返回数据的Intent作为第三个输入参数传入，在onActivityResult()方法中使用第三个输入参数可以取出新Activity返回的数据
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">使用startActivityForResult(Intent intent, int requestCode)方法打开新的Activity，新Activity关闭前需要向前面的Activity返回数据需要使用系统提供的setResult(int resultCode, Intent data)方法实现
</code></pre></td></tr></table>
</div>
</div><h2 id="数据库操作与笔记显示">数据库操作与笔记显示</h2>
<ul>
<li>
<p>Android机器上跑的是SQLite,虽然这玩应没什么人用,但是架不住它轻量级,而且是一种仿MySQL的数据库</p>
</li>
<li>
<p>新建一个笔记对象[笔记id(数据库中自增)、文本内容、创建时间、标签]</p>
<p><code>Note.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Note</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">content</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">time</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">mode</span><span class="o">;</span>
  
    <span class="kd">public</span> <span class="nf">Note</span><span class="o">()</span> <span class="o">{</span>
  
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="nf">Note</span><span class="o">(</span><span class="n">String</span> <span class="n">content</span><span class="o">,</span> <span class="n">String</span> <span class="n">time</span><span class="o">,</span> <span class="kt">int</span> <span class="n">mode</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">time</span> <span class="o">=</span> <span class="n">time</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">mode</span> <span class="o">=</span> <span class="n">mode</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getContent</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">content</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setContent</span><span class="o">(</span><span class="n">String</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTime</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTime</span><span class="o">(</span><span class="n">String</span> <span class="n">date</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">time</span> <span class="o">=</span> <span class="n">date</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMode</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">mode</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTag</span><span class="o">(</span><span class="kt">int</span> <span class="n">mode</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">mode</span> <span class="o">=</span> <span class="n">mode</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&#34;Note{&#34;</span> <span class="o">+</span>
                <span class="s">&#34;id=&#34;</span> <span class="o">+</span> <span class="n">id</span> <span class="o">+</span>
                <span class="s">&#34;, content=&#39;&#34;</span> <span class="o">+</span> <span class="n">content</span> <span class="o">+</span> <span class="sc">&#39;\&#39;&#39;</span> <span class="o">+</span>
                <span class="s">&#34;, time=&#39;&#34;</span> <span class="o">+</span> <span class="n">time</span> <span class="o">+</span> <span class="sc">&#39;\&#39;&#39;</span> <span class="o">+</span>
                <span class="s">&#34;, mode=&#34;</span> <span class="o">+</span> <span class="n">mode</span> <span class="o">+</span>
                <span class="sc">&#39;}&#39;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>然后写一个数据库处理器类,用于创建数据库</p>
<p><code>NoteDatabase.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteOpenHelper</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
  
<span class="c1">//继承了数据库类处理器这个类,这个类的构造方法实例化的类就是数据库数据库处理器
</span><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NoteDatabase</span> <span class="kd">extends</span> <span class="n">SQLiteOpenHelper</span> <span class="o">{</span>
    <span class="c1">//这些全局常量就是为了方便使用,不写在SQL语句中直接写字段名称也可以
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TABLE_NAME</span> <span class="o">=</span> <span class="s">&#34;notes&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ID</span> <span class="o">=</span> <span class="s">&#34;_id&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CONTENT</span> <span class="o">=</span> <span class="s">&#34;content&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TIME</span> <span class="o">=</span> <span class="s">&#34;time&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">MODE</span> <span class="o">=</span> <span class="s">&#34;mode&#34;</span><span class="o">;</span>
  
    <span class="c1">//继承SQLiteOpenHelper类必须有构造器,而且参数是Context
</span><span class="c1"></span>    <span class="c1">//这是规定
</span><span class="c1"></span>    <span class="kd">public</span> <span class="nf">NoteDatabase</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//context就是上下文,TABLE_NAME是数据表名称,工厂可以为空,version(版本号)就是当前自己编写的配置的版本,这由自己决定
</span><span class="c1"></span>        <span class="cm">/*
</span><span class="cm">         * version(版本号)由自己决定,如果开发者更改了配置,那就可以更改版本号
</span><span class="cm">         * SQLiteDatabase就会自动调用onUpgrade方法,扫描版本号,如果版本号有改变,就进行更新操作
</span><span class="cm">         */</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">TABLE_NAME</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">1</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="c1">// Android中每个类都必须重写onCreate方法,用于构建类以及初始化
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">)</span> <span class="o">{</span>
  
        <span class="c1">//创建数据库表
</span><span class="c1"></span>        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">execSQL</span><span class="o">(</span><span class="s">&#34;CREATE TABLE &#34;</span> <span class="o">+</span> <span class="n">TABLE_NAME</span>
                <span class="o">+</span> <span class="s">&#34;(&#34;</span>
                <span class="c1">// 主键自增,所以Note类构造器没有id
</span><span class="c1"></span>                <span class="o">+</span> <span class="n">ID</span> <span class="o">+</span> <span class="s">&#34;INTEGER PRIMARY KEY AUTOINCREMENT,&#34;</span>
                <span class="o">+</span> <span class="n">CONTENT</span> <span class="o">+</span> <span class="s">&#34;TEXT NOT NULL,&#34;</span>
                <span class="o">+</span> <span class="n">TIME</span> <span class="o">+</span> <span class="s">&#34;TEXT NOT NULL,&#34;</span>
                <span class="o">+</span> <span class="n">MODE</span> <span class="o">+</span> <span class="s">&#34;INTEGER DEFAULT 1)&#34;</span><span class="o">);</span>
    <span class="o">}</span>
  
      
    <span class="c1">// versiond
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="c1">//这个SQLiteDatabase就是指向哪个数据库
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpgrade</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">,</span> <span class="kt">int</span> <span class="n">oldVersion</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newVersion</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">//        for(int i = oldVersion;i &lt; newVersion;i++){
</span><span class="c1">//            if(i == 1){
</span><span class="c1">//                continue;
</span><span class="c1">//            }else{
</span><span class="c1">//                updateMode(sqLiteDatabase);
</span><span class="c1">//            }
</span><span class="c1">//        }
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>有了数据库后,就可以进行增删改查了</p>
<p><code>CRUD.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.annotation.SuppressLint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.Cursor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteOpenHelper</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">java.lang.reflect.Array</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CRUD</span> <span class="o">{</span>
    <span class="c1">//数据库处理器
</span><span class="c1"></span>    <span class="n">SQLiteOpenHelper</span> <span class="n">sqLiteOpenHelper</span><span class="o">;</span>
  
    <span class="c1">//数据库类
</span><span class="c1"></span>    <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>
  
    <span class="c1">//数据库长什么样
</span><span class="c1"></span>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">columns</span> <span class="o">=</span> <span class="o">{</span>
            <span class="n">NoteDatabase</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span>
            <span class="n">NoteDatabase</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span>
            <span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span>
            <span class="n">NoteDatabase</span><span class="o">.</span><span class="na">MODE</span><span class="o">,</span>
    <span class="o">};</span>
  
    <span class="cm">/*
</span><span class="cm">     * 构造器中new一个数据库处理器
</span><span class="cm">     * 数据库处理器用于对数据库进行创建、开启、关闭等操作
</span><span class="cm">     */</span>
    <span class="kd">public</span> <span class="nf">CRUD</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">){</span>
        <span class="n">sqLiteOpenHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NoteDatabase</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="cm">/*
</span><span class="cm">     * 开启数据库
</span><span class="cm">     * 使用数据库处理器实例化一个数据库对象,并且是可进行可写操作的数据库
</span><span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">open</span><span class="o">(){</span>
        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">sqLiteOpenHelper</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>
    <span class="o">}</span>
  
    <span class="c1">// 关闭数据库
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">(){</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
  
    <span class="c1">// addNote就是向数据表中添加笔记数据
</span><span class="c1"></span>    <span class="kd">public</span> <span class="n">Note</span> <span class="nf">addNote</span><span class="o">(</span><span class="n">Note</span> <span class="n">note</span><span class="o">){</span>
        <span class="c1">// new一个contentValues对象,用于存储key-value信息,主要是数据库的insert方法要的参数就是ContentValues类型的参数
</span><span class="c1"></span>        <span class="n">ContentValues</span> <span class="n">contentValues</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="n">note</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">note</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">MODE</span><span class="o">,</span><span class="n">note</span><span class="o">.</span><span class="na">getMode</span><span class="o">());</span>
  
        <span class="c1">// 向数据库中插入值后会返回它的id
</span><span class="c1"></span>        <span class="kt">long</span> <span class="n">id</span> <span class="o">=</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">contentValues</span><span class="o">);</span>
  
        <span class="c1">//将返回的id添加到参数传进来的对象中
</span><span class="c1"></span>        <span class="n">note</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
  
        <span class="c1">// 将这个对象返回
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">note</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="c1">// 根据id获取到指定的Note对象
</span><span class="c1"></span>    <span class="kd">public</span> <span class="n">Note</span> <span class="nf">getNote</span><span class="o">(</span><span class="kt">long</span> <span class="n">id</span><span class="o">){</span>
        <span class="cm">/*
</span><span class="cm">         * Cursor是指针
</span><span class="cm">         * 数据库执行SQL操作,参数是写死的
</span><span class="cm">         */</span>
        <span class="c1">//类似于preparedStatement.query();
</span><span class="c1"></span>        <span class="c1">// 这就相当于select * from TABLE_NAME where id = ?
</span><span class="c1"></span>        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="n">columns</span><span class="o">,</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">ID</span> <span class="o">+</span> <span class="s">&#34;=?&#34;</span><span class="o">,</span>
                        <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">id</span><span class="o">)},</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
  
        <span class="c1">// 如果指针不为空,就说明找到了
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">cursor</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">){</span>
            <span class="c1">// 将这个笔记对象移动到表最前面
</span><span class="c1"></span>            <span class="c1">// 和resultSet.next是一样的
</span><span class="c1"></span>            <span class="n">cursor</span><span class="o">.</span><span class="na">moveToFirst</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">assert</span> <span class="n">cursor</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
  
        <span class="c1">// 获取这个对象中的字段值,类似于ResultSet中的getString、getInt...
</span><span class="c1"></span>        <span class="k">return</span> <span class="k">new</span> <span class="n">Note</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">1</span><span class="o">),</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">2</span><span class="o">),</span><span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">3</span><span class="o">));</span>
    <span class="o">}</span>
  
    <span class="c1">// 获取表中所有笔记对象
</span><span class="c1"></span>    <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Note</span><span class="o">&gt;</span> <span class="nf">noteList</span><span class="o">(){</span>
        <span class="c1">// 这就相当于select * from TABLE_NAME
</span><span class="c1"></span>        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="n">columns</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Note</span><span class="o">&gt;</span> <span class="n">noteList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
  
        <span class="c1">// 获取这个指针下的所有对象的个数
</span><span class="c1"></span>        <span class="k">while</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getCount</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">){</span>
            <span class="n">Note</span> <span class="n">note</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Note</span><span class="o">();</span>
  
            <span class="c1">//cursor.getColumnIndex就是根据字段名称获取这个当前对象中这个字段在数据表中是第几个字段
</span><span class="c1"></span>            <span class="n">note</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getLong</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">ID</span><span class="o">)));</span>
            <span class="n">note</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">)));</span>
            <span class="n">note</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TIME</span><span class="o">)));</span>
            <span class="n">note</span><span class="o">.</span><span class="na">setMode</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">MODE</span><span class="o">)));</span>
            <span class="n">noteList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">note</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">noteList</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="c1">// 移除一个笔记
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteNote</span><span class="o">(</span><span class="n">Note</span> <span class="n">note</span><span class="o">){</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">ID</span> <span class="o">+</span> <span class="s">&#34;=&#34;</span> <span class="o">+</span> <span class="n">note</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span><span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="c1">// 更新笔记信息
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">updateNote</span><span class="o">(</span><span class="n">Note</span> <span class="n">note</span><span class="o">){</span>
        <span class="n">ContentValues</span> <span class="n">contentValues</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="n">note</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">note</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">MODE</span><span class="o">,</span><span class="n">note</span><span class="o">.</span><span class="na">getMode</span><span class="o">());</span>
  
        <span class="k">return</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="n">contentValues</span><span class="o">,</span><span class="n">NoteDatabase</span><span class="o">.</span><span class="na">ID</span> <span class="o">+</span> <span class="s">&#34;=?&#34;</span><span class="o">,</span><span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">note</span><span class="o">.</span><span class="na">getId</span><span class="o">())});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.media.AudioManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.media.MediaPlayer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.KeyEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.google.android.material.floatingactionbutton.FloatingActionButton</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="c1">// 随便定义的变量用于测试点击事件发生后的输出
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TAG</span> <span class="o">=</span> <span class="s">&#34;tag&#34;</span><span class="o">;</span>

    <span class="c1">//按钮类,和activity_main.xml文件中引入的FloatingActionButton是一样的
</span><span class="c1"></span>    <span class="n">FloatingActionButton</span> <span class="n">floatingActionButton</span><span class="o">;</span>

    <span class="cm">/*
</span><span class="cm">     * HelloWorld也是一个标签(TextView),现在想将HelloWorld替换成编辑页面中输入的内容,需要根据id获取到这个标签
</span><span class="cm">     * 然后在输入完成获取结果后将TextView的结果替换(setText)
</span><span class="cm">     */</span>
    <span class="n">TextView</span> <span class="n">textView</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">MediaPlayer</span> <span class="n">mediaPlayer</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">AudioManager</span> <span class="n">audiomanage</span> <span class="o">=</span> <span class="o">(</span><span class="n">AudioManager</span><span class="o">)</span><span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">AUDIO_SERVICE</span><span class="o">);</span>

        <span class="n">audiomanage</span><span class="o">.</span><span class="na">adjustStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span> <span class="n">AudioManager</span><span class="o">.</span><span class="na">ADJUST_RAISE</span><span class="o">,</span>
                <span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_REMOVE_SOUND_AND_VIBRATE</span><span class="o">);</span>
        <span class="n">audiomanage</span><span class="o">.</span><span class="na">setStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span><span class="n">audiomanage</span><span class="o">.</span><span class="na">getStreamMaxVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">),</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_SHOW_UI</span><span class="o">);</span>
        <span class="n">mediaPlayer</span> <span class="o">=</span> <span class="n">MediaPlayer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">music</span><span class="o">);</span>
        <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setLooping</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>


        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="n">textView</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">textView</span><span class="o">);</span>

        <span class="cm">/*
</span><span class="cm">         * 通过xml文件中FloatingActionButton组件的id,将xml文件中(视图中的FloatingActionButton和java文件中定义的FloatActionButton关联起来)
</span><span class="cm">         * 这种绑定通过(AppCompatActivity)findViewById实现
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">FloatingActionButton</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">fab</span><span class="o">);</span>

        <span class="cm">/*
</span><span class="cm">         * 通过setOnClickListener方法给按钮设置点击事件
</span><span class="cm">         * new View.OnClickListener()是点击事件的监听
</span><span class="cm">         */</span>
        <span class="n">floatingActionButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">(){</span>
            <span class="c1">//重写onClick方法,这就是真正的点击事件
</span><span class="c1"></span>            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">//                //在日志控制台中(logcat)输出信息
</span><span class="c1">//                Log.d(TAG,&#34;onClick&#34;);
</span><span class="c1"></span>                <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="n">EditActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="c1">//                startActivity(intent);
</span><span class="c1"></span>                <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">intent</span><span class="o">,</span><span class="n">0</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="c1">// 这个data是接收另一个Activity传回来的数据,类型也是intent(其实我猜就是另外一个Activity将自己的Intent传回来)
</span><span class="c1"></span>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="nd">@Nullable</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onActivityResult</span><span class="o">(</span><span class="n">requestCode</span><span class="o">,</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
        <span class="k">assert</span> <span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="c1">// getStringExtra,获取传回来的Intent对象中指定key的value
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">editText</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">&#34;input&#34;</span><span class="o">);</span>
<span class="c1">//        Log.d(TAG,editText);
</span><span class="c1"></span>        <span class="n">textView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">editText</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onKeyDown</span><span class="o">(</span><span class="kt">int</span> <span class="n">keyCode</span><span class="o">,</span> <span class="n">KeyEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">AudioManager</span> <span class="n">audiomanage</span> <span class="o">=</span> <span class="o">(</span><span class="n">AudioManager</span><span class="o">)</span><span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">AUDIO_SERVICE</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">keyCode</span> <span class="o">==</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="na">KEYCODE_VOLUME_DOWN</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">audiomanage</span><span class="o">.</span><span class="na">setStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span> <span class="n">audiomanage</span><span class="o">.</span><span class="na">getStreamMaxVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">),</span> <span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_SHOW_UI</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">onKeyDown</span><span class="o">(</span><span class="n">keyCode</span><span class="o">,</span> <span class="n">event</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="step4androidstudio常用操作">Step4.AndroidStudio常用操作</h1>
<h2 id="1定制app安装后的图标">1.定制app安装后的图标</h2>
<ul>
<li>
<p>将图片放到res下面的任意一个位置</p>
<p><img src="https://img-blog.csdnimg.cn/3c338d47a4e7422bab8e116c3637272b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
<li>
<p>这样就可以了</p>
</li>
</ul>
<h2 id="2将项目打包成apk">2.将项目打包成apk</h2>
<p><img src="https://img-blog.csdnimg.cn/ad58caa6ca6448369af85bf48d371994.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<p><img src="https://img-blog.csdnimg.cn/a8435b9cd56f47b1a31adaeb5da0b65c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<p><img src="https://img-blog.csdnimg.cn/4a51a750060c46658875668fcc965995.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<p><img src="https://img-blog.csdnimg.cn/5ba1213398444633834affc0ade5d35d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<blockquote>
<p>注意Alias是别名,要记住</p>
<p>设置完成后点OK,回到填写密码的界面</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/a5b5fa43d1ec442e9849a8665ab390d6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<p><img src="https://img-blog.csdnimg.cn/668a61a83b5043c3a60e4258c8595a9b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
<blockquote>
<p>然后就会在app目录下生成一个release文件夹,打开就可以看到app文件了</p>
</blockquote>
<hr>
<h1 id="实战2o泡果奶">实战2.O泡果奶</h1>
<h2 id="控制音量">控制音量</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">AudioManager</span> <span class="n">audioManager</span> <span class="o">=</span> <span class="o">(</span><span class="n">AudioManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">AUDIO_SERVICE</span><span class="o">);</span>       <span class="n">audioManager</span><span class="o">.</span><span class="na">setStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span><span class="n">15</span><span class="o">,</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_SHOW_UI</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>通过AudioManager类,可以对系统音量进行调整</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">AudioManager类位于android.Media 包中，通过getSystemService(Context.AUDIO_SERVICE)方法获得AudioManager实例对象。AudioManager audiomanage = (AudioManager)context.getSystemService(Context.AUDIO_SERVICE);
</code></pre></td></tr></table>
</div>
</div><p><code>audiomanager就是我们定义的控制系统声音的对象。</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-txt" data-lang="txt">常用的音量控制的方法如下：

获取系统的最大音量

getStreamMaxVolume（int streamType）

2.获取当前手机音量

getStreamVolume(int streamType) --- --- 返回int类型的结果，最大值为7最小值为0，为0时默认开启振动模式。

3.逐级性增大或减小音量（该方法不能直接设置音量为某个值，而是从当前音量逐级递减或递加，一般结合Button使用）

adjustStreamVolume(int  streamType,int  direction,int flags);

第二个参数为调整音量的方向，取值有：ADJUST_LOWER(降低声音), ADJUST_RAISE（增加声音）和ADJUST_SAME。

4.直接性设置音量大小（该方法适用于直接设置当前音量为某个值----一般结合SeekBar使用）

setStreamVolume(int streamType, int index, int flags)

第一个参数的几个值：

   AudioManager.STREAM_ALARM：手机闹铃的声音

   AudioManager.STREAM_MUSIC：手机音乐的声音

   AudioManager.STREAM_DTMF：DTMF音调的声音

   AudioManager. STREAM_RING：电话铃声的声音

   AudioManager. STREAM_NOTFICATION：系统提示的声音

   AudioManager.STREAM_SYSTEM：系统的声音

   AudioManager. STREAM_VOICE_CALL：语音电话声音

第二个表示调整音乐的大小，

第三个参数表示显示调整时的可选的标志位，常取值为AudioManager.FLAG_SHOW_UI；

5.设置指定类型的声音是否为静音，true代表为静音，false取消静音

setStreamMute(int  streamType,Boolean state):

如为播放音乐设置点击静音按钮时静音，则如下：

setStreamMute(AudioManager.STREAM_MUSIC, true)；

常用方法：
android audioManager获取音量：

先获取AudioManager实例，
AudioManager mAudioManager = (AudioManager)getSystemService(Context.AUDIO_SERVICE);

//通话音量

int max =mAudioManager.getStreamMaxVolume( AudioManager.STREAM_VOICE_CALL ); 

int current =mAudioManager.getStreamVolume( AudioManager.STREAM_VOICE_CALL ); 

//系统音量

int max =mAudioManager.getStreamMaxVolume( AudioManager.STREAM_SYSTEM ); 

current =mAudioManager.getStreamVolume( AudioManager.STREAM_SYSTEM ); 

//铃声音量

max =mAudioManager.getStreamMaxVolume( AudioManager.STREAM_RING ); 

current =mAudioManager.getStreamVolume( AudioManager.STREAM_RING ); 

//音乐音量

max =mAudioManager.getStreamMaxVolume( AudioManager.STREAM_MUSIC ); 

current =mAudioManager.getStreamVolume( AudioManager.STREAM_MUSIC ); 

 

//提示声音音量

max =mAudioManager.getStreamMaxVolume( AudioManager.STREAM_ALARM ); 

current =mAudioManager.getStreamVolume( AudioManager.STREAM_ALARM ); 
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">audioManager</span><span class="o">.</span><span class="na">setStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span><span class="n">15</span><span class="o">,</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_SHOW_UI</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>setStreamVolume是AudioManager的方法,用于设置系统音量的值.第一个第三个参数就是写死了,第二个参数是想设置的音量的大小</p>
</blockquote>
<ul>
<li>这里就可以通过监听音量按键来控制用户手机的音量</li>
</ul>
<blockquote>
<p>用到的是onKeyDown方法</p>
<p>这个方法从属于Activity类,需要重写,系统自动调用(效果覆盖整个当前app页面)</p>
<p>作用是监听用户按键事件</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onKeyDown</span><span class="o">(</span><span class="kt">int</span> <span class="n">keyCode</span><span class="o">,</span> <span class="n">KeyEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">AudioManager</span> <span class="n">audiomanage</span> <span class="o">=</span> <span class="o">(</span><span class="n">AudioManager</span><span class="o">)</span><span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">AUDIO_SERVICE</span><span class="o">);</span>
	<span class="k">if</span> <span class="o">(</span><span class="n">keyCode</span> <span class="o">==</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="na">KEYCODE_VOLUME_DOWN</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">audiomanage</span><span class="o">.</span><span class="na">setStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span> 				                 <span class="n">audiomanage</span><span class="o">.</span><span class="na">getStreamMaxVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">),</span> 	                       <span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_SHOW_UI</span><span class="o">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
	<span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">onKeyDown</span><span class="o">(</span><span class="n">keyCode</span><span class="o">,</span> <span class="n">event</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>这个方法就是如果用户按下音量减键,就将系统音量调成最大</p>
</blockquote>
<blockquote>
<p>AudioManage.getStreamMaxVolume();就是获取系统最大音量,通常都为15数量级</p>
</blockquote>
<hr>
<h2 id="播放音乐">播放音乐</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">MediaPlayer</span> <span class="n">mediaPlayer</span> <span class="o">=</span> <span class="n">MediaPlayer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">music</span><span class="o">);</span>
<span class="n">mediaPlayer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
<span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setLooping</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>播放音频文件使用MediaPlayer类,实例化这个类使用MediaPlayer类的create方法,参数是(当前类,音频文件)</p>
<p>实例化对象后,通过调用start方法开始播放音乐</p>
<p>setLooping就是设置是否循环播放,参数为boolean类型</p>
</blockquote>
<hr>
<h2 id="项目主代码">项目主代码</h2>
<p><code>MainActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.example.omilk</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.media.AudioManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.media.MediaPlayer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Build</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Handler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.KeyEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.Window</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.WindowManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>

<span class="cm">/*
</span><span class="cm"> * AudioManager用于控制系统声音
</span><span class="cm"> * MediaPlayer用于播放音频、视频等
</span><span class="cm"> */</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">AudioManager</span> <span class="n">audioManager</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">audioManager</span> <span class="o">=</span> <span class="o">(</span><span class="n">AudioManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">AUDIO_SERVICE</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="n">MediaPlayer</span> <span class="n">mediaPlayer</span> <span class="o">=</span> <span class="n">MediaPlayer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">music</span><span class="o">);</span>
        
        <span class="c1">// 播放音乐
</span><span class="c1"></span>        <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        
        <span class="c1">// 循环播放
</span><span class="c1"></span>        <span class="n">mediaPlayer</span><span class="o">.</span><span class="na">setLooping</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">){</span>
            <span class="c1">//设置系统音量
</span><span class="c1"></span>            <span class="n">audioManager</span><span class="o">.</span><span class="na">setStreamVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">,</span><span class="n">audioManager</span><span class="o">.</span><span class="na">getStreamMaxVolume</span><span class="o">(</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">STREAM_MUSIC</span><span class="o">),</span><span class="n">AudioManager</span><span class="o">.</span><span class="na">FLAG_SHOW_UI</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onBackPressed</span><span class="o">(){</span>
        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="s">&#34;竟然妄想退出???&#34;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>音乐正常,不在死循环里,通过setLooping的布尔值设置循环播放</p>
<p>将系统音量调整为最大音量放置在死循环中,而且死循环放在最后</p>
<p>这样顺序就是先播放音乐,音乐循环播放,然后无限循环将手机音量调整为最大</p>
</blockquote>
<ul>
<li>
<p>onBackPressed();方法</p>
<blockquote>
<p>按下返回键就会调用这个方法</p>
</blockquote>
</li>
<li>
<p>Total</p>
<blockquote>
<p>Toast是Android中用来显示显示信息的一种机制，和Dialog不一样的是，Toast是没有焦点的，而且Toast显示的时间有限，过一定的时间就会自动消失。</p>
</blockquote>
<p><code>默认样式</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="s">&#34;默认Toast样式&#34;</span><span class="o">,</span><span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h1 id="实战3记事本success">实战3.记事本(Success)</h1>
<h2 id="数据库测试">数据库测试</h2>
<ul>
<li>
<p>创建一个项目<code>NotePad</code></p>
</li>
<li>
<p>需要处理两个地方</p>
</li>
<li>
<p>一个就是把<code>build.gradle</code>中的JDK版本改成15</p>
</li>
<li>
<p>第二个就是<code>Settings -&gt; Build,Excution,Deployment -&gt;Build Tools -&gt; Gradle</code>中的JDK路径改成</p>
<blockquote>
<p>C:\Program Files\Java\jdk-15.0.1</p>
</blockquote>
</li>
<li>
<p>然后正常来说项目就可以运行了</p>
</li>
<li>
<p>在<code>app/java/com.zhang.notepad</code>下创建数据库<code>NotesDB.java</code></p>
<p><code>NotesDB.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteOpenHelper</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotesDB</span> <span class="kd">extends</span> <span class="n">SQLiteOpenHelper</span> <span class="o">{</span>
    <span class="c1">// 数据表名
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TABLE_NAME</span> <span class="o">=</span> <span class="s">&#34;notes&#34;</span><span class="o">;</span>
      
    <span class="c1">// 每条笔记的内容
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CONTENT</span> <span class="o">=</span> <span class="s">&#34;content&#34;</span><span class="o">;</span>
      
    <span class="c1">// 每条笔记的id(自增)
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ID</span> <span class="o">=</span> <span class="s">&#34;_id&#34;</span><span class="o">;</span>
      
    <span class="c1">//笔记创建时间
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TIME</span> <span class="o">=</span> <span class="s">&#34;time&#34;</span><span class="o">;</span>
  
  <span class="c1">//需要实现构造器,只留下content
</span><span class="c1"></span>    <span class="kd">public</span> <span class="nf">NotesDB</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 参数 -&gt; content 库名 工厂(直接传null) app版本号
</span><span class="c1"></span>        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="s">&#34;notes&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">1</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="c1">// 创建数据表的方法(执行SQL语句)
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">execSQL</span><span class="o">(</span><span class="s">&#34;CREATE TABLE &#34;</span> <span class="o">+</span> <span class="n">TABLE_NAME</span> <span class="o">+</span> <span class="s">&#34;(&#34;</span>
                <span class="c1">// 前面要有空格,不然字段名和后面的会连在一起
</span><span class="c1"></span>                <span class="c1">// SQLite中的整形是INTEGER,字符串是TEXT
</span><span class="c1"></span>                <span class="o">+</span> <span class="n">ID</span> <span class="o">+</span> <span class="s">&#34; INTEGER PRIMARY KEY AUTOINCREMENT,&#34;</span>
                <span class="o">+</span> <span class="n">CONTENT</span> <span class="o">+</span> <span class="s">&#34; TEXT NOT NULL,&#34;</span>
                <span class="o">+</span> <span class="n">TIME</span> <span class="o">+</span> <span class="s">&#34; TEXT NOT NULL)&#34;</span>
        <span class="o">);</span>
    <span class="o">}</span>
  
    <span class="c1">// 更新数据库的方法,一般不需要更新
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpgrade</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i1</span><span class="o">)</span> <span class="o">{</span>
  
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>然后在主方法中进行测试</p>
<p><code>MainActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="c1">// 声明一个数据库配置器(其实SQLiteOpenHelper就是一个数据库配置器,用于创建数据表等操作)
</span><span class="c1"></span>    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
      
    <span class="c1">// SQLiteDatabase就是一个数据库对象,使用SQLiteOpenHelpe对其进行配置后它就可以进行增删改查操作了
</span><span class="c1"></span>      
    <span class="c1">//就是SQLiteOpenHelper是数据库和数据表,SQLiteDatabase是一个数据库操作对象,可以对其进行操作,但两者需要使用一些方法进行绑定
</span><span class="c1"></span>    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
          
        <span class="c1">// 初始化数据库和数据表
</span><span class="c1"></span>        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
          
        <span class="c1">// 将SQLiteDatabase对象设置为可读可写(同时也将数据库操作对象和数据库绑定了)
</span><span class="c1"></span>        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>
        <span class="n">addNote</span><span class="o">();</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addNote</span><span class="o">(){</span>
        <span class="cm">/* ContentValues是一个只可以储存基本数据类型的类
</span><span class="cm">         * 它有很多get方法,例如get(String,Integer),get(Short,String)......
</span><span class="cm">         */</span>
        <span class="n">ContentValues</span> <span class="n">contentValues</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="s">&#34;hello&#34;</span><span class="o">);</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">getTime</span><span class="o">());</span>
          
        <span class="c1">// 参数 -&gt; 数据表名 条件 要插入的值
</span><span class="c1"></span>        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">contentValues</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getTime</span><span class="o">(){</span>
        <span class="n">SimpleDateFormat</span> <span class="n">simpleDateFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&#34;yyyy年MM月dd日 HH:mm:ss&#34;</span><span class="o">);</span>
        <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">dateStr</span> <span class="o">=</span> <span class="n">simpleDateFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">dateStr</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>当然运行是没有任何可视效果的</p>
</li>
<li>
<p>需要知道的是,Android内置了SQLite</p>
</li>
<li>
<p>安装插件</p>
<p><img src="https://img-blog.csdnimg.cn/c1b4494398d64715b6a6a4fdcf5f7ba4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
<li>
<p><img src="https://img-blog.csdnimg.cn/3412c32eaf81408987664fa4a81effa5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<blockquote>
<p>找到创建的数据库表</p>
</blockquote>
</li>
<li>
<p>右键导出,加上.db后缀</p>
</li>
<li>
<p>使用数据库查看工具打开文件</p>
<p><img src="https://img-blog.csdnimg.cn/8bb839f0dc514baa8d2fc1116c01460c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<hr>
<h2 id="主页面ui设计">主页面UI设计</h2>
<ul>
<li>
<p>进入<code>activity_main.xml</code></p>
<p><code>activity_main.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
    <span class="na">tools:context=</span><span class="s">&#34;.MainActivity&#34;</span><span class="nt">&gt;</span>
  
<span class="c">&lt;!--    上方三个按钮块--&gt;</span>
    <span class="nt">&lt;LinearLayout</span>
    <span class="err">&lt;!--</span>        <span class="err">高度--</span><span class="nt">&gt;</span>
        android:layout_width=&#34;fill_parent&#34;
<span class="c">&lt;!--    宽度:自适应--&gt;</span>
        android:layout_height=&#34;wrap_content&#34;
<span class="c">&lt;!--    布局方向:水平布局--&gt;</span>
        android:orientation=&#34;horizontal&#34;&gt;
  
<span class="c">&lt;!--    文字按钮--&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/text&#34;</span>
<span class="err">&lt;!--</span>            <span class="err">按钮上显示的文字--</span><span class="nt">&gt;</span>
            android:text=&#34;文字&#34; /&gt;
  
<span class="c">&lt;!--    图片按钮--&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/img&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;图文&#34;</span> <span class="nt">/&gt;</span>
  
<span class="c">&lt;!--    视频按钮--&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/video&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;视频&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
  
<span class="c">&lt;!--搞个列表,我尼玛显示不出来--&gt;</span>
    <span class="nt">&lt;ListView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/list&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/ListView&gt;</span>
  
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>然后又写了个<code>cell.xml</code>,我目前也不知道它是干什么的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="nt">&gt;</span>
  
    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>
  
  
        <span class="nt">&lt;ImageView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/list_img&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;ImageView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/list_video&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">/&gt;</span>
  
  
        <span class="nt">&lt;LinearLayout</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;center_vertical&#34;</span>
            <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;TextView</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:id=</span><span class="s">&#34;@+id/list_content&#34;</span>
                <span class="na">android:text=</span><span class="s">&#34;tv&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;TextView</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:id=</span><span class="s">&#34;@+id/list_time&#34;</span>
                <span class="na">android:text=</span><span class="s">&#34;tv&#34;</span><span class="nt">/&gt;</span>
  
        <span class="nt">&lt;/LinearLayout&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
  
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>不过根据代码和预览猜测,是之后用来装列表和图片的文件</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/7ce8bf4cd87e45f7a8c730502c60facf.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
<li>
<p>只是完成了界面的UI设计</p>
</li>
<li>
<p>按钮点击跳转事件还没编写</p>
<p><code>MainActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ListView</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Button</span> <span class="n">textbtn</span><span class="o">,</span><span class="n">imgbtn</span><span class="o">,</span><span class="n">videobtn</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ListView</span> <span class="n">lv</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Intent</span> <span class="n">intent</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="n">initView</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(){</span>
        <span class="c1">// 实例化笔记列表和三个按钮
</span><span class="c1"></span>        <span class="n">lv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ListView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list</span><span class="o">);</span>
  
        <span class="n">textbtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">);</span>
        <span class="n">imgbtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">);</span>
        <span class="n">videobtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">video</span><span class="o">);</span>
  
        <span class="c1">// 绑定监听事件
</span><span class="c1"></span>        <span class="n">textbtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">imgbtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">videobtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">){</span>
        <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">AddContent</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="c1">// 按下不同的按钮在Intent中存储不同的value
</span><span class="c1"></span>            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="n">1</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="n">2</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">video</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="n">3</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>点击添加按钮后</p>
</li>
<li>
<p>跳转到另一个页面,这个页面当然要新建一个类</p>
<p><code>AddContent.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddContent</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">value</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">addcontent</span><span class="o">);</span>
  
        <span class="c1">// 获取MainActivity.java中传的flag参数
</span><span class="c1"></span>        <span class="n">value</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>setContentView(R.layout.addcontent);里面的布局</p>
<p><code>addcontent.xml(添加界面)</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
  
    <span class="c">&lt;!-- 图片和视频,默认隐藏--&gt;</span>
    <span class="nt">&lt;ImageView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/c_img&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;500dp&#34;</span>
        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;VideoView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/c_video&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;500dp&#34;</span>
        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span><span class="nt">/&gt;</span>
      
    <span class="c">&lt;!-- 编辑界面的文本框--&gt;</span>
    <span class="nt">&lt;EditText</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
          
        <span class="err">&lt;!--</span> <span class="err">文本框默认有一个边框,这里给它取消掉--</span><span class="nt">&gt;</span>
        android:background=&#34;@null&#34;
      
      <span class="c">&lt;!-- 光标默认在最顶端 --&gt;</span>
        android:gravity=&#34;top&#34;
        android:layout_weight=&#34;1&#34;
        android:id=&#34;@+id/ettext&#34;
      
      <span class="c">&lt;!-- 这个和input的placeholder是一样的 --&gt;</span>
        android:hint=&#34;有了记事本,我再也不会忘记事情了&#34;/&gt;
  
      
    <span class="c">&lt;!-- 两个按钮,一个保存一个删除--&gt;</span>
    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>
          
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;保存&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/save&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;删除&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/delete&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
  
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>经过测试,这样是无法跳转的</p>
</li>
<li>
<p>需要将这个类在<code>AndroidManifest.xml</code>中注册</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">package=</span><span class="s">&#34;com.zhang.notepad&#34;</span><span class="nt">&gt;</span>
  
    <span class="nt">&lt;application</span>
        <span class="na">android:allowBackup=</span><span class="s">&#34;true&#34;</span>
        <span class="na">android:icon=</span><span class="s">&#34;@mipmap/ic_launcher&#34;</span>
        <span class="na">android:label=</span><span class="s">&#34;@string/app_name&#34;</span>
        <span class="na">android:roundIcon=</span><span class="s">&#34;@mipmap/ic_launcher_round&#34;</span>
        <span class="na">android:supportsRtl=</span><span class="s">&#34;true&#34;</span>
        <span class="na">android:theme=</span><span class="s">&#34;@style/Theme.NotePad&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;activity</span>
            <span class="err">&lt;!--</span> <span class="err">禁止横屏布局</span> <span class="err">--</span><span class="nt">&gt;</span>
            android:screenOrientation=&#34;portrait&#34;
            android:name=&#34;.MainActivity&#34;
            android:exported=&#34;true&#34;&gt;
            <span class="nt">&lt;intent-filter&gt;</span>
                <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&#34;android.intent.action.MAIN&#34;</span> <span class="nt">/&gt;</span>
  
                <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&#34;android.intent.category.LAUNCHER&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/intent-filter&gt;</span>
        <span class="nt">&lt;/activity&gt;</span>
        <span class="nt">&lt;activity</span>
            <span class="na">android:name=</span><span class="s">&#34;.AddContent&#34;</span>
            <span class="err">&lt;!--</span> <span class="err">禁止横屏布局</span> <span class="err">--</span><span class="nt">&gt;</span>
            android:screenOrientation=&#34;portrait&#34;
            &gt;
        <span class="nt">&lt;/activity&gt;</span>
    <span class="nt">&lt;/application&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>最终效果</p>
<p><img src="https://img-blog.csdnimg.cn/d5aadce4fcb542a3804b16eac1f37ba8.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<hr>
<h2 id="编辑笔记功能页面以及保存删除功能">编辑笔记功能页面以及保存、删除功能</h2>
<ul>
<li>
<p>前面已经写了主页面中三个按钮,点击一个使用Intent向AddContent.java传递数据,顺便实现跳转</p>
</li>
<li>
<p>然后在AddContent.java中和新的layout -&gt; <code>addcontent.xml</code></p>
<p><code>addcontent.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
  
    <span class="c">&lt;!-- 图片和视频,默认隐藏--&gt;</span>
    <span class="nt">&lt;ImageView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/c_img&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;500dp&#34;</span>
        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;VideoView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/c_video&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;500dp&#34;</span>
        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span><span class="nt">/&gt;</span>
      
    <span class="c">&lt;!-- 编辑界面的文本框--&gt;</span>
    <span class="nt">&lt;EditText</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
          
        <span class="err">&lt;!--</span> <span class="err">文本框默认有一个边框,这里给它取消掉--</span><span class="nt">&gt;</span>
        android:background=&#34;@null&#34;
      
      <span class="c">&lt;!-- 光标默认在最顶端 --&gt;</span>
        android:gravity=&#34;top&#34;
        android:layout_weight=&#34;1&#34;
        android:id=&#34;@+id/ettext&#34;
      
      <span class="c">&lt;!-- 这个和input的placeholder是一样的 --&gt;</span>
        android:hint=&#34;有了记事本,我再也不会忘记事情了&#34;/&gt;
  
      
    <span class="c">&lt;!-- 两个按钮,一个保存一个删除--&gt;</span>
    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>
          
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;保存&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/save&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;删除&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/delete&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>完善一下数据库</p>
<p><code>NotesDB.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteOpenHelper</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotesDB</span> <span class="kd">extends</span> <span class="n">SQLiteOpenHelper</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TABLE_NAME</span> <span class="o">=</span> <span class="s">&#34;notes&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CONTENT</span> <span class="o">=</span> <span class="s">&#34;content&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">PATH</span> <span class="o">=</span> <span class="s">&#34;path&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">VIDEO</span> <span class="o">=</span> <span class="s">&#34;video&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ID</span> <span class="o">=</span> <span class="s">&#34;_id&#34;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TIME</span> <span class="o">=</span> <span class="s">&#34;time&#34;</span><span class="o">;</span>
  
  
    <span class="kd">public</span> <span class="nf">NotesDB</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="s">&#34;notes&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">1</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">execSQL</span><span class="o">(</span><span class="s">&#34;CREATE TABLE &#34;</span> <span class="o">+</span> <span class="n">TABLE_NAME</span> <span class="o">+</span> <span class="s">&#34;(&#34;</span>
                <span class="o">+</span> <span class="n">ID</span> <span class="o">+</span> <span class="s">&#34; INTEGER PRIMARY KEY AUTOINCREMENT,&#34;</span>
                <span class="o">+</span> <span class="n">CONTENT</span> <span class="o">+</span> <span class="s">&#34; TEXT NOT NULL,&#34;</span>
                <span class="o">+</span> <span class="n">PATH</span> <span class="o">+</span> <span class="s">&#34; TEXT NOT NULL,&#34;</span>
                <span class="o">+</span> <span class="n">VIDEO</span> <span class="o">+</span> <span class="s">&#34; TEXT NOT NULL,&#34;</span>
                <span class="o">+</span> <span class="n">TIME</span> <span class="o">+</span> <span class="s">&#34; TEXT NOT NULL)&#34;</span>
        <span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpgrade</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i1</span><span class="o">)</span> <span class="o">{</span>
  
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>其实就是添加图片和视频两个字段</p>
</blockquote>
</li>
<li>
<p>最后给添加页面<code>addcontent.xml</code>编写控制<code>AddContent.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.VideoView</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddContent</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">value</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">savebtn</span><span class="o">,</span><span class="n">deletebtn</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">c_img</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">VideoView</span> <span class="n">c_video</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">EditText</span> <span class="n">ettext</span><span class="o">;</span>
  
    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">addcontent</span><span class="o">);</span>
  
        <span class="c1">// 获取MainActivity.java中传的flag参数
</span><span class="c1"></span>        <span class="n">value</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">);</span>
  
        <span class="n">savebtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">save</span><span class="o">);</span>
        <span class="n">deletebtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">delete</span><span class="o">);</span>
        <span class="n">c_img</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">c_img</span><span class="o">);</span>
        <span class="n">c_video</span> <span class="o">=</span> <span class="o">(</span><span class="n">VideoView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">c_video</span><span class="o">);</span>
        <span class="n">ettext</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ettext</span><span class="o">);</span>
  
        <span class="n">savebtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">deletebtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  
        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addNote</span><span class="o">(){</span>
        <span class="n">ContentValues</span> <span class="n">contentValues</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="n">ettext</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">getTime</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">,</span><span class="s">&#34;image&#34;</span><span class="o">);</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">,</span><span class="s">&#34;video&#34;</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span>   <span class="o">,</span><span class="n">contentValues</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="kd">private</span> <span class="n">String</span> <span class="nf">getTime</span><span class="o">(){</span>
        <span class="n">SimpleDateFormat</span> <span class="n">simpleDateFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&#34;yyyy年MM月dd日 HH:mm:ss&#34;</span><span class="o">);</span>
        <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">strDate</span> <span class="o">=</span> <span class="n">simpleDateFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">strDate</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">save</span><span class="o">:</span>
                <span class="n">addNote</span><span class="o">();</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">delete</span><span class="o">:</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://img-blog.csdnimg.cn/e1c3347337184900aa352c54d8d58ef6.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><img src="https://img-blog.csdnimg.cn/dccdba407a5b4d478f9907a0f9da55be.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<hr>
<h2 id="为主页面笔记列表编写适配器">为主页面笔记列表编写适配器</h2>
<p><img src="https://img-blog.csdnimg.cn/2aebdc268637420a878dc4064a6b1c11.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<ul>
<li>
<p>前面创建的cell.xml</p>
<p><code>cell.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="nt">&gt;</span>
  
    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>
  
  
        <span class="nt">&lt;ImageView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/list_img&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;ImageView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/list_video&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">/&gt;</span>
  
  
        <span class="nt">&lt;LinearLayout</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;center_vertical&#34;</span>
            <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;TextView</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:id=</span><span class="s">&#34;@+id/list_content&#34;</span>
                <span class="na">android:text=</span><span class="s">&#34;tv&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;TextView</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
                <span class="na">android:id=</span><span class="s">&#34;@+id/list_time&#34;</span>
                <span class="na">android:text=</span><span class="s">&#34;tv&#34;</span><span class="nt">/&gt;</span>
  
        <span class="nt">&lt;/LinearLayout&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>这个就是主页面的笔记列表</p>
</li>
<li>
<p>然后为这个页面添加适配器</p>
<p><code>MyAdapter.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.annotation.SuppressLint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.Cursor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.BaseAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.LinearLayout</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyAdapter</span> <span class="kd">extends</span> <span class="n">BaseAdapter</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Context</span> <span class="n">context</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Cursor</span> <span class="n">cursor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">LinearLayout</span> <span class="n">linearLayout</span><span class="o">;</span>
  
    <span class="kd">public</span> <span class="nf">MyAdapter</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">context</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Object</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getPosition</span><span class="o">();</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">position</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 加载视图的权限
</span><span class="c1"></span>        <span class="n">LayoutInflater</span> <span class="n">inflater</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
  
        <span class="c1">// 要适配哪个视图
</span><span class="c1"></span>        <span class="n">linearLayout</span> <span class="o">=</span> <span class="o">(</span><span class="n">LinearLayout</span><span class="o">)</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">cell</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
  
        <span class="c1">// 获取到视图和权限后,开始设置视图中所有组件
</span><span class="c1"></span>        <span class="n">TextView</span> <span class="n">contenttv</span> <span class="o">=</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_content</span><span class="o">);</span>
        <span class="n">TextView</span> <span class="n">timetv</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_time</span><span class="o">);</span>
        <span class="n">ImageView</span> <span class="n">imgiv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_img</span><span class="o">);</span>
        <span class="n">ImageView</span> <span class="n">videoiv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_video</span><span class="o">);</span>
  
        <span class="c1">// 光标移动到数据库指定行
</span><span class="c1"></span>        <span class="n">cursor</span><span class="o">.</span><span class="na">moveToPosition</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
            <span class="c1">// 获取指定行中的数据
</span><span class="c1"></span>        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;content&#34;</span><span class="o">));</span>
        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">time</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;time&#34;</span><span class="o">));</span>
  
            <span class="c1">// 将获得的数据和组件绑定
</span><span class="c1"></span>        <span class="n">contenttv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
        <span class="n">timetv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
  
        <span class="c1">// 返回线性布局对象
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">linearLayout</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>最后在<code>MainActivity.java</code>中使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.Cursor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ListView</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">textbtn</span><span class="o">,</span><span class="n">imgbtn</span><span class="o">,</span><span class="n">videobtn</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ListView</span> <span class="n">lv</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Intent</span> <span class="n">intent</span><span class="o">;</span>
  
    <span class="c1">// 创建适配器对象
</span><span class="c1"></span>    <span class="kd">private</span> <span class="n">MyAdapter</span> <span class="n">myAdapter</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="n">initView</span><span class="o">();</span>
        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  
        <span class="c1">// 这个数据库是items的,所以设置只读就好了
</span><span class="c1"></span>        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getReadableDatabase</span><span class="o">();</span>
<span class="c1">//        sqLiteDatabase = notesDB.getWritableDatabase();
</span><span class="c1">//        addNote();
</span><span class="c1"></span>    <span class="o">}</span>
  
<span class="c1">//    public void addNote(){
</span><span class="c1">//        ContentValues contentValues = new ContentValues();
</span><span class="c1">//        contentValues.put(NotesDB.CONTENT,&#34;hello&#34;);
</span><span class="c1">//        contentValues.put(NotesDB.TIME,getTime());
</span><span class="c1">//        sqLiteDatabase.insert(NotesDB.TABLE_NAME,null,contentValues);
</span><span class="c1">//    }
</span><span class="c1">//
</span><span class="c1">//    public String getTime(){
</span><span class="c1">//        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&#34;yyyy年MM月dd日 HH:mm:ss&#34;);
</span><span class="c1">//        Date date = new Date();
</span><span class="c1">//        String dateStr = simpleDateFormat.format(date);
</span><span class="c1">//        return dateStr;
</span><span class="c1">//    }
</span><span class="c1"></span>  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(){</span>
        <span class="c1">// 实例化笔记列表和三个按钮
</span><span class="c1"></span>        <span class="n">lv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ListView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list</span><span class="o">);</span>
  
        <span class="n">textbtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">);</span>
        <span class="n">imgbtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">);</span>
        <span class="n">videobtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">video</span><span class="o">);</span>
  
        <span class="c1">// 绑定监听事件
</span><span class="c1"></span>        <span class="n">textbtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">imgbtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">videobtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">){</span>
        <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">AddContent</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="c1">// 按下不同的按钮在Intent中存储不同的value
</span><span class="c1"></span>            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="n">1</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="n">2</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">video</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="n">3</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">selectDB</span><span class="o">(){</span>
        <span class="c1">// 数据库查询结果指针
</span><span class="c1"></span>        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
  
        <span class="c1">// 将指针传入适配器中,然后适配器中对所有数据进行查询,然后赋值给组件,最后将视图布局返回
</span><span class="c1"></span>        <span class="n">myAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyAdapter</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">cursor</span><span class="o">);</span>
        <span class="c1">// 将适配器传给cell.xml的视图对象,它会自动调用适配器中的getView方法,将返回的视图赋值给lv
</span><span class="c1"></span>        <span class="n">lv</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">myAdapter</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="c1">// 要在onResume方法中调用
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>
        <span class="n">selectDB</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="cursor详解">Cursor详解</h3>
<blockquote>
<p>英文直译就是光标、指针</p>
<p>一般情况下：</p>
<p>​	SQLiteDataBase db;</p>
<p>​	Cursor cursor = db.query(各种参数);</p>
<p>​	这时，就出现了网上的解释了，说cursor是每行的集合</p>
<p>但是在Android中</p>
<p>先解释一下SQLite数据库中是怎么存放数据的，是以表的形式存放的，看这个表Student</p>
</blockquote>
<p><img src="https://img-blog.csdn.net/20170305124655754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYW5kcm9pZF96eWY=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="img"></p>
<blockquote>
<p>假如现在我想获取所有男性的数据,那cursor就是所有gender为男性的行</p>
<p>其实就是用来查询的指针</p>
</blockquote>
<ul>
<li>
<p>moveToPosition();、moveToFirst();、moveToNext();这种方法</p>
<blockquote>
<p>这几个方法参数就是传递一个索引,查询数据表中指定索引的数据</p>
</blockquote>
</li>
</ul>
<hr>
<h3 id="适配器">适配器</h3>
<blockquote>
<p>在安卓开发的过程中，我们经常会用到ListView控件，在ListView中也会有一个个的item，我们在使用的时候需要对其进行数据的适配，那么Android系统提供了一系列的适配器（Adapter）来实现数据的适配。又已知我常用的适配器包括：BaseAdapter、SimpleAdapter、ArrayAdapter。其中后两项SimpleAdapter和ArrayAdapter都是BaseAdapter的子类，相当于是Android提供的两种可以直接来用的适配器，在使用的时候我们可以根据自己的需要传入参数即可。那么其实在实际开发的时候，我们用的更多的是BaseAdapter这样一个适配器来做一个“自定义”的适配器</p>
</blockquote>
<blockquote>
<p><em><strong>继承了BaseAdapter，那么就要实现四个方法：getCount（）、getItem（）、getItemId（）和getView（）</strong></em></p>
<ul>
<li>getCount（）方法是要返回ListView里面所有的item子项的个数</li>
<li>getItem（）方法是要返回每一个item子项</li>
<li>getItemId（）方法是要返回每个item子项的Id，显然这里可以直接写<strong>return position</strong></li>
<li>getView()
<ul>
<li>上面的方法都是对数据的获取等操作</li>
<li>这个就是将获取到的数据和视图中的组件进行绑定</li>
</ul>
</li>
</ul>
</blockquote>
<hr>
<h2 id="添加图片并将缩略图设置到首页列表中">添加图片并将缩略图设置到首页列表中</h2>
<p><img src="https://img-blog.csdnimg.cn/ff1689beea9849ff88697123927154da.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<ul>
<li>需要在添加数据的java代码中进行相机的调用拍照、图片的处理以及将路径保存到数据库中</li>
<li>在笔记列表适配器中设置图片缩略图的显示</li>
</ul>
<p><code>AddContent.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.Manifest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.pm.PackageManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.net.Uri</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Environment</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.provider.MediaStore</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.VideoView</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.core.app.ActivityCompat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.core.content.ContextCompat</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddContent</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span> <span class="o">=</span> <span class="n">200</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">value</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">savebtn</span><span class="o">,</span><span class="n">deletebtn</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">c_img</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">VideoView</span> <span class="n">c_video</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">EditText</span> <span class="n">ettext</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">File</span> <span class="n">phoneFile</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">addcontent</span><span class="o">);</span>

        <span class="c1">// 获取MainActivity.java中传的flag参数
</span><span class="c1"></span>        <span class="n">value</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span> <span class="o">+</span> <span class="s">&#34;-----------------------------------------------------&gt;&#34;</span><span class="o">);</span>

        <span class="n">savebtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">save</span><span class="o">);</span>
        <span class="n">deletebtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">delete</span><span class="o">);</span>
        <span class="n">c_img</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">c_img</span><span class="o">);</span>
        <span class="n">c_video</span> <span class="o">=</span> <span class="o">(</span><span class="n">VideoView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">c_video</span><span class="o">);</span>
        <span class="n">ettext</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ettext</span><span class="o">);</span>

        <span class="n">savebtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">deletebtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>

        <span class="n">initView</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(){</span>
        <span class="c1">// 如果按下纯文字键,就将视频组件和图片组件隐藏
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;1&#34;</span><span class="o">)){</span>
            <span class="n">c_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
            <span class="n">c_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// 如果按下图文按钮,就将视频隐藏而将图片组件显示
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;2&#34;</span><span class="o">)){</span>
            <span class="n">c_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
            <span class="n">c_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>

            <span class="cm">/*
</span><span class="cm">             * 打开相机拍照一次
</span><span class="cm">             * 用于拍照保存到指定路径
</span><span class="cm">             * -----------------------------------------&gt;
</span><span class="cm">             * ACTION_IMAGE_CAPTURE //打开相机拍一次
</span><span class="cm">             * ACTION_IMAGE_CAPTURE_SECURE
</span><span class="cm">             * INTENT_ACTION_STILL_IMAGE_CAMERA
</span><span class="cm">             * INTENT_ACTION_STILL_IMAGE_CAMERA_SECURE
</span><span class="cm">             */</span>
            <span class="n">Intent</span> <span class="n">iimg</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">ACTION_IMAGE_CAPTURE</span><span class="o">);</span>

            <span class="cm">/*
</span><span class="cm">             * 获取Android机中的绝对路径
</span><span class="cm">             * Environment.getExternalStorageDirectory()是获得外部存储的第一层的对象
</span><span class="cm">             *     可以通过这个对象获得这一层的各个文件的名称，路径，以及建立其中一个文件的抽象对象
</span><span class="cm">             */</span>
            <span class="n">phoneFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageDirectory</span><span class="o">().</span><span class="na">getAbsoluteFile</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;/&#34;</span> <span class="o">+</span> <span class="n">getTime</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;.jpg&#34;</span><span class="o">);</span>

            <span class="cm">/*
</span><span class="cm">             * Intent.putExtra(key,value); ---&gt; value是存储路径
</span><span class="cm">             * MediaStore.EXTRA_OUTPUT参数,点开源码发现它是&#34;out&#34;
</span><span class="cm">             *     Intent 的data域最大传递的值的大小约为1M，所以图片的BITMAP当超过1M时就会失败。通常我们只是设置头像可以用这个方法，那么如果我们要剪切显示一些比较大的图片呢？怎么做呢？
</span><span class="cm">             *     该方法就是先设置为return-data设为false，不从data域获取图片，而是越过这个桥梁，通过我们刚刚在剪切图片后设置的路径目录和名称来单独获取这个图片，就可以完美显示了。如果不设置return-data为false，那么就会默认通过data返回，从而造成卡住现像。
</span><span class="cm">             *     return-data:是将结果保存在data中返回，在onActivityResult中，直接调用intent.getdata()就可以获取值了，这里设为fase，就是不让它保存在data中MediaStore.EXTRA_OUTPUT：由于我们不让它保存在Intent的data域中，但我们总要有地方来保存我们的图片，这个参数就是转移保存地址的，对应Value中保存的URI就是指定的保存地址
</span><span class="cm">             *     利用MediaStore.EXTRA_OUTPUT，就可以规避Intent携带信息的不靠谱所造成的吃饭不香
</span><span class="cm">             */</span>
            <span class="n">iimg</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">EXTRA_OUTPUT</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="n">phoneFile</span><span class="o">));</span>

            <span class="c1">// 启动一个有请求码的activity方法,对应的调用它的on方法
</span><span class="c1"></span>            <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">iimg</span><span class="o">,</span><span class="n">1</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;3&#34;</span><span class="o">)){</span>
            <span class="n">c_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
            <span class="n">c_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addNote</span><span class="o">(){</span>
        <span class="n">ContentValues</span> <span class="n">contentValues</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="n">ettext</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">getTime</span><span class="o">());</span>

        <span class="c1">// 将图片路径插入到数据库
</span><span class="c1"></span>        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">,</span><span class="n">phoneFile</span> <span class="o">+</span> <span class="s">&#34;&#34;</span><span class="o">);</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">,</span><span class="s">&#34;video&#34;</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">contentValues</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="nf">getTime</span><span class="o">(){</span>
        <span class="n">SimpleDateFormat</span> <span class="n">simpleDateFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&#34;yyyy年MM月dd日 HH:mm:ss&#34;</span><span class="o">);</span>
        <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">strDate</span> <span class="o">=</span> <span class="n">simpleDateFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">strDate</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="c1">// requestCode和data都是从startCode传过来的
</span><span class="c1"></span>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onActivityResult</span><span class="o">(</span><span class="n">requestCode</span><span class="o">,</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">1</span><span class="o">){</span>
            <span class="c1">// Android6.0之后不但要在AndroidManifest.xml中申请文件访问读写权限,还要在java代码中设置
</span><span class="c1"></span>            <span class="c1">// 这里就是一个请求方式,如果没有权限就申请权限
</span><span class="c1"></span>            <span class="k">if</span> <span class="o">(</span><span class="n">ContextCompat</span><span class="o">.</span><span class="na">checkSelfPermission</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">)</span> <span class="o">!=</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">PERMISSION_GRANTED</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//申请WRITE_EXTERNAL_STORAGE权限
</span><span class="c1"></span>                <span class="n">ActivityCompat</span><span class="o">.</span><span class="na">requestPermissions</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">},</span>
                        <span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="c1">// 创建一个Bitmap对象,通过获取路径展现内容
</span><span class="c1"></span>            <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">phoneFile</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">());</span>

            <span class="c1">// 展示内容
</span><span class="c1"></span>            <span class="n">c_img</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">bitmap</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">save</span><span class="o">:</span>
                <span class="n">addNote</span><span class="o">();</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">delete</span><span class="o">:</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>MyAdapter.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.annotation.SuppressLint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.Cursor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.media.ThumbnailUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.BaseAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.LinearLayout</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.VideoView</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyAdapter</span> <span class="kd">extends</span> <span class="n">BaseAdapter</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Context</span> <span class="n">context</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Cursor</span> <span class="n">cursor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">LinearLayout</span> <span class="n">linearLayout</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MyAdapter</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">context</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Object</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getPosition</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">position</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 加载视图的权限
</span><span class="c1"></span>        <span class="n">LayoutInflater</span> <span class="n">inflater</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>

        <span class="c1">// 要适配哪个视图
</span><span class="c1"></span>        <span class="n">linearLayout</span> <span class="o">=</span> <span class="o">(</span><span class="n">LinearLayout</span><span class="o">)</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">cell</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>

        <span class="c1">// 获取到视图和权限后,开始设置视图中所有组件
</span><span class="c1"></span>        <span class="n">TextView</span> <span class="n">contenttv</span> <span class="o">=</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_content</span><span class="o">);</span>
        <span class="n">TextView</span> <span class="n">timetv</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_time</span><span class="o">);</span>
        <span class="n">ImageView</span> <span class="n">imgiv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_img</span><span class="o">);</span>
        <span class="n">ImageView</span> <span class="n">videoiv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_video</span><span class="o">);</span>

        <span class="c1">// 光标移动到数据库指定行
</span><span class="c1"></span>        <span class="n">cursor</span><span class="o">.</span><span class="na">moveToPosition</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
            <span class="c1">// 获取指定行中的数据
</span><span class="c1"></span>        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;content&#34;</span><span class="o">));</span>
        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">time</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;time&#34;</span><span class="o">));</span>
        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;path&#34;</span><span class="o">));</span>

            <span class="c1">// 将获得的数据和组件绑定
</span><span class="c1"></span>        <span class="n">contenttv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
        <span class="n">timetv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
        <span class="n">imgiv</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">getImageThumbnail</span><span class="o">(</span><span class="n">url</span><span class="o">,</span><span class="n">200</span><span class="o">,</span><span class="n">200</span><span class="o">));</span>

        <span class="c1">// 返回线性布局对象
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">linearLayout</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// 在列表中显示图片缩略图
</span><span class="c1"></span>    <span class="c1">// 图片路径、宽度、高度
</span><span class="c1"></span>    <span class="cm">/*
</span><span class="cm">     * 我们在对图片进行操作的过程中，可能出现图片过大造成内存溢出的情况
</span><span class="cm">     * 出现这样的错误我们就可以缩小图片的大小，这样就不会报错了，BitmapFactory.Option中就实现了这样的操作
</span><span class="cm">     * 其中主要的两个参数是：inSampleSize和inJustDecodeBounds
</span><span class="cm">     * inSampleSize:如果这个值大于1,会返回一个更小的图片来节省内存
</span><span class="cm">     * inJustDecodeBounds:如果这个值为true,那就不返回bitmap,但可以获取图片的尺寸信息并指定内存
</span><span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">Bitmap</span> <span class="nf">getImageThumbnail</span><span class="o">(</span><span class="n">String</span> <span class="n">uri</span><span class="o">,</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span><span class="kt">int</span> <span class="n">height</span><span class="o">){</span>
        <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="c1">// 使用BitmapFactory.Options直接获取缩略图对象
</span><span class="c1"></span>        <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">Options</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">Options</span><span class="o">();</span>

        <span class="c1">// 第一次获取的这个Bitmap无需返回但是要设置尺寸信息
</span><span class="c1"></span>        <span class="n">options</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

        <span class="c1">// 获取Bitmap对象,对齐进行设置
</span><span class="c1"></span>        <span class="c1">// 获取到之后将inJustDecodeBounds设置为false,其实写在第二次获取Bitmap对象之前的任意位置都可以
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>
        <span class="n">options</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

        <span class="c1">// 用缩略图的尺寸和传入参数(设置的缩略图尺寸)作比较
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">beWidth</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outWidth</span> <span class="o">/</span> <span class="n">width</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">beHeight</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outHeight</span> <span class="o">/</span> <span class="n">height</span><span class="o">;</span>

        <span class="c1">// 获取到长宽中最小的那个的比例,按照比例比较短的那个缩小,因为如果按照长的来可能。。。很难受
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">be</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">beWidth</span> <span class="o">&lt;</span> <span class="n">beHeight</span><span class="o">){</span>
            <span class="n">be</span> <span class="o">=</span> <span class="n">beWidth</span><span class="o">;</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="n">be</span> <span class="o">=</span> <span class="n">beHeight</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">be</span> <span class="o">&lt;=</span> <span class="n">0</span><span class="o">){</span>
            <span class="n">be</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// 上面不用判断哪个大于1,因为对于大于1的BitmapFactory会自动将其按照均匀比例缩小
</span><span class="c1"></span>        <span class="n">options</span><span class="o">.</span><span class="na">inSampleSize</span><span class="o">=</span> <span class="n">be</span><span class="o">;</span>

        <span class="c1">// 设置完成了,上面的inJustDecodeBounds也为false了,可以获取返回给ImageView.setImageBitmap(Bitmap bitmap);了
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>

        <span class="c1">// 图片压缩类,压缩出一个指定尺寸的缩略图
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">extractThumbnail</span><span class="o">(</span><span class="n">bitmap</span><span class="o">,</span><span class="n">width</span><span class="o">,</span><span class="n">height</span><span class="o">,</span><span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">OPTIONS_RECYCLE_INPUT</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">bitmap</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>关于打开相机程序崩溃的问题,解决方案</p>
<blockquote>
<p>在你的MainActivity中的OnCreate();方法中添加非严格模式</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//取消严格模式 FileProvider
</span><span class="c1"></span><span class="k">if</span> <span class="o">(</span><span class="n">Build</span><span class="o">.</span><span class="na">VERSION</span><span class="o">.</span><span class="na">SDK_INT</span> <span class="o">&gt;=</span> <span class="n">Build</span><span class="o">.</span><span class="na">VERSION_CODES</span><span class="o">.</span><span class="na">N</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">StrictMode</span><span class="o">.</span><span class="na">VmPolicy</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StrictMode</span><span class="o">.</span><span class="na">VmPolicy</span><span class="o">.</span><span class="na">Builder</span><span class="o">();</span>
  <span class="n">StrictMode</span><span class="o">.</span><span class="na">setVmPolicy</span><span class="o">(</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">()</span> <span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&#34;android.permission.WRITE_EXTERNAL_STORAGE&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&#34;android.permission.READ_EXTERNAL_STORAGE&#34;</span><span class="nt">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>从Android6.0开始,申请权限不仅需要在AndroidManifest.xml中设置文件可读可写</p>
<p>还要在Activity中进行权限判断以及申请</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// Android6.0之后不但要在AndroidManifest.xml中申请文件访问读写权限,还要在java代码中设置
</span><span class="c1">// 这里就是一个请求方式,如果没有权限就申请权限
</span><span class="c1"></span><span class="k">if</span> <span class="o">(</span><span class="n">ContextCompat</span><span class="o">.</span><span class="na">checkSelfPermission</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">)</span> <span class="o">!=</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">PERMISSION_GRANTED</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">//申请WRITE_EXTERNAL_STORAGE权限
</span><span class="c1"></span>  <span class="o">{</span><span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">},</span><span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h2 id="添加视频并将第一帧缩略图设置到首页列表中">添加视频并将第一帧缩略图设置到首页列表中</h2>
<p><code>AddContent.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.Manifest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.pm.PackageManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.net.Uri</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Environment</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.provider.MediaStore</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.VideoView</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.annotation.Nullable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.core.app.ActivityCompat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.core.content.ContextCompat</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddContent</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span> <span class="o">=</span> <span class="n">200</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">value</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">savebtn</span><span class="o">,</span><span class="n">deletebtn</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">c_img</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">VideoView</span> <span class="n">c_video</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">EditText</span> <span class="n">ettext</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">File</span> <span class="n">phoneFile</span><span class="o">,</span><span class="n">videoFile</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">addcontent</span><span class="o">);</span>

        <span class="c1">// 获取MainActivity.java中传的flag参数
</span><span class="c1"></span>        <span class="n">value</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span> <span class="o">+</span> <span class="s">&#34;-----------------------------------------------------&gt;&#34;</span><span class="o">);</span>

        <span class="n">savebtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">save</span><span class="o">);</span>
        <span class="n">deletebtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">delete</span><span class="o">);</span>
        <span class="n">c_img</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">c_img</span><span class="o">);</span>
        <span class="n">c_video</span> <span class="o">=</span> <span class="o">(</span><span class="n">VideoView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">c_video</span><span class="o">);</span>
        <span class="n">ettext</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ettext</span><span class="o">);</span>

        <span class="n">savebtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">deletebtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>

        <span class="n">initView</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// 用于进行文本框和多媒体文件的初始化
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(){</span>
        <span class="c1">// 如果按下纯文字键,就将视频组件和图片组件隐藏
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;1&#34;</span><span class="o">)){</span>
            <span class="n">c_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
            <span class="n">c_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// 如果按下图文按钮,就将视频隐藏而将图片组件显示
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;2&#34;</span><span class="o">)){</span>
            <span class="n">c_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
            <span class="n">c_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>

            <span class="cm">/*
</span><span class="cm">             * 打开相机拍照一次
</span><span class="cm">             * 用于拍照保存到指定路径
</span><span class="cm">             * -----------------------------------------&gt;
</span><span class="cm">             * ACTION_IMAGE_CAPTURE //打开相机拍一次
</span><span class="cm">             * ACTION_IMAGE_CAPTURE_SECURE
</span><span class="cm">             * INTENT_ACTION_STILL_IMAGE_CAMERA
</span><span class="cm">             * INTENT_ACTION_STILL_IMAGE_CAMERA_SECURE
</span><span class="cm">             */</span>
            <span class="n">Intent</span> <span class="n">iimg</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">ACTION_IMAGE_CAPTURE</span><span class="o">);</span>

            <span class="cm">/*
</span><span class="cm">             * 获取Android机中的绝对路径
</span><span class="cm">             * Environment.getExternalStorageDirectory()是获得外部存储的第一层的对象
</span><span class="cm">             *     可以通过这个对象获得这一层的各个文件的名称，路径，以及建立其中一个文件的抽象对象
</span><span class="cm">             */</span>
            <span class="n">phoneFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageDirectory</span><span class="o">().</span><span class="na">getAbsoluteFile</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;/&#34;</span> <span class="o">+</span> <span class="n">getTime</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;.jpg&#34;</span><span class="o">);</span>

            <span class="cm">/*
</span><span class="cm">             * Intent.putExtra(key,value); ---&gt; value是存储路径
</span><span class="cm">             * MediaStore.EXTRA_OUTPUT参数,点开源码发现它是&#34;out&#34;
</span><span class="cm">             *     Intent 的data域最大传递的值的大小约为1M，所以图片的BITMAP当超过1M时就会失败。通常我们只是设置头像可以用这个方法，那么如果我们要剪切显示一些比较大的图片呢？怎么做呢？
</span><span class="cm">             *     该方法就是先设置为return-data设为false，不从data域获取图片，而是越过这个桥梁，通过我们刚刚在剪切图片后设置的路径目录和名称来单独获取这个图片，就可以完美显示了。如果不设置return-data为false，那么就会默认通过data返回，从而造成卡住现像。
</span><span class="cm">             *     return-data:是将结果保存在data中返回，在onActivityResult中，直接调用intent.getdata()就可以获取值了，这里设为fase，就是不让它保存在data中MediaStore.EXTRA_OUTPUT：由于我们不让它保存在Intent的data域中，但我们总要有地方来保存我们的图片，这个参数就是转移保存地址的，对应Value中保存的URI就是指定的保存地址
</span><span class="cm">             *     利用MediaStore.EXTRA_OUTPUT，就可以规避Intent携带信息的不靠谱所造成的吃饭不香
</span><span class="cm">             */</span>
            <span class="n">iimg</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">EXTRA_OUTPUT</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="n">phoneFile</span><span class="o">));</span>

            <span class="c1">// 启动一个有请求码的activity方法,对应的调用它的on方法
</span><span class="c1"></span>            <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">iimg</span><span class="o">,</span><span class="n">1</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// 和上面的一样,就是把Images的相关参数改成Video就好了
</span><span class="c1"></span>        <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;3&#34;</span><span class="o">)){</span>
            <span class="n">c_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
            <span class="n">c_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
            <span class="n">Intent</span> <span class="n">ivideo</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">ACTION_VIDEO_CAPTURE</span><span class="o">);</span>
            <span class="n">videoFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageDirectory</span><span class="o">().</span><span class="na">getAbsoluteFile</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;/&#34;</span> <span class="o">+</span> <span class="n">getTime</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;.mp4&#34;</span><span class="o">);</span>
            <span class="n">ivideo</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">EXTRA_OUTPUT</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="n">videoFile</span><span class="o">));</span>
            <span class="n">startActivityForResult</span><span class="o">(</span><span class="n">ivideo</span><span class="o">,</span><span class="n">2</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addNote</span><span class="o">(){</span>
        <span class="n">ContentValues</span> <span class="n">contentValues</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="n">ettext</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">getTime</span><span class="o">());</span>

        <span class="c1">// 将媒体资源路径插入到数据库
</span><span class="c1"></span>        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">,</span><span class="n">phoneFile</span> <span class="o">+</span> <span class="s">&#34;&#34;</span><span class="o">);</span>
        <span class="n">contentValues</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">,</span><span class="n">videoFile</span> <span class="o">+</span> <span class="s">&#34;&#34;</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="n">contentValues</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="nf">getTime</span><span class="o">(){</span>
        <span class="n">SimpleDateFormat</span> <span class="n">simpleDateFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&#34;yyyy年MM月dd日 HH:mm:ss&#34;</span><span class="o">);</span>
        <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">strDate</span> <span class="o">=</span> <span class="n">simpleDateFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">strDate</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="c1">// requestCode和data都是从startCode传过来的
</span><span class="c1"></span>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span> <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">Intent</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onActivityResult</span><span class="o">(</span><span class="n">requestCode</span><span class="o">,</span> <span class="n">resultCode</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>

        <span class="c1">// Android6.0之后不但要在AndroidManifest.xml中申请文件访问读写权限,还要在java代码中设置
</span><span class="c1"></span>        <span class="c1">// 这里就是一个请求方式,如果没有权限就申请权限
</span><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">ContextCompat</span><span class="o">.</span><span class="na">checkSelfPermission</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">)</span> <span class="o">!=</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">PERMISSION_GRANTED</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//申请WRITE_EXTERNAL_STORAGE权限
</span><span class="c1"></span>            <span class="n">ActivityCompat</span><span class="o">.</span><span class="na">requestPermissions</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">},</span>
                    <span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">1</span><span class="o">){</span>
            <span class="c1">// 创建一个Bitmap对象,通过获取路径展现内容
</span><span class="c1"></span>            <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">phoneFile</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">());</span>

            <span class="c1">// 展示内容(给图片组件设置资源)
</span><span class="c1"></span>            <span class="n">c_img</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">bitmap</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">if</span><span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">2</span><span class="o">){</span>
            <span class="c1">// 展示内容(给视频组件设置资源)
</span><span class="c1"></span>            <span class="n">c_video</span><span class="o">.</span><span class="na">setVideoURI</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">fromFile</span><span class="o">(</span><span class="n">videoFile</span><span class="o">));</span>

            <span class="c1">// 播放视频
</span><span class="c1">//            c_video.start();
</span><span class="c1"></span>        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">save</span><span class="o">:</span>
                <span class="n">addNote</span><span class="o">();</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">delete</span><span class="o">:</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>MyAdapter.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.annotation.SuppressLint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.Cursor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.media.ThumbnailUtils</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.provider.MediaStore</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.LayoutInflater</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.BaseAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.LinearLayout</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.VideoView</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyAdapter</span> <span class="kd">extends</span> <span class="n">BaseAdapter</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Context</span> <span class="n">context</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Cursor</span> <span class="n">cursor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">LinearLayout</span> <span class="n">linearLayout</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MyAdapter</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">context</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getCount</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Object</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getPosition</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">position</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 加载视图的权限
</span><span class="c1"></span>        <span class="n">LayoutInflater</span> <span class="n">inflater</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>

        <span class="c1">// 要适配哪个视图
</span><span class="c1"></span>        <span class="n">linearLayout</span> <span class="o">=</span> <span class="o">(</span><span class="n">LinearLayout</span><span class="o">)</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">cell</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>

        <span class="c1">// 获取到视图和权限后,开始设置视图中所有组件
</span><span class="c1"></span>        <span class="n">TextView</span> <span class="n">contenttv</span> <span class="o">=</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_content</span><span class="o">);</span>
        <span class="n">TextView</span> <span class="n">timetv</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_time</span><span class="o">);</span>
        <span class="n">ImageView</span> <span class="n">imgiv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_img</span><span class="o">);</span>
        <span class="n">ImageView</span> <span class="n">videoiv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">linearLayout</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list_video</span><span class="o">);</span>

        <span class="c1">// 光标移动到数据库指定行
</span><span class="c1"></span>        <span class="n">cursor</span><span class="o">.</span><span class="na">moveToPosition</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
            <span class="c1">// 获取指定行中的数据
</span><span class="c1"></span>        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;content&#34;</span><span class="o">));</span>
        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">time</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;time&#34;</span><span class="o">));</span>
        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">urlImage</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;path&#34;</span><span class="o">));</span>
        <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">urlVideo</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="s">&#34;video&#34;</span><span class="o">));</span>

            <span class="c1">// 将获得的数据和组件绑定
</span><span class="c1"></span>        <span class="n">contenttv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
        <span class="n">timetv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
        <span class="n">imgiv</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">getImageThumbnail</span><span class="o">(</span><span class="n">urlImage</span><span class="o">,</span><span class="n">200</span><span class="o">,</span><span class="n">200</span><span class="o">));</span>
        <span class="n">videoiv</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">getVideoThumbnail</span><span class="o">(</span><span class="n">urlVideo</span><span class="o">,</span><span class="n">200</span><span class="o">,</span><span class="n">200</span><span class="o">,</span> <span class="n">MediaStore</span><span class="o">.</span><span class="na">Images</span><span class="o">.</span><span class="na">Thumbnails</span><span class="o">.</span><span class="na">MICRO_KIND</span><span class="o">));</span>
        <span class="c1">// 返回线性布局对象
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">linearLayout</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// 在列表中显示图片缩略图
</span><span class="c1"></span>    <span class="c1">// 图片路径、宽度、高度
</span><span class="c1"></span>    <span class="cm">/*
</span><span class="cm">     * 我们在对图片进行操作的过程中，可能出现图片过大造成内存溢出的情况
</span><span class="cm">     * 出现这样的错误我们就可以缩小图片的大小，这样就不会报错了，BitmapFactory.Option中就实现了这样的操作
</span><span class="cm">     * 其中主要的两个参数是：inSampleSize和inJustDecodeBounds
</span><span class="cm">     * inSampleSize:如果这个值大于1,会返回一个更小的图片来节省内存
</span><span class="cm">     * inJustDecodeBounds:如果这个值为true,那就不返回bitmap,但可以获取图片的尺寸信息并指定内存
</span><span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">Bitmap</span> <span class="nf">getImageThumbnail</span><span class="o">(</span><span class="n">String</span> <span class="n">uri</span><span class="o">,</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span><span class="kt">int</span> <span class="n">height</span><span class="o">){</span>
        <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="c1">// 使用BitmapFactory.Options直接获取缩略图对象
</span><span class="c1"></span>        <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">Options</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">Options</span><span class="o">();</span>

        <span class="c1">// 第一次获取的这个Bitmap无需返回但是要设置尺寸信息
</span><span class="c1"></span>        <span class="n">options</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

        <span class="c1">// 获取Bitmap对象,对齐进行设置
</span><span class="c1"></span>        <span class="c1">// 获取到之后将inJustDecodeBounds设置为false,其实写在第二次获取Bitmap对象之前的任意位置都可以
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>
        <span class="n">options</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

        <span class="c1">// 用缩略图的尺寸和传入参数(设置的缩略图尺寸)作比较
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">beWidth</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outWidth</span> <span class="o">/</span> <span class="n">width</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">beHeight</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="na">outHeight</span> <span class="o">/</span> <span class="n">height</span><span class="o">;</span>

        <span class="c1">// 获取到长宽中最小的那个的比例,按照比例比较短的那个缩小,因为如果按照长的来可能。。。很难受
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">be</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">beWidth</span> <span class="o">&lt;</span> <span class="n">beHeight</span><span class="o">){</span>
            <span class="n">be</span> <span class="o">=</span> <span class="n">beWidth</span><span class="o">;</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="n">be</span> <span class="o">=</span> <span class="n">beHeight</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">be</span> <span class="o">&lt;=</span> <span class="n">0</span><span class="o">){</span>
            <span class="n">be</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// 上面不用判断哪个大于1,因为对于大于1的BitmapFactory会自动将其按照均匀比例缩小
</span><span class="c1"></span>        <span class="n">options</span><span class="o">.</span><span class="na">inSampleSize</span><span class="o">=</span> <span class="n">be</span><span class="o">;</span>

        <span class="c1">// 设置完成了,上面的inJustDecodeBounds也为false了,可以获取返回给ImageView.setImageBitmap(Bitmap bitmap);了
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>

        <span class="c1">// 图片压缩类,压缩出一个指定尺寸的缩略图
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">extractThumbnail</span><span class="o">(</span><span class="n">bitmap</span><span class="o">,</span><span class="n">width</span><span class="o">,</span><span class="n">height</span><span class="o">,</span><span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">OPTIONS_RECYCLE_INPUT</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">bitmap</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Bitmap</span> <span class="nf">getVideoThumbnail</span><span class="o">(</span><span class="n">String</span> <span class="n">uri</span><span class="o">,</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span><span class="kt">int</span> <span class="n">height</span><span class="o">,</span><span class="kt">int</span> <span class="n">kind</span><span class="o">){</span>
        <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="c1">// 获取视频的第一帧
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">createVideoThumbnail</span><span class="o">(</span><span class="n">uri</span><span class="o">,</span><span class="n">kind</span><span class="o">);</span>

        <span class="c1">// 缩略图的一种方式
</span><span class="c1"></span>        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">extractThumbnail</span><span class="o">(</span><span class="n">bitmap</span><span class="o">,</span><span class="n">width</span><span class="o">,</span><span class="n">height</span><span class="o">,</span><span class="n">ThumbnailUtils</span><span class="o">.</span><span class="na">OPTIONS_RECYCLE_INPUT</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">bitmap</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://img-blog.csdnimg.cn/1a3e643b99934a1ba6c912e48ff3271e.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><img src="https://img-blog.csdnimg.cn/5c952ab55a654d9f9fd71192c91ed785.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<hr>
<h2 id="查看笔记内容的页面">查看笔记内容的页面</h2>
<h3 id="详情页ui设计">详情页UI设计</h3>
<p><code>select.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;ImageView</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;500dp&#34;</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/s_img&#34;</span>
        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;VideoView</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;500dp&#34;</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/s_video&#34;</span>
        <span class="na">android:visibility=</span><span class="s">&#34;gone&#34;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/s_tv&#34;</span>
        <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;fill_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>

        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;删除&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/s_delete&#34;</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;返回&#34;</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/s_back&#34;</span>
            <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>它需要一个<code>Activity</code></p>
<p><code>SelectActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SelectActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">select</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;-----------------------------------&#34;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;-----------------------------------&#34;</span> <span class="o">+</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span><span class="n">0</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在主Activity中给笔记列表的每个Item绑定点击跳转事件</p>
<p><code>MainActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.core.app.ActivityCompat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">androidx.core.content.ContextCompat</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">android.Manifest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.annotation.SuppressLint</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Intent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.pm.PackageManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.Cursor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Build</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.StrictMode</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.AdapterView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ListView</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
  
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span> <span class="o">=</span> <span class="n">200</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">textbtn</span><span class="o">,</span><span class="n">imgbtn</span><span class="o">,</span><span class="n">videobtn</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ListView</span> <span class="n">lv</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Intent</span> <span class="n">intent</span><span class="o">;</span>
  
    <span class="kd">private</span> <span class="n">Cursor</span> <span class="n">cursor</span><span class="o">;</span>
  
    <span class="c1">// 创建适配器对象
</span><span class="c1"></span>    <span class="kd">private</span> <span class="n">MyAdapter</span> <span class="n">myAdapter</span><span class="o">;</span>
  
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
  
        <span class="c1">// Android6.0之后不但要在AndroidManifest.xml中申请文件访问读写权限,还要在java代码中设置
</span><span class="c1"></span>        <span class="c1">// 这里就是一个请求方式,如果没有权限就申请权限
</span><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">ContextCompat</span><span class="o">.</span><span class="na">checkSelfPermission</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">)</span> <span class="o">!=</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">PERMISSION_GRANTED</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//申请WRITE_EXTERNAL_STORAGE权限
</span><span class="c1"></span>            <span class="n">ActivityCompat</span><span class="o">.</span><span class="na">requestPermissions</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="n">Manifest</span><span class="o">.</span><span class="na">permission</span><span class="o">.</span><span class="na">WRITE_EXTERNAL_STORAGE</span><span class="o">},</span>
                    <span class="n">WRITE_EXTERNAL_STORAGE_REQUEST_CODE</span><span class="o">);</span>
        <span class="o">}</span>
  
        <span class="c1">//取消严格模式 FileProvider
</span><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">Build</span><span class="o">.</span><span class="na">VERSION</span><span class="o">.</span><span class="na">SDK_INT</span> <span class="o">&gt;=</span> <span class="n">Build</span><span class="o">.</span><span class="na">VERSION_CODES</span><span class="o">.</span><span class="na">N</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">StrictMode</span><span class="o">.</span><span class="na">VmPolicy</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StrictMode</span><span class="o">.</span><span class="na">VmPolicy</span><span class="o">.</span><span class="na">Builder</span><span class="o">();</span>
            <span class="n">StrictMode</span><span class="o">.</span><span class="na">setVmPolicy</span><span class="o">(</span><span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">());</span>
        <span class="o">}</span>
  
        <span class="n">initView</span><span class="o">();</span>
        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  
        <span class="c1">// 这个数据库是items的,所以设置只读就好了
</span><span class="c1"></span>        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getReadableDatabase</span><span class="o">();</span>
<span class="c1">//        sqLiteDatabase = notesDB.getWritableDatabase();
</span><span class="c1">//        addNote();
</span><span class="c1"></span>  
        <span class="c1">//-----------------------------------------------------------------&gt;
</span><span class="c1"></span>  
        <span class="c1">//---------------------------------------------------------&gt;
</span><span class="c1"></span>    <span class="o">}</span>
  
<span class="c1">//    public void addNote(){
</span><span class="c1">//        ContentValues contentValues = new ContentValues();
</span><span class="c1">//        contentValues.put(NotesDB.CONTENT,&#34;hello&#34;);
</span><span class="c1">//        contentValues.put(NotesDB.TIME,getTime());
</span><span class="c1">//        sqLiteDatabase.insert(NotesDB.TABLE_NAME,null,contentValues);
</span><span class="c1">//    }
</span><span class="c1">//
</span><span class="c1">//    public String getTime(){
</span><span class="c1">//        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&#34;yyyy年MM月dd日 HH:mm:ss&#34;);
</span><span class="c1">//        Date date = new Date();
</span><span class="c1">//        String dateStr = simpleDateFormat.format(date);
</span><span class="c1">//        return dateStr;
</span><span class="c1">//    }
</span><span class="c1"></span>  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(){</span>
        <span class="c1">// 实例化笔记列表和三个按钮
</span><span class="c1"></span>        <span class="n">lv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ListView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">list</span><span class="o">);</span>
  
        <span class="n">textbtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">);</span>
        <span class="n">imgbtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">);</span>
        <span class="n">videobtn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">video</span><span class="o">);</span>
  
        <span class="c1">// 绑定监听事件
</span><span class="c1"></span>        <span class="n">textbtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">imgbtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">videobtn</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  
        <span class="n">lv</span><span class="o">.</span><span class="na">setOnItemClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AdapterView</span><span class="o">.</span><span class="na">OnItemClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@SuppressLint</span><span class="o">(</span><span class="s">&#34;Range&#34;</span><span class="o">)</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemClick</span><span class="o">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span> <span class="n">adapterView</span><span class="o">,</span> <span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">cursor</span> <span class="o">=</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
                <span class="n">cursor</span><span class="o">.</span><span class="na">moveToPosition</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
                <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span><span class="n">SelectActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">ID</span><span class="o">)));</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span><span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">ID</span><span class="o">)));</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">,</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">)));</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TIME</span><span class="o">,</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TIME</span><span class="o">)));</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">,</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">)));</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">,</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getColumnIndex</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">)));</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
  
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">){</span>
        <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">AddContent</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="c1">// 按下不同的按钮在Intent中存储不同的value
</span><span class="c1"></span>            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="s">&#34;1&#34;</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="s">&#34;2&#34;</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">video</span><span class="o">:</span>
                <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;flag&#34;</span><span class="o">,</span><span class="s">&#34;3&#34;</span><span class="o">);</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">selectDB</span><span class="o">(){</span>
        <span class="c1">// 数据库查询结果指针
</span><span class="c1"></span>        <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span> <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">query</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="kc">null</span><span class="o">);</span>
  
        <span class="c1">// 将指针传入适配器中,然后适配器中对所有数据进行查询,然后赋值给组件,最后将视图布局返回
</span><span class="c1"></span>        <span class="n">myAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyAdapter</span><span class="o">(</span><span class="k">this</span><span class="o">,</span><span class="n">cursor</span><span class="o">);</span>
        <span class="c1">// 将适配器传给cell.xml的视图对象,它会自动调用适配器中的getView方法,将返回的视图赋值给lv
</span><span class="c1"></span>        <span class="n">lv</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">myAdapter</span><span class="o">);</span>
    <span class="o">}</span>
  
    <span class="c1">// 要在onResume方法中调用
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onResume</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onResume</span><span class="o">();</span>
        <span class="n">selectDB</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="在详情页ui上显示笔记内容">在详情页UI上显示笔记内容</h3>
<p><code>SelectActivity.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.zhang.notepad</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.database.sqlite.SQLiteDatabase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.net.Uri</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.VideoView</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SelectActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">s_delete</span><span class="o">,</span><span class="n">s_back</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">s_img</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">VideoView</span> <span class="n">s_video</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextView</span> <span class="n">s_tv</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">NotesDB</span> <span class="n">notesDB</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">select</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;-----------------------------------&#34;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;-----------------------------------&#34;</span> <span class="o">+</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span><span class="n">0</span><span class="o">));</span>

        <span class="n">s_delete</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_delete</span><span class="o">);</span>
        <span class="n">s_back</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_back</span><span class="o">);</span>
        <span class="n">s_img</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_img</span><span class="o">);</span>
        <span class="n">s_video</span> <span class="o">=</span> <span class="o">(</span><span class="n">VideoView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_video</span><span class="o">);</span>
        <span class="n">s_tv</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_tv</span><span class="o">);</span>

        <span class="n">notesDB</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotesDB</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">sqLiteDatabase</span> <span class="o">=</span> <span class="n">notesDB</span><span class="o">.</span><span class="na">getWritableDatabase</span><span class="o">();</span>

        <span class="n">s_delete</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">s_back</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

        <span class="k">if</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;null&#34;</span><span class="o">)){</span>
            <span class="n">s_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="n">s_img</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">if</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;null&#34;</span><span class="o">)){</span>
            <span class="n">s_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="n">s_video</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="n">s_tv</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">CONTENT</span><span class="o">));</span>
        <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">PATH</span><span class="o">));</span>
        <span class="n">s_img</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">bitmap</span><span class="o">);</span>
        <span class="n">s_video</span><span class="o">.</span><span class="na">setVideoURI</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getStringExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">VIDEO</span><span class="o">)));</span>
        <span class="n">s_video</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">view</span><span class="o">.</span><span class="na">getId</span><span class="o">()){</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_delete</span><span class="o">:</span>
                <span class="n">deleteDate</span><span class="o">();</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">s_back</span><span class="o">:</span>
                <span class="n">finish</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteDate</span><span class="o">(){</span>
        <span class="n">sqLiteDatabase</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">TABLE_NAME</span><span class="o">,</span><span class="s">&#34;_id=&#34;</span> <span class="o">+</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="n">NotesDB</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span><span class="n">0</span><span class="o">),</span><span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="更改app的图标和颜色">更改APP的图标和颜色</h2>
<h3 id="图标">图标</h3>
<ul>
<li>
<p>见上</p>
<p><img src="https://img-blog.csdnimg.cn/10947c5ef1144448a47202ec950fd70f.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="Photo"></p>
</li>
</ul>
<h3 id="主页颜色">主页颜色</h3>
<ul>
<li>
<p>第一种,按钮等颜色</p>
<blockquote>
<p>Button、ListView里面设置android:background:&quot;#fff&quot;这种类似的就好了</p>
<p>TextView就是android:textColor:&quot;#fff&quot;等诸如此类</p>
</blockquote>
</li>
<li>
<p>第二种,设置顶端状态栏、顶部标题栏等颜色</p>
<blockquote>
<p>打开res/values/themes/themes.xml</p>
</blockquote>
<blockquote>
<p>更改颜色</p>
</blockquote>
<p><code>themes.xml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;resources</span> <span class="na">xmlns:tools=</span><span class="s">&#34;http://schemas.android.com/tools&#34;</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Base application theme. --&gt;</span>
    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&#34;Theme.NotePad&#34;</span> <span class="na">parent=</span><span class="s">&#34;Theme.MaterialComponents.DayNight.DarkActionBar&#34;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- 标题栏的颜色 --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;colorPrimary&#34;</span><span class="nt">&gt;</span>#03A9F4<span class="nt">&lt;/item&gt;</span>
          
        <span class="c">&lt;!-- 状态栏的颜色 --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;colorPrimaryVariant&#34;</span><span class="nt">&gt;</span>#e0000000<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;colorOnPrimary&#34;</span><span class="nt">&gt;</span>@color/white<span class="nt">&lt;/item&gt;</span>
        <span class="c">&lt;!-- Secondary brand color. --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;colorSecondary&#34;</span><span class="nt">&gt;</span>@color/teal_200<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;colorSecondaryVariant&#34;</span><span class="nt">&gt;</span>@color/teal_700<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;colorOnSecondary&#34;</span><span class="nt">&gt;</span>@color/black<span class="nt">&lt;/item&gt;</span>
        <span class="c">&lt;!-- Status bar color. --&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&#34;android:statusBarColor&#34;</span> <span class="na">tools:targetApi=</span><span class="s">&#34;l&#34;</span><span class="nt">&gt;</span>?attr/colorPrimaryVariant<span class="nt">&lt;/item&gt;</span>
        <span class="c">&lt;!-- Customize your theme here. --&gt;</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://img-blog.csdnimg.cn/05266ee0ab324c1e993553fec3124fd1.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
<p><img src="https://img-blog.csdnimg.cn/4a46297837794d59bca9c04e442c9e6a.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<hr>
<h1 id="step5android主题设置">Step5.Android主题设置</h1>
<h2 id="颜色">颜色</h2>
<ul>
<li>
<p>透明</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt; Button</span> <span class="na">android:background=</span><span class="s">&#34;#00000000&#34;</span> <span class="err">...</span> <span class="nt">/&gt;</span> 
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>半透明</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt; Button</span> <span class="na">android:background=</span><span class="s">&#34;#e0000000&#34;</span> <span class="err">...</span> <span class="nt">/&gt;</span> 
</code></pre></td></tr></table>
</div>
</div></li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Zhang's Blog</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2021-11-01
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/java/">Java</a>
          <a href="/tags/kotlin/">Kotlin</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/scala/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">scala</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/nginx/">
            <span class="next-text nav-default">Nginx</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="https://stackoverflow.com/" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://twitter.com/" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.facebook.com/" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://www.linkedin.com/" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://www.google.com/" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.zhihu.com/" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/" class="iconfont icon-douban" title="douban"></a>
      <a href="https://getpocket.com/" class="iconfont icon-pocket" title="pocket"></a>
      <a href="https://www.tumblr.com/" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="https://www.instagram.com/" class="iconfont icon-instagram" title="instagram"></a>
      <a href="https://about.gitlab.com/" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="https://www.bilibili.com/" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://golang.org/">GoLang</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Author - 
    <a class="theme-link" href="https://space.bilibili.com/628950169/">Mr'zhang</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>Zhang's Blog</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
