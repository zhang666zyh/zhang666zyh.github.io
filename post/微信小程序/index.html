<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>微信小程序 - Zhang&#39;s Blog的博客</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Zhang&#39;s Blog" /><meta name="description" content="Step01.微信小程序开发环境 百度 Step02.了解开发工具 sitemap.json(项目规则配置) 1 2 3 4 5 6 7 { &amp;#34;desc&amp;#34;: &amp;#34;关于本文件" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.67.1 with theme even" />


<link rel="canonical" href="http://localhost:1313/post/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="微信小程序" />
<meta property="og:description" content="Step01.微信小程序开发环境 百度 Step02.了解开发工具 sitemap.json(项目规则配置) 1 2 3 4 5 6 7 { &#34;desc&#34;: &#34;关于本文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" />
<meta property="article:published_time" content="2022-02-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-02-12T00:00:00+00:00" />
<meta itemprop="name" content="微信小程序">
<meta itemprop="description" content="Step01.微信小程序开发环境 百度 Step02.了解开发工具 sitemap.json(项目规则配置) 1 2 3 4 5 6 7 { &#34;desc&#34;: &#34;关于本文件">
<meta itemprop="datePublished" content="2022-02-12T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2022-02-12T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="28475">



<meta itemprop="keywords" content="前端," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="微信小程序"/>
<meta name="twitter:description" content="Step01.微信小程序开发环境 百度 Step02.了解开发工具 sitemap.json(项目规则配置) 1 2 3 4 5 6 7 { &#34;desc&#34;: &#34;关于本文件"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Zhang&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/home/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">MyBlog</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Zhang&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/home/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">MyBlog</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">微信小程序</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-02-12 </span>
        
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#step01微信小程序开发环境">Step01.微信小程序开发环境</a></li>
    <li><a href="#step02了解开发工具">Step02.了解开发工具</a>
      <ul>
        <li><a href="#sitemapjson项目规则配置"><code>sitemap.json(项目规则配置)</code></a></li>
        <li><a href="#projectconfigjson项目全局配置"><code>project.config.json(项目全局配置)</code></a></li>
        <li><a href="#三个app文件">三个app文件</a>
          <ul>
            <li><a href="#appjs---注册整个小程序应用"><code>app.js</code> -&gt; 注册整个小程序应用</a></li>
            <li><a href="#appjson---页面配置"><code>app.json</code> -&gt; 页面配置</a></li>
            <li><a href="#appwxss---公共样式"><code>app.wxss</code> -&gt; 公共样式</a></li>
          </ul>
        </li>
        <li><a href="#pages目录">pages目录</a></li>
      </ul>
    </li>
    <li><a href="#step03数据绑定">Step03.数据绑定</a>
      <ul>
        <li><a href="#先写个页面">先写个页面</a></li>
        <li><a href="#绑定数据">绑定数据</a></li>
      </ul>
    </li>
    <li><a href="#step04js模拟vue的数据劫持">Step04.js模拟Vue的数据劫持</a></li>
    <li><a href="#step05事件绑定">Step05.事件绑定</a>
      <ul>
        <li><a href="#小程序的事件绑定">小程序的事件绑定</a></li>
      </ul>
    </li>
    <li><a href="#step06路由跳转">Step06.路由跳转</a></li>
    <li><a href="#step07生命周期">Step07.生命周期</a></li>
    <li><a href="#step08获取用户信息">Step08.获取用户信息</a>
      <ul>
        <li>
          <ul>
            <li></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#step09网易云音乐项目">Step09.网易云音乐项目</a>
      <ul>
        <li><a href="#开发主页">开发主页</a>
          <ul>
            <li><a href="#顶部轮播图">顶部轮播图</a></li>
          </ul>
        </li>
        <li><a href="#swiper">swiper</a>
          <ul>
            <li><a href="#选项导航菜单">选项导航菜单</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#step10不知名项目到时候再补充">Step10.不知名项目(到时候再补充)</a>
      <ul>
        <li><a href="#centos服务器配置redismysql">CentOS服务器配置Redis、MySQL</a>
          <ul>
            <li><a href="#redis">Redis</a></li>
            <li><a href="#mysql">MySQL</a></li>
          </ul>
        </li>
        <li><a href="#前后端数据交互">前后端数据交互</a>
          <ul>
            <li><a href="#创建springboot项目">创建SpringBoot项目</a></li>
            <li><a href="#测试">测试</a></li>
          </ul>
        </li>
        <li><a href="#登录注册功能">登录注册功能</a>
          <ul>
            <li><a href="#导入依赖">导入依赖</a></li>
            <li><a href="#创建数据库">创建数据库</a></li>
            <li><a href="#连接数据库">连接数据库</a></li>
            <li><a href="#注册">注册</a></li>
            <li><a href="#后台处理">后台处理</a></li>
          </ul>
        </li>
        <li><a href="#springboot和redis做微信小程序交互">Springboot和redis做微信小程序交互</a>
          <ul>
            <li><a href="#测试连接服务器上的redis">测试连接服务器上的Redis</a></li>
            <li><a href="#springboot测试redis增删改查">SpringBoot测试Redis增删改查</a></li>
            <li><a href="#实现redis登录微信小程序">实现Redis登录微信小程序</a></li>
          </ul>
        </li>
        <li><a href="#这个项目缺shiro源码暂时停掉不是永远停止">这个项目缺shiro源码,暂时停掉,不是永远停止</a></li>
      </ul>
    </li>
    <li><a href="#step11商城项目">Step11.商城项目</a>
      <ul>
        <li><a href="#11-登录页面">1.1 登录页面</a></li>
        <li><a href="#12-tabbar导航栏">1.2 Tabbar导航栏</a></li>
        <li><a href="#13-路由跳转">1.3 路由跳转</a></li>
        <li><a href="#21-头部轮播图">2.1 头部轮播图</a></li>
        <li><a href="#22-中间菜单">2.2 中间菜单</a></li>
        <li><a href="#23-热门产品块">2.3 热门产品块</a></li>
        <li><a href="#24-产品详情页">2.4 产品详情页</a>
          <ul>
            <li><a href="#关于微信小程序的wxrequest">关于微信小程序的wx.request</a></li>
          </ul>
        </li>
        <li><a href="#31-购物车页">3.1 购物车页</a></li>
        <li><a href="#32-分类页">3.2 分类页</a></li>
      </ul>
    </li>
    <li><a href="#step12输入框组件详解">Step12.输入框组件详解</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="step01微信小程序开发环境">Step01.微信小程序开发环境</h1>
<p>百度</p>
<h1 id="step02了解开发工具">Step02.了解开发工具</h1>
<h2 id="sitemapjson项目规则配置"><code>sitemap.json(项目规则配置)</code></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;desc&#34;</span><span class="p">:</span> <span class="s2">&#34;关于本文件的更多信息，请参考文档 https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html&#34;</span><span class="p">,</span>
    <span class="nt">&#34;rules&#34;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="nt">&#34;action&#34;</span><span class="p">:</span> <span class="s2">&#34;allow&#34;</span><span class="p">,</span> 
        <span class="nt">&#34;page&#34;</span><span class="p">:</span> <span class="s2">&#34;*&#34;</span>
    <span class="p">}]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>rules是数组
<ul>
<li>action:允许小程序所有页面被小程序爬虫索引</li>
<li>page:允许小程序的哪些页面<code>被索引或不被索引</code></li>
<li>其他参数都不是必须的,详情见[官方文档</li>
<li>[](<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html">https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html</a>)</li>
</ul>
</li>
</ul>
<hr>
<h2 id="projectconfigjson项目全局配置"><code>project.config.json(项目全局配置)</code></h2>
<p><strong>项目的主配置文件</strong></p>
<ul>
<li>这个配置文件除了<code>appid</code>和<code>projectname</code>经常要修改,其他的都不要动,相当于小程序的系统文件</li>
<li>而且就算要修改,也有可视化工具</li>
</ul>
<hr>
<h2 id="三个app文件">三个app文件</h2>
<ul>
<li>项目根目录下有三个app为文件名的文件,分别为<code>app.js</code> <code>app.json</code>以及<code>app.wxss</code></li>
<li>app,就是项目<code>必须有这三个文件</code>,内容都在这里面写,到时候渲染也是渲染这几个app页面</li>
</ul>
<h3 id="appjs---注册整个小程序应用"><code>app.js</code> -&gt; 注册整个小程序应用</h3>
<ul>
<li>里面存放
<ul>
<li>初始化数据</li>
<li>事件触发、监听事件等一系列方法</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// app.js
</span><span class="c1">// app.js里必须有 App({})
</span><span class="c1"></span><span class="nx">App</span><span class="p">({})</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="appjson---页面配置"><code>app.json</code> -&gt; 页面配置</h3>
<ul>
<li>里面存放
<ul>
<li>pages:文件路由</li>
<li>window:当前页面全局样式(导航栏)</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;pages&#34;</span><span class="p">:</span> <span class="p">[</span> 
        <span class="s2">&#34;pages/index/index&#34;</span> <span class="err">//</span> <span class="err">页面文件路径</span>
    <span class="p">],</span>
    <span class="nt">&#34;window&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;backgroundTextStyle&#34;</span><span class="p">:</span> <span class="s2">&#34;light&#34;</span><span class="p">,</span> <span class="err">//</span> 
        <span class="nt">&#34;navigationBarBackgroundColor&#34;</span><span class="p">:</span> <span class="s2">&#34;#fba&#34;</span><span class="p">,</span> 
        <span class="nt">&#34;navigationBarTitleText&#34;</span><span class="p">:</span> <span class="s2">&#34;Weixin&#34;</span><span class="p">,</span>
        <span class="nt">&#34;navigationBarTextStyle&#34;</span><span class="p">:</span> <span class="s2">&#34;black&#34;</span>
    <span class="p">},</span>
    <span class="nt">&#34;style&#34;</span><span class="p">:</span> <span class="s2">&#34;v2&#34;</span><span class="p">,</span>
    <span class="nt">&#34;sitemapLocation&#34;</span><span class="p">:</span> <span class="s2">&#34;sitemap.json&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>pages</code></p>
<p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径（含文件名） 信息。文件名<strong>不需要写文件后缀</strong>，框架会自动去寻找对应位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理(一个页面需要<code>json、js、wxml以及wxss</code>四个文件组合)</p>
<p>未指定 <code>entryPagePath</code> 时，数组的第一项代表小程序的初始页面（首页）。</p>
<p><strong>小程序中新增/减少页面，都需要对 pages 数组进行修改。</strong></p>
<p>如开发目录为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-text" data-lang="text">├── app.js
├── app.json
├── app.wxss
├── pages
│   │── index
│   │   ├── index.wxml
│   │   ├── index.js
│   │   ├── index.json
│   │   └── index.wxss
│   └── logs
│       ├── logs.wxml
│       └── logs.js
└── utils
</code></pre></td></tr></table>
</div>
</div><hr>
<p><code>window</code></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">描述</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">navigationBarBackgroundColor</td>
<td align="left">HexColor</td>
<td align="left">#000000</td>
<td align="left">导航栏背景颜色，如 <code>#000000</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">navigationBarTextStyle</td>
<td align="left">string</td>
<td align="left">white</td>
<td align="left">导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">navigationBarTitleText</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">导航栏标题文字内容</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">navigationStyle</td>
<td align="left">string</td>
<td align="left">default</td>
<td align="left">导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮。参见注 2。</td>
<td align="left">iOS/Android 微信客户端 6.6.0，Windows 微信客户端不支持</td>
</tr>
<tr>
<td align="left">backgroundColor</td>
<td align="left">HexColor</td>
<td align="left">#ffffff</td>
<td align="left">窗口的背景色</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">backgroundTextStyle</td>
<td align="left">string</td>
<td align="left">dark</td>
<td align="left">下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">backgroundColorTop</td>
<td align="left">string</td>
<td align="left">#ffffff</td>
<td align="left">顶部窗口的背景色，仅 iOS 支持</td>
<td align="left">微信客户端 6.5.16</td>
</tr>
<tr>
<td align="left">backgroundColorBottom</td>
<td align="left">string</td>
<td align="left">#ffffff</td>
<td align="left">底部窗口的背景色，仅 iOS 支持</td>
<td align="left">微信客户端 6.5.16</td>
</tr>
<tr>
<td align="left">enablePullDownRefresh</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">是否开启全局的下拉刷新。 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onpulldownrefresh">Page.onPullDownRefresh</a></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onReachBottomDistance</td>
<td align="left">number</td>
<td align="left">50</td>
<td align="left">页面上拉触底事件触发时距页面底部距离，单位为 px。 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onreachbottom">Page.onReachBottom</a></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pageOrientation</td>
<td align="left">string</td>
<td align="left">portrait</td>
<td align="left">屏幕旋转设置，支持 <code>auto</code> / <code>portrait</code> / <code>landscape</code> 详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/resizable.html">响应显示区域变化</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a> (auto) / <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.5.0</a> (landscape)</td>
</tr>
<tr>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#restartStrategy">restartStrategy</a></td>
<td align="left">string</td>
<td align="left">homePage</td>
<td align="left">重新启动策略配置</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.0</a></td>
</tr>
<tr>
<td align="left">initialRenderingCache</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">页面<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/initial-rendering-cache.html">初始渲染缓存</a>配置，支持 <code>static</code> / <code>dynamic</code></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.1</a></td>
</tr>
<tr>
<td align="left">visualEffectInBackground</td>
<td align="left">string</td>
<td align="left">none</td>
<td align="left">切入系统后台时，隐藏页面内容，保护用户隐私。支持 <code>hidden</code> / <code>none</code></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.15.0</a></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="appwxss---公共样式"><code>app.wxss</code> -&gt; 公共样式</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">/**app.wxss**/
.container {
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding: 200rpx 0;
  box-sizing: border-box;
} 
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="pages目录">pages目录</h2>
<p><strong>wxml就是html,wxss就是css</strong></p>
<ul>
<li>存放页面文件</li>
</ul>
<p><code>index.js</code></p>
<ul>
<li>注册当前页面的实例</li>
<li>里面可以存储变量</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1">// 首字母大写,注册当前页面的实例
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({...})</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<p><code>index.wxml</code></p>
<ul>
<li>页面文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;!--pages/index/index.wxml--&gt;
&lt;text&gt;HelloWorld&lt;/text&gt;
</code></pre></td></tr></table>
</div>
</div><hr>
<p><code>index.wxss</code></p>
<p>&hellip;</p>
<hr>
<p><code>index.json</code></p>
<p>&hellip;</p>
<hr>
<h1 id="step03数据绑定">Step03.数据绑定</h1>
<ul>
<li>
<p>1.小程序</p>
<ul>
<li>
<p>data中初始化数据</p>
</li>
<li>
<p>修改数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>修改数据的行为始终是同步的</p>
</blockquote>
</li>
<li>
<p>数据流</p>
<blockquote>
<p>单项: Model -&gt; View</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>2.Vue</p>
<ul>
<li>
<p>data中初始化数据</p>
</li>
<li>
<p>修改数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">this</span><span class="p">.</span><span class="nx">key</span> <span class="o">=</span> <span class="nx">value</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>数据流</p>
<blockquote>
<p>Vue是单向数据流:Model -&gt; View</p>
<p>Vue实现了双向绑定 v-model</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>3.React</p>
<ul>
<li>
<p>state中初始化数据</p>
</li>
<li>
<p>修改数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>自身钩子函数中(componentDidMount)是异步的</li>
<li>非自身的钩子函数(定时器的回调)是同步的</li>
</ul>
</li>
<li>
<p>数据流</p>
<blockquote>
<p>单向 Model -&gt; View</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="先写个页面">先写个页面</h2>
<ul>
<li>
<p>将项目中除了三个<code>app</code>文件和sitemap.json以及project.config.json外,其余的全部删掉</p>
</li>
<li>
<p>在<code>App.js</code>中输入<code>App</code>,敲击提示回车,自动生成框架</p>
<p><code>App.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// app.js
</span><span class="c1">// 注册整个小程序应用
</span><span class="c1"></span><span class="nx">App</span><span class="p">({</span>
  
  <span class="cm">/**
</span><span class="cm">   * 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）
</span><span class="cm">   */</span>
  <span class="nx">onLaunch</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      
  <span class="p">},</span>
  
  <span class="cm">/**
</span><span class="cm">   * 当小程序启动，或从后台进入前台显示，会触发 onShow
</span><span class="cm">   */</span>
  <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
      
  <span class="p">},</span>
  
  <span class="cm">/**
</span><span class="cm">   * 当小程序从前台进入后台，会触发 onHide
</span><span class="cm">   */</span>
  <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      
  <span class="p">},</span>
  
  <span class="cm">/**
</span><span class="cm">   * 当小程序发生脚本错误，或者 api 调用失败时，会触发 onError 并带上错误信息
</span><span class="cm">   */</span>
  <span class="nx">onError</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
      
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在app.json中</p>
<ul>
<li>输入pages和windows</li>
<li>分别根据提示生成代码</li>
</ul>
<p><code>app.json</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;pages&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&#34;pages/index/index&#34;</span>
    <span class="p">],</span>
    <span class="nt">&#34;window&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;navigationBarBackgroundColor&#34;</span><span class="p">:</span> <span class="s2">&#34;#87ceeb&#34;</span><span class="p">,</span>
        <span class="nt">&#34;navigationBarTextStyle&#34;</span><span class="p">:</span> <span class="s2">&#34;white&#34;</span><span class="p">,</span>
        <span class="nt">&#34;navigationBarTitleText&#34;</span><span class="p">:</span> <span class="s2">&#34;张宇航&#34;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>navigationBarBackgroundColor是页面顶部导航栏背景颜色</li>
<li>navigationBarTextStyle是页面顶部导航栏文字颜色</li>
<li>navigationBarTitleText是页面顶部导航栏标题内容</li>
</ul>
</li>
<li>
<p>创建pages目录</p>
</li>
<li>
<p>右键pages目录,有个<code>新建page</code></p>
</li>
<li>
<p>命名为index</p>
<ul>
<li>它就会自动生成index.js、index.json、index.wxml以及index.wxss四个文件</li>
</ul>
</li>
<li>
<p>编辑<code>index.wxml</code></p>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;avatorUrl&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="p">&gt;</span>root<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;goStudy&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>关于图像引入,在根目录中创建一个<code>static</code>目录
<ul>
<li>在static下创建images目录</li>
<li>将图片拖入到images下</li>
<li>然后使用相对路径引入就好</li>
</ul>
</li>
</ul>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;avatorUrl&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../../static/images/header.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="p">&gt;</span>root<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;goStudy&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>编辑<code>index.wxss</code>,编辑index.wxml的样式</p>
<p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/*  
</span><span class="c">    因为要使用flex布局
</span><span class="c">    最外层的尺寸是被内部元素撑开的
</span><span class="c">    所以这里需要让背景颜色撑开整个页面
</span><span class="c">    就需要将整个页面的尺寸设置为100% 
</span><span class="c">*/</span>
<span class="nt">page</span><span class="p">{</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* index样式 */</span>
<span class="p">.</span><span class="nc">indexContainer</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span> <span class="c">/* 指定子元素在父元素中的排列方向 */</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span> <span class="c">/* 控制纵轴对齐方式 */</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">skyblue</span><span class="p">;</span>
    <span class="c">/* height: 100vh; 100%是继承父元素宽度的100% */</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 头像 */</span>  
<span class="p">.</span><span class="nc">avatorUrl</span><span class="p">{</span>
    <span class="c">/* 1rpx = 0.5px,这个根据手机屏幕自适应 */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">100</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">userName</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">32</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">100</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">goStudy</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
  
    <span class="c">/* 设置view内部文本样式,如果内部是文本标签,则自动继承文本样式 */</span>
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">28</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="n">rpx</span> <span class="kc">solid</span> <span class="mh">#333</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><img src="https://img-blog.csdnimg.cn/f06f2faaada549da83d22f9ddf82ca26.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<hr>
<h2 id="绑定数据">绑定数据</h2>
<ul>
<li>
<p>index中</p>
</li>
<li>
<p>有个名为Page的json组</p>
</li>
<li>
<p>第一个就是<code>data{}</code></p>
</li>
<li>
<p>这里面存储的是页面的初始数据,也就是init变量常量等</p>
</li>
<li>
<p>将变量键值对存储在这里,在前端页面index.wxml中就可以使用el语法<code>{}</code>直接取值</p>
<p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;哈哈哈&#39;</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
          
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;avatorUrl&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../../static/images/header.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 通过{{}}el语法引用js文件中的初始化数据 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="p">&gt;</span>{{ username }}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;goStudy&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h1 id="step04js模拟vue的数据劫持">Step04.js模拟Vue的数据劫持</h1>
<ul>
<li>
<p>数据劫持主要是为了修改js对象的数据时</p>
</li>
<li>
<p>使用get和set方法,对修改进行实时监听</p>
<p><code>VueHiJack.html</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
  
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;IE=edge&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>VueHijack<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../js/VueHijack.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>VueHiJack.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// Vue数据劫持代理
</span><span class="c1"></span>  
  
<span class="c1">// 模拟Vue的data选项
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;curry&#39;</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">33</span>
<span class="p">}</span>
  
<span class="c1">// 模拟组件实例
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">_this</span> <span class="o">=</span> <span class="p">{</span>
  
<span class="p">}</span>
  
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">item</span> <span class="k">in</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 利用defineProperty
</span><span class="c1"></span>    <span class="c1">// 第一个参数为要赋值的变量,第二个参数为源数据,第三个为json方法组
</span><span class="c1"></span>    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">_this</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="p">{</span>
        <span class="c1">// get方法用于获取
</span><span class="c1"></span>        <span class="nx">get</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;get()&#39;</span><span class="p">);</span>
            <span class="k">return</span> <span class="nx">data</span><span class="p">[</span><span class="nx">item</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="nx">set</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;set()&#39;</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">);</span>
            <span class="c1">// 更改this后,将传进来的数据赋值给data对应的属性
</span><span class="c1"></span>            <span class="c1">// 实现实时更新data
</span><span class="c1"></span>            <span class="nx">data</span><span class="p">[</span><span class="nx">item</span><span class="p">]</span> <span class="o">=</span> <span class="nx">newValue</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">}</span>
  
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">_this</span><span class="p">.</span><span class="nx">username</span><span class="p">);</span>
<span class="c1">// 更改this属性一定要在外部,如果同时在外部和内部更改
</span><span class="c1">// 外部更改执行this.set方法,set内部再进行更改调用自身进入死循环
</span><span class="c1"></span><span class="nx">_this</span><span class="p">.</span><span class="nx">username</span> <span class="o">=</span> <span class="s1">&#39;zhixing&#39;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">_this</span><span class="p">.</span><span class="nx">username</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h1 id="step05事件绑定">Step05.事件绑定</h1>
<ul>
<li>
<p>事件流的三个阶段</p>
<ul>
<li>1.捕获,从外向内</li>
<li>2.执行目标阶段</li>
<li>3.冒泡,从内向外</li>
</ul>
</li>
<li>
<p>例如:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
            我是按钮
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>为什么点击a,能传递到p</p>
</li>
<li>
<p>说a包含p是自己的主观判断</p>
</li>
<li>
<p>因为点击a后,a捕获到了点击事件,捕获是从外向内的,a传给div,div传给p,向内没有之后</p>
</li>
<li>
<p>开始触发最内层元素的点击事件</p>
</li>
<li>
<p>然后开始冒泡,外层的元素都继承了最内层元素的冒泡事件</p>
</li>
<li>
<p>直到a标签终止冒泡</p>
</li>
</ul>
<hr>
<h2 id="小程序的事件绑定">小程序的事件绑定</h2>
<ul>
<li>
<p>bindtap默认冒泡</p>
</li>
<li>
<p>catchtap取消冒泡</p>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;avatorUrl&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../../static/images/header.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 通过{{}}el语法引用js文件中的初始化数据 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="p">&gt;</span>{{ username }}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;goStudy&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;handleParent&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;handleChild&#34;</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在index.js中创建点击事件对应的方法</p>
<p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;智行&#39;</span>
    <span class="p">},</span>
  
    <span class="nx">handleParent</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="nx">handleChild</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;child&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 钩子函数,小程序是同步的,React是异步的
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;智博&#39;</span>
        <span class="p">});</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>点击按钮,会发现先打印子元素(child),后打印父元素(parent)</p>
</li>
<li>
<p>将bindtap换成catchtap</p>
</li>
<li>
<p>点击外层打印parent,点击子元素打印child,二者点击事件互不影响</p>
</li>
</ul>
<hr>
<h1 id="step06路由跳转">Step06.路由跳转</h1>
<ul>
<li>
<p>在pages下创建一个logs</p>
<p><code>index.html</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;avatorUrl&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../../static/images/header.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 通过{{}}el语法引用js文件中的初始化数据 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="p">&gt;</span>{{ username }}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;goStudy&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;toLogs&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;toLogs&#34;</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>官方文档的API中给出了几种路由跳转的方法</p>
<ul>
<li>
<p><code>wx.reLaunch(Object object)</code></p>
<blockquote>
<p>参数</p>
</blockquote>
<ul>
<li>Object object</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">需要跳转的应用内页面路径 (代码包路径)，路径后可以带参数。参数与路径之间使用?分隔，参数键与参数值用=相连，不同参数用&amp;分隔；如 &lsquo;path?key=value&amp;key2=value2&rsquo;</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>wx.redirectTo(Object object)</p>
<blockquote>
<p>参数</p>
</blockquote>
<ul>
<li>Object object</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">需要跳转的应用内非 tabBar 的页面的路径 (代码包路径), 路径后可以带参数。参数与路径之间使用 <code>?</code> 分隔，参数键与参数值用 <code>=</code> 相连，不同参数用 <code>&amp;</code> 分隔；如 &lsquo;path?key=value&amp;key2=value2&rsquo;</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>wx.navigateTo(Object object)</p>
<blockquote>
<p>参数</p>
</blockquote>
<ul>
<li>Object object</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">需要跳转的应用内非 tabBar 的页面的路径 (代码包路径), 路径后可以带参数。参数与路径之间使用 <code>?</code> 分隔，参数键与参数值用 <code>=</code> 相连，不同参数用 <code>&amp;</code> 分隔；如 &lsquo;path?key=value&amp;key2=value2&rsquo;</td>
</tr>
<tr>
<td align="left">events</td>
<td align="left">Object</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">页面间通信接口，用于监听被打开页面发送到当前页面的数据。基础库 2.7.3 开始支持。</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>wx.switchTab(Object object)</p>
<blockquote>
<p><strong>以 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html#%E5%BC%82%E6%AD%A5-API-%E8%BF%94%E5%9B%9E-Promise">Promise 风格</a> 调用</strong>：支持</p>
<p><strong>需要页面权限</strong>：当前是插件页面时，宿主小程序不能调用该接口，反之亦然</p>
<p><strong>小程序插件</strong>：支持，需要小程序基础库版本不低于 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.1</a></p>
<p>在小程序插件中使用时，只能在当前插件的页面中调用</p>
<p><strong>微信 Windows 版</strong>：支持</p>
<p><strong>微信 Mac 版</strong>：支持</p>
</blockquote>
<p>跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面</p>
<blockquote>
<p>参数</p>
</blockquote>
<ul>
<li>Object object</li>
</ul>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">需要跳转的 tabBar 页面的路径 (代码包路径)（需在 app.json 的 <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabbar">tabBar</a> 字段定义的页面），路径后不能带参数。</td>
</tr>
<tr>
<td align="left">success</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用成功的回调函数</td>
</tr>
<tr>
<td align="left">fail</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用失败的回调函数</td>
</tr>
<tr>
<td align="left">complete</td>
<td align="left">function</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td>
</tr>
</tbody>
</table>
<blockquote>
<p>示例代码</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">//</span> <span class="err">app.json</span>
<span class="p">{</span>
  <span class="nt">&#34;tabBar&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;list&#34;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&#34;pagePath&#34;</span><span class="p">:</span> <span class="s2">&#34;index&#34;</span><span class="p">,</span>
      <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;首页&#34;</span>
    <span class="p">},{</span>
      <span class="nt">&#34;pagePath&#34;</span><span class="p">:</span> <span class="s2">&#34;other&#34;</span><span class="p">,</span>
      <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;其他&#34;</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="err">wx.switchTab(</span><span class="p">{</span>
  <span class="err">url:</span> <span class="err">&#39;/index&#39;</span>
<span class="p">}</span><span class="err">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>
<p>在index.js中创建toLogs方法</p>
<p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;智行&#39;</span>
    <span class="p">},</span>
  
    <span class="nx">handleParent</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="nx">handleChild</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;child&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="nx">toLogs</span><span class="p">(){</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">reLaunch</span><span class="p">({</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/pages/logs/logs&#39;</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
          
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h1 id="step07生命周期">Step07.生命周期</h1>
<ul>
<li>
<p>页面的js文件中自动生成了这些函数</p>
<p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
          
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onLoad&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onReady&#39;</span><span class="p">);</span>   
        <span class="c1">// debugger;     
</span><span class="c1"></span>    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     * 执行多次
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onShow&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onHide&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onUnload&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onPullDownRefresh&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onReachBottom&#39;</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onShareAppMessage&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>一个页面的生命周期</code></p>
<ul>
<li>①.当<code>视图层</code>初始化后,逻辑层也开始初始化,进行创建逻辑,调用onLoad和onShow方法</li>
<li>②.<code>视图层</code>和<code>逻辑层</code>都初始化后,<code>视图层</code>给<code>逻辑层</code>发<code>通知</code>,在<code>发送通知</code>后<code>等待逻辑层传递过来的数据</code></li>
<li>③.<code>逻辑层</code>接收到<code>视图层的通知</code>后,发送<code>数据</code>给<code>视图层</code>,<code>视图层</code>接收到<code>来自逻辑层的数据</code>后,进行<code>第一次渲染(first Render)</code></li>
<li>④.<code>视图层</code>进行<code>第一次渲染</code>后给<code>逻辑层</code>发送通知,<code>逻辑层</code>接收到<code>视图层的通知</code>后调用<code>onReady</code>方法(onReady方法用于监听初始化渲染的完成)</li>
</ul>
</li>
<li>
<p>当前页面,如果不是销毁页面而是隐藏跳转,跳转后返回前页面,则onLoad和onReady只执行一次,onShow执行多次,这样可以节约资源</p>
</li>
<li>
<p>onShow方法用于监听显示页面</p>
</li>
<li>
<p>onHide方法用于监听<code>页面的隐藏</code></p>
</li>
<li>
<p>onUnload方法用于监听页面的<code>销毁事件</code></p>
</li>
<li>
<p><img src="https://img-blog.csdnimg.cn/63bfcf099bae4d72abfdecf994209773.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<hr>
<h1 id="step08获取用户信息">Step08.获取用户信息</h1>
<ul>
<li>
<p>旧版本,直接写个button,然后用open-type属性搞一下就好了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:else</span> <span class="na">open-type</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span> <span class="na">bindgetuserinfo</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span><span class="p">&gt;</span> 获取用户信息 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>新版本<strong><code>官方</code></strong>进行了更新</p>
<ul>
<li>视图模块</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userinfo&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">block</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{!hasUserInfo}}&#34;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{canIUseGetUserProfile}}&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;getUserProfile&#34;</span><span class="p">&gt;</span> 获取头像昵称 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:else</span> <span class="na">open-type</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span> <span class="na">bindgetuserinfo</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span><span class="p">&gt;</span> 获取头像昵称 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">block</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">block</span> <span class="na">wx:else</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">image</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;bindViewTap&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userinfo-avatar&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{userInfo.avatarUrl}}&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;cover&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userinfo-nickname&#34;</span><span class="p">&gt;</span>{{userInfo.nickName}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">block</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>js部分</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">Page</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">userInfo</span><span class="o">:</span> <span class="p">{},</span>
    <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">canIUseGetUserProfile</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">wx</span><span class="p">.</span><span class="nx">getUserProfile</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
        <span class="nx">canIUseGetUserProfile</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">})</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">getUserProfile</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认
</span><span class="c1"></span>    <span class="c1">// 开发者妥善保管用户快速填写的头像昵称，避免重复弹窗
</span><span class="c1"></span>    <span class="nx">wx</span><span class="p">.</span><span class="nx">getUserProfile</span><span class="p">({</span>
      <span class="nx">desc</span><span class="o">:</span> <span class="s1">&#39;用于完善会员资料&#39;</span><span class="p">,</span> <span class="c1">// 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写
</span><span class="c1"></span>      <span class="nx">success</span><span class="o">:</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
          <span class="nx">userInfo</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">,</span>
          <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">})</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="nx">getUserInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 不推荐使用getUserInfo获取用户信息，预计自2021年4月13日起，getUserInfo将不再弹出弹窗，并直接返回匿名的用户个人信息
</span><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
      <span class="nx">userInfo</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">,</span>
      <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">})</span>
  <span class="p">},</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>下面是我进行的配置</p>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 如果没有获取用户信息,那么js中的data.userInfo默认为空,wx.if为false,不显示 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">image</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{userInfo.avatarUrl}}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;avatorUrl&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{userInfo.avatarUrl}}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- 获取用户信息 --&gt;</span>
    <span class="c">&lt;!-- hasUserInfo:
</span><span class="c">            当获取用户信息后,js中将该属性设置为true,该标签将不再显示
</span><span class="c">    --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{!hasUserInfo}}&#34;</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 根据index.js中的脚本,如果wx.getUserProfile可以使用,该按钮则被显示 --&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{canIUseGetUserProfile}}&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;getUserProfile&#34;</span><span class="p">&gt;</span> 获取用户信息 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 
</span><span class="c">            否则使用旧版本的 open-type=&#34;getUserInfo&#34; , 该组件不需要在js中声明任何数据 
</span><span class="c">            但如果在js中声明函数并在前端视图绑定,则也会将数据注入到绑定的方法中
</span><span class="c">        --&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:else</span> <span class="na">open-type</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span> <span class="na">bindgetuserinfo</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span><span class="p">&gt;</span> 获取用户信息 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- 
</span><span class="c">        通过{{}}el语法引用js文件中的初始化数据 
</span><span class="c">    --&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;userName&#34;</span><span class="p">&gt;</span>{{userInfo.nickName}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- &lt;view class=&#34;goStudy&#34; bindtap=&#34;handleParent&#34;&gt;
</span><span class="c">        &lt;text bindtap=&#34;handleChild&#34;&gt;HelloWorld&lt;/text&gt;
</span><span class="c">    &lt;/view&gt; --&gt;</span>
    <span class="c">&lt;!-- &lt;view class=&#34;goStudy&#34; catchtap=&#34;handleParent&#34;&gt;
</span><span class="c">        &lt;text catchtap=&#34;handleChild&#34;&gt;HelloWorld&lt;/text&gt;
</span><span class="c">    &lt;/view&gt; --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;goStudy&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;toLogs&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;toLogs&#34;</span><span class="p">&gt;</span>HelloWorld<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>

    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;智行&#39;</span><span class="p">,</span>
        <span class="nx">userInfo</span><span class="o">:</span> <span class="p">{},</span> <span class="c1">// 存储用户信息,用于视图判断是否显示标签
</span><span class="c1"></span>        <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// 前端外层是!hasUserInfo,也就是默认显示获取用户信息按钮
</span><span class="c1"></span>        <span class="nx">canIUseGetUserProfile</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// 默认认为无法使用getUserProfile
</span><span class="c1"></span>    <span class="p">},</span>

    <span class="c1">// 用于测试冒泡事件
</span><span class="c1"></span>    <span class="nx">handleParent</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">handleChild</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;child&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">// 用于测试页面跳转
</span><span class="c1"></span>    <span class="nx">toLogs</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">navigateTo</span><span class="p">({</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/pages/logs/logs&#39;</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// console.log(&#39;onLoad&#39;);
</span><span class="c1"></span>
        <span class="c1">// 加载页面时判断wx.getUserProfile是否可用
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">wx</span><span class="p">.</span><span class="nx">getUserProfile</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 如果可用
</span><span class="c1"></span>            <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                <span class="c1">// 将 canIUseGetUserProfile 设置为true,说明wx.getUserProfile可用
</span><span class="c1"></span>                <span class="nx">canIUseGetUserProfile</span><span class="o">:</span> <span class="kc">true</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">},</span>

    <span class="nx">getUserProfile</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认
</span><span class="c1"></span>        <span class="c1">// 开发者妥善保管用户快速填写的头像昵称，避免重复弹窗
</span><span class="c1"></span>
        <span class="c1">// wx.getUserProfile需要自定义
</span><span class="c1"></span>        <span class="nx">wx</span><span class="p">.</span><span class="nx">getUserProfile</span><span class="p">({</span>
            <span class="nx">desc</span><span class="o">:</span> <span class="s1">&#39;用于完善会员资料&#39;</span><span class="p">,</span> <span class="c1">// 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写
</span><span class="c1"></span>
            <span class="c1">// 当点击 &#34;同意&#34; 后,微信小程序会向success方法注入一个参数,这个参数中携带着用户信息
</span><span class="c1"></span>            <span class="nx">success</span><span class="o">:</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                    <span class="nx">userInfo</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">,</span>
                    <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// 点击同意后不再显示用户信息按钮
</span><span class="c1"></span>                <span class="p">});</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="c1">// 当点击 &#34;拒绝&#34; 后,微信小程序会向fail方法注入一个参数,这个参数中只有一条错误信息
</span><span class="c1"></span>            <span class="nx">fail</span><span class="o">:</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">},</span>

    <span class="c1">// 这个方法
</span><span class="c1"></span>    <span class="nx">getUserInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 不推荐使用getUserInfo获取用户信息，预计自2021年4月13日起，getUserInfo将不再弹出弹窗，并直接返回匿名的用户个人信息
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">userInfo</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">,</span>
            <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// 点击同意后不再显示用户信息按钮
</span><span class="c1"></span>        <span class="p">});</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onReady&#39;</span><span class="p">);</span>
        <span class="c1">// debugger;     
</span><span class="c1"></span>    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     * 执行多次
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onShow&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onHide&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onUnload&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onPullDownRefresh&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onReachBottom&#39;</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;onShareAppMessage&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/*  
</span><span class="c">    因为要使用flex布局
</span><span class="c">    最外层的尺寸是被内部元素撑开的
</span><span class="c">    所以这里需要让背景颜色撑开整个页面
</span><span class="c">    就需要将整个页面的尺寸设置为100% 
</span><span class="c">*/</span>
<span class="nt">page</span><span class="p">{</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* index样式 */</span>
<span class="p">.</span><span class="nc">indexContainer</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span> <span class="c">/* 指定子元素在父元素中的排列方向 */</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span> <span class="c">/* 控制纵轴对齐方式 */</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">skyblue</span><span class="p">;</span>
    <span class="c">/* height: 100vh; 100%是继承父元素宽度的100% */</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 头像 */</span>  
<span class="p">.</span><span class="nc">avatorUrl</span><span class="p">{</span>
    <span class="c">/* 1rpx = 0.5px,这个根据手机屏幕自适应 */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">100</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 用户名 */</span>
<span class="p">.</span><span class="nc">userName</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">32</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">100</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 底部HelloWorld块样式 */</span>
<span class="p">.</span><span class="nc">goStudy</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>

    <span class="c">/* 设置view内部文本样式,如果内部是文本标签,则自动继承文本样式 */</span>
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">28</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="n">rpx</span> <span class="kc">solid</span> <span class="mh">#333</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 用于获取用户信息的头部按钮样式 */</span>
<span class="nt">button</span><span class="p">{</span>
    <span class="c">/* 1rpx = 0.5px,这个根据手机屏幕自适应 */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span><span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">100</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">24</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span>
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.5</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>解析:</p>
<ul>
<li>
<p>js的data中有一些数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/*
</span><span class="cm"> * 页面的初始数据
</span><span class="cm"> */</span>
<span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;智行&#39;</span><span class="p">,</span>
    <span class="nx">userInfo</span><span class="o">:</span> <span class="p">{},</span> <span class="c1">// 存储用户信息,用于视图判断是否显示标签
</span><span class="c1"></span>    <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// 前端外层是!hasUserInfo,也就是默认显示获取用户信息按钮
</span><span class="c1"></span>    <span class="nx">canIUseGetUserProfile</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// 默认认为无法使用getUserProfile
</span><span class="c1"></span><span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>userInfo用于<strong>存储点击&quot;确定&quot;按钮后获取的用户信息</strong></p>
<p>hasUserInfo用于<strong>控制当点击完获取信息按钮后按钮的消失</strong></p>
<p>canIUseGetUserProfile用于<strong>判断getUserProfile在当前版本是否可用</strong></p>
</blockquote>
</li>
<li>
<p>js的onLoad方法中对当前版本的<strong>用户信息获取</strong>进行适配</p>
<blockquote>
<p>如果wx.getUserProfile为true</p>
<p>证明在当前版本可用</p>
<p>那么将canIUseGetUserProfile设置为true</p>
<p>前端需要这个数据,<strong>来判断使用哪种方式获取用户信息</strong></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="cm">/*
</span><span class="cm"> * 生命周期函数--监听页面加载
</span><span class="cm"> */</span>
<span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// console.log(&#39;onLoad&#39;);
</span><span class="c1"></span>    
    <span class="c1">// 加载页面时判断wx.getUserProfile是否可用
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">wx</span><span class="p">.</span><span class="nx">getUserProfile</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 如果可用
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="c1">// 将 canIUseGetUserProfile 设置为true,说明wx.getUserProfile可用
</span><span class="c1"></span>            <span class="nx">canIUseGetUserProfile</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>当点击头像(获取用户信息的按钮)后,根据js中判断的<strong>canIUseGetUserProfile</strong>决定是使用<code>open-type</code>还是<code>getUserProfile</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- 获取用户信息 --&gt;</span>
<span class="c">&lt;!-- hasUserInfo:
</span><span class="c">        当获取用户信息后,js中将该属性设置为true,该标签将不再显示
</span><span class="c">--&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{!hasUserInfo}}&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 根据index.js中的脚本,如果wx.getUserProfile可以使用,该按钮则被显示 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:if</span><span class="o">=</span><span class="s">&#34;{{canIUseGetUserProfile}}&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;getUserProfile&#34;</span><span class="p">&gt;</span> 获取用户信息 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 
</span><span class="c">        否则使用旧版本的 open-type=&#34;getUserInfo&#34; , 该组件不需要在js中声明任何数据 
</span><span class="c">        但如果在js中声明函数并在前端视图绑定,则也会将数据注入到绑定的方法中
</span><span class="c">    --&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">wx:else</span> <span class="na">open-type</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span> <span class="na">bindgetuserinfo</span><span class="o">=</span><span class="s">&#34;getUserInfo&#34;</span><span class="p">&gt;</span> 获取用户信息 <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>如果是getUserProfile</p>
<ul>
<li>
<p>绑定了getUserProfile方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">getUserProfile</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认
</span><span class="c1"></span>    <span class="c1">// 开发者妥善保管用户快速填写的头像昵称，避免重复弹窗
</span><span class="c1"></span>      
    <span class="c1">// wx.getUserProfile需要自定义
</span><span class="c1"></span>    <span class="nx">wx</span><span class="p">.</span><span class="nx">getUserProfile</span><span class="p">({</span>
        <span class="nx">desc</span><span class="o">:</span> <span class="s1">&#39;用于完善会员资料&#39;</span><span class="p">,</span> <span class="c1">// 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写
</span><span class="c1"></span>      
        <span class="c1">// 当点击 &#34;同意&#34; 后,微信小程序会向success方法注入一个参数,这个参数中携带着用户信息
</span><span class="c1"></span>        <span class="nx">success</span><span class="o">:</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                <span class="nx">userInfo</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">,</span>
                <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// 点击同意后不再显示用户信息按钮
</span><span class="c1"></span>            <span class="p">});</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="c1">// 当点击 &#34;拒绝&#34; 后,微信小程序会向fail方法注入一个参数,这个参数中只有一条错误信息
</span><span class="c1"></span>        <span class="nx">fail</span><span class="o">:</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>在方法中调用了wx.getUserProfile方法,就会弹出<code>获取用户信息选项框</code></p>
<p>当点击<code>同意</code>,调用success回调函数,并将一个json对象注入到success方法中作为参数,json对象中存储着用户信息</p>
<ul>
<li>这里我在成功后,将获取到的用户信息(success参数.userInfo)赋值给我在data中声明的userInfo对象,因为前端视图层,当点击<code>同意</code>按钮时,需要显示用户头像和用户名,所以需要将这些数据存储到data中,才能在前端通过<code>el表达式{}</code>直接使用</li>
<li>还将hasUserInfo设置为true,因为前端是<code>!hasUserInfo</code>,data中默认声明为false,也就是结果是true.当点击获取信息按钮后,将这个值设置为true,也就是结果为false,获取用户信息按钮就不会再显示</li>
</ul>
<h4 id="objectsuccess-回调函数">object.success 回调函数</h4>
<h5 id="参数">参数</h5>
<h6 id="object-res">Object res</h6>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">userInfo</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/UserInfo.html">UserInfo</a></td>
<td align="left">用户信息对象</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
<tr>
<td align="left">rawData</td>
<td align="left">string</td>
<td align="left">不包括敏感信息的原始数据字符串，用于计算签名</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
<tr>
<td align="left">signature</td>
<td align="left">string</td>
<td align="left">使用 sha1( rawData + sessionkey ) 得到字符串，用于校验用户信息，详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html">用户数据的签名验证和加解密</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
<tr>
<td align="left">encryptedData</td>
<td align="left">string</td>
<td align="left">包括敏感数据在内的完整用户信息的加密数据，详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html#%E5%8A%A0%E5%AF%86%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95">用户数据的签名验证和加解密</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
<tr>
<td align="left">iv</td>
<td align="left">string</td>
<td align="left">加密算法的初始向量，详见 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html#%E5%8A%A0%E5%AF%86%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95">用户数据的签名验证和加解密</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
<tr>
<td align="left">cloudID</td>
<td align="left">string</td>
<td align="left">敏感数据对应的云 ID，开通<a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html">云开发</a>的小程序才会返回，可通过云调用直接获取开放数据，详细见<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/signature.html#method-cloud">云调用直接获取开放数据</a></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
</tbody>
</table>
<p>当点击<code>拒绝</code>,调用fail回调函数,也是向fail方法注入一个json对象作为参数,不过这个json对象中只有一条错误数据,用于声明获取失败</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>如果是<code>open-type</code></p>
<ul>
<li>
<p>button的<code>open-type=&quot;getUserInfo&quot;</code>属性会直接调用微信小程序内部API,弹出获取用户信息弹框</p>
</li>
<li>
<p>绑定函数不是必要的,但如果要在页面中显示用户名和用户头像则是必要的</p>
</li>
<li>
<p>我绑定了getUserInfo函数</p>
</li>
<li>
<p>但注意:open-type属性值的getUserInfo和我自定义的完全不是一码事</p>
</li>
<li>
<p>open-type的是内部API</p>
</li>
<li>
<p>而绑定的完全是自定义的</p>
</li>
<li>
<p>当点击获取用户信息按钮后</p>
</li>
<li>
<p>直接赋值就好了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 这个方法
</span><span class="c1"></span><span class="nx">getUserInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 不推荐使用getUserInfo获取用户信息，预计自2021年4月13日起，getUserInfo将不再弹出弹窗，并直接返回匿名的用户个人信息
</span><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
        <span class="nx">userInfo</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">userInfo</span><span class="p">,</span>
        <span class="nx">hasUserInfo</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">// 点击同意后不再显示用户信息按钮
</span><span class="c1"></span>    <span class="p">});</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h1 id="step09网易云音乐项目">Step09.网易云音乐项目</h1>
<ul>
<li>
<p>创建一个js项目</p>
</li>
<li>
<p>除了四个app,剩下的全删掉</p>
</li>
<li>
<p>在<code>pages</code>下创建<code>index</code>的page</p>
</li>
<li>
<p>初始化一下<code>app.json</code></p>
<p><code>app.json</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;pages&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&#34;pages/index/index&#34;</span> <span class="err">//</span> <span class="err">导入index页面</span><span class="p">,</span><span class="err">如果pages为空会报错</span>
    <span class="p">],</span>
    <span class="nt">&#34;window&#34;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&#34;navigationBarBackgroundColor&#34;</span><span class="p">:</span> <span class="s2">&#34;#e14b30&#34;</span><span class="p">,</span> <span class="err">//</span> <span class="err">导航栏颜色,类红色</span>
        <span class="nt">&#34;navigationBarTextStyle&#34;</span><span class="p">:</span> <span class="s2">&#34;white&#34;</span><span class="p">,</span> 
        <span class="nt">&#34;navigationBarTitleText&#34;</span><span class="p">:</span> <span class="s2">&#34;云音乐&#34;</span>
    <span class="p">},</span>
    <span class="nt">&#34;style&#34;</span><span class="p">:</span> <span class="s2">&#34;v2&#34;</span><span class="p">,</span>
    <span class="nt">&#34;sitemapLocation&#34;</span><span class="p">:</span> <span class="s2">&#34;sitemap.json&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="开发主页">开发主页</h2>
<h3 id="顶部轮播图">顶部轮播图</h3>
<ul>
<li>
<p>在项目根目录下创建<code>static</code>目录</p>
</li>
<li>
<p>将资源包中的<code>static/images</code>拖入到刚才创建的<code>static</code>目录下</p>
</li>
<li>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 轮播图区域 --&gt;</span>
    <span class="c">&lt;!-- 
</span><span class="c">        微信小程序轮播图使用swiper标签实现自动轮播
</span><span class="c">        外部用一个swipper标签包裹
</span><span class="c">        内部使用一些swiper-item组件,一个swiper-item内部放置一张图片代表轮播图中的一张
</span><span class="c">          
</span><span class="c">        swiper标签有一些属性:
</span><span class="c">            + indicator-dots : 是否显示切换图标小点
</span><span class="c">            + indicator-color : 轮播图标小点的颜色
</span><span class="c">    --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;banners&#34;</span> <span class="na">indicator-dots</span> <span class="na">indicator-color</span><span class="o">=</span><span class="s">&#39;ivory&#39;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* 
</span><span class="c">    整个轮播图
</span><span class="c">    让它宽度铺满整个屏幕
</span><span class="c">    高度为150px
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">banners</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>   
<span class="p">}</span>
  
<span class="c">/* 
</span><span class="c">    图片默认不会继承父元素的尺寸,所以需要手动设置
</span><span class="c">    让其长宽为父元素的100%
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">banners</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>关于视图容器<code>swiper</code></p>
<h2 id="swiper">swiper</h2>
<blockquote>
<p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>滑块视图容器。其中只可放置<a href="https://developers.weixin.qq.com/miniprogram/dev/component/swiper-item.html">swiper-item</a>组件，否则会导致未定义的行为。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">indicator-dots</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否显示面板指示点</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">indicator-color</td>
<td align="left">color</td>
<td align="left">rgba(0, 0, 0, .3)</td>
<td align="left">否</td>
<td align="left">指示点颜色</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td align="left">indicator-active-color</td>
<td align="left">color</td>
<td align="left">#000000</td>
<td align="left">否</td>
<td align="left">当前选中的指示点颜色</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td align="left">autoplay</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否自动切换</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">current</td>
<td align="left">number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">当前所在滑块的 index</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">interval</td>
<td align="left">number</td>
<td align="left">5000</td>
<td align="left">否</td>
<td align="left">自动切换时间间隔</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">number</td>
<td align="left">500</td>
<td align="left">否</td>
<td align="left">滑动动画时长</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">circular</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否采用衔接滑动</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">vertical</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">滑动方向是否为纵向</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">previous-margin</td>
<td align="left">string</td>
<td align="left">&ldquo;0px&rdquo;</td>
<td align="left">否</td>
<td align="left">前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">next-margin</td>
<td align="left">string</td>
<td align="left">&ldquo;0px&rdquo;</td>
<td align="left">否</td>
<td align="left">后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">snap-to-edge</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">当 swiper-item 的个数大于等于 2，关闭 circular 并且开启 previous-margin 或 next-margin 的时候，可以指定这个边距是否应用到第一个、最后一个元素</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.12.1</a></td>
</tr>
<tr>
<td align="left">display-multiple-items</td>
<td align="left">number</td>
<td align="left">1</td>
<td align="left">否</td>
<td align="left">同时显示的滑块数量</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">easing-function</td>
<td align="left">string</td>
<td align="left">&ldquo;default&rdquo;</td>
<td align="left">否</td>
<td align="left">指定 swiper 切换缓动动画类型</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.6.5</a></td>
</tr>
</tbody>
</table>
</li>
</ul>
<hr>
<h3 id="选项导航菜单">选项导航菜单</h3>
<ul>
<li>
<p>先写出标签框架</p>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 轮播图区域 --&gt;</span>
    <span class="c">&lt;!-- 
</span><span class="c">        微信小程序轮播图使用swiper标签实现自动轮播
</span><span class="c">        外部用一个swipper标签包裹
</span><span class="c">        内部使用一些swiper-item组件,一个swiper-item内部放置一张图片代表轮播图中的一张
</span><span class="c">          
</span><span class="c">        swiper标签有一些属性:
</span><span class="c">            + indicator-dots : 是否显示切换图标小点
</span><span class="c">            + indicator-color : 轮播图标小点的颜色
</span><span class="c">    --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;banners&#34;</span> <span class="na">indicator-dots</span> <span class="na">indicator-color</span><span class="o">=</span><span class="s">&#39;ivory&#39;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>
  
  
    <span class="c">&lt;!-- 导航栏板块,5个标签 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navContainer&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>每日推荐<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>测试<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>歌单<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>测试<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>排行榜<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>测试<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>电台<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>测试<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>直播<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* 
</span><span class="c">    整个轮播图
</span><span class="c">    让它宽度铺满整个屏幕
</span><span class="c">    高度为150px
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">banners</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>   
<span class="p">}</span>
  
<span class="c">/* 
</span><span class="c">    图片默认不会继承父元素的尺寸,所以需要手动设置
</span><span class="c">    让其长宽为父元素的100%
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">banners</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* flex默认是横向布局 */</span>
<span class="p">.</span><span class="nc">navContainer</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 导航栏中每个菜单都是纵向布局 */</span>
<span class="p">.</span><span class="nc">navItem</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">20</span><span class="kt">%</span><span class="p">;</span> <span class="c">/* 五个导航标签 */</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>导航栏需要字体</p>
<p>到<a href="https://www.iconfont.cn/">阿里巴巴矢量图标网</a>向项目中导入一些图标</p>
</li>
<li>
<p>然后点击项目中的font class,通过引用字体类的方式使用图标</p>
<p><img src="https://img-blog.csdnimg.cn/5bad8d25e2ca46249e1ab35df5d23bd8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
<li>
<p>打开css链接<img src="https://img-blog.csdnimg.cn/d8687d17240244cb9cd34bc8265e5297.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
<li>
<p>复制图标代码</p>
</li>
<li>
<p>在static下创建<code>iconfont</code>目录</p>
</li>
<li>
<p>在iconfont下创建iconfont.wxss文件</p>
</li>
<li>
<p>将刚才复制的代码复制进去</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="p">@</span><span class="k">font-face</span> <span class="p">{</span>
  <span class="nt">font-family</span><span class="o">:</span> <span class="s2">&#34;iconfont&#34;</span><span class="o">;</span> <span class="c">/* Project id 3224475 */</span>
  <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;//at.alicdn.com/t/font_3224475_sk1o64p6fx.woff2?t=1646545726461&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;woff2&#39;</span><span class="o">),</span>
       <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;//at.alicdn.com/t/font_3224475_sk1o64p6fx.woff?t=1646545726461&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;woff&#39;</span><span class="o">),</span>
       <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;//at.alicdn.com/t/font_3224475_sk1o64p6fx.ttf?t=1646545726461&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;truetype&#39;</span><span class="o">);</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">iconfont</span> <span class="p">{</span>
  <span class="k">font-family</span><span class="p">:</span> <span class="s2">&#34;iconfont&#34;</span> <span class="cp">!important</span><span class="p">;</span>
  <span class="k">font-size</span><span class="p">:</span> <span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">font-style</span><span class="p">:</span> <span class="kc">normal</span><span class="p">;</span>
  <span class="kp">-webkit-</span><span class="n">font-smoothing</span><span class="p">:</span> <span class="n">antialiased</span><span class="p">;</span>
  <span class="kp">-moz-</span><span class="n">osx-font-smoothing</span><span class="p">:</span> <span class="n">grayscale</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-shangyishou</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e607&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-xiayishou</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e62c&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-diantai</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e621&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-bofang</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e624&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-shanchu</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e718&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-paihangbang</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e68f&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-zanting</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e7c7&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-search</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e6c7&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-pinglun</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e614&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-gedan</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e636&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-zhibo</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e74f&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-tuijian1</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e6ad&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-huiyuanjifen</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e6b0&#34;</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">icon-tuijian</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
  <span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e627&#34;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>因为不只是index中使用图标,其他页面也需要图标</p>
</li>
<li>
<p>所以在<code>app.js</code>中全局引用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="err">@</span><span class="kr">import</span> <span class="s2">&#34;/static/iconfont/iconfont.wxss&#34;</span><span class="p">;</span>
  
<span class="nx">page</span><span class="p">{</span>
    <span class="nx">height</span><span class="o">:</span> <span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>这尼玛又是抄袭Vue</strong></p>
</blockquote>
</li>
<li>
<p>然后在代码里使用</p>
</li>
<li>
<p>例如</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;iconfont xxx&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>xxx就是导入图标中的图标类</p>
</blockquote>
</li>
<li>
<p>在网站项目中,点击图标就可以复制图标类</p>
<p><img src="https://img-blog.csdnimg.cn/6338260e055d427f95e7673bafcc7d7d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
<li>
<p>然后在代码中使用</p>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;indexContainer&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 轮播图区域 --&gt;</span>
    <span class="c">&lt;!-- 
</span><span class="c">        微信小程序轮播图使用swiper标签实现自动轮播
</span><span class="c">        外部用一个swipper标签包裹
</span><span class="c">        内部使用一些swiper-item组件,一个swiper-item内部放置一张图片代表轮播图中的一张
</span><span class="c">          
</span><span class="c">        swiper标签有一些属性:
</span><span class="c">            + indicator-dots : 是否显示切换图标小点
</span><span class="c">            + indicator-color : 轮播图标小点的颜色
</span><span class="c">    --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;banners&#34;</span> <span class="na">indicator-dots</span> <span class="na">indicator-color</span><span class="o">=</span><span class="s">&#39;ivory&#39;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/static/images/recommendSong/02.jpg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>
  
  
    <span class="c">&lt;!-- 导航栏板块,5个标签 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navContainer&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;iconfont icon-tuijian1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>每日推荐<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;iconfont icon-gedan&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>歌单<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;iconfont icon-paihangbang&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>排行榜<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;iconfont icon-diantai&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>电台<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navItem&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;iconfont icon-zhibo&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>直播<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- 推荐歌曲区域 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;recommendContainer&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;header&#34;</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- 
</span><span class="c">                这里不用text直接用view
</span><span class="c">                如果用text,上面会有一大块白条
</span><span class="c">                如果是view则不会发生
</span><span class="c">                    可能是因为傻逼微信更新版本没事搞标签造成的
</span><span class="c">             --&gt;</span>
            <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;</span>
                推荐歌曲
            <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>为你精心推荐<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;more&#34;</span><span class="p">&gt;</span>查看更多<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span> 
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>会有效果,但是字体大小和颜色会有出入</p>
</li>
<li>
<p>写样式更改一下</p>
<p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* -------------------------------------- --整个轮播图 ---------------------------------------- */</span>
<span class="c">/* 让它宽度铺满整个屏幕,高度为150px */</span>
<span class="p">.</span><span class="nc">banners</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>   
<span class="p">}</span>
  
<span class="c">/* 
</span><span class="c">    图片默认不会继承父元素的尺寸,所以需要手动设置
</span><span class="c">    让其长宽为父元素的100%
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">banners</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 导航栏最外层容器,设置内部为flex布局,flex布局默认为横向布局 */</span>
<span class="p">.</span><span class="nc">navContainer</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 导航栏内部每个组件,设置flex纵向布局,让它上面是图标下面是文字 */</span>
<span class="p">.</span><span class="nc">navItem</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">20</span><span class="kt">%</span><span class="p">;</span> <span class="c">/* 容器中一共有5个组件,一个20% */</span>
<span class="p">}</span>
  
<span class="c">/* 设置引入的图标样式 */</span>
<span class="c">/*
</span><span class="c">    navItem下有iconfont和text
</span><span class="c">    如果设置为.iconfont和.navItem text,则text字体大小会将iconfont的覆盖掉
</span><span class="c">    需要独立设置
</span><span class="c">        .navItem text
</span><span class="c">        .navItem .iconfont
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">navItem</span> <span class="p">.</span><span class="nc">iconfont</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">20</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
  
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fe2a10</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">50</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">navItem</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span><span class="mi">26</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ------------------------------------------- 推荐歌曲样式 ------------------------------------------- */</span>
<span class="p">.</span><span class="nc">recommendContainer</span><span class="p">{</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span> 
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>}</p>
<p>.recommendContainer .header .title{
font-size: 32rpx;<br>
line-height: 80rpx;
color:#666;
}</p>
<p>/* 右侧查看更多按钮 */
.recommendContainer .header .more{
float: right;
border: 1rpx solid #333;
padding: 10rpx 20rpx;
border-radius: 30rpx;
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">

---

### 滚动菜单

```scroll-view标签```

&gt; 基础库 1.0.0 开始支持，低版本需做[兼容处理](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html)。

可滚动视图区域。使用竖向滚动时，需要给[scroll-view](https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html)一个固定高度，通过 WXSS 设置 height。组件属性的长度单位默认为px，[2.4.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html)起支持传入单位(rpx/px)。

| 属性                    | 类型          | 默认值  | 必填 | 说明                                                         | 最低版本                                                     |
| :---------------------- | :------------ | :------ | :--- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| scroll-x                | boolean       | false   | 否   | 允许横向滚动                                                 | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| scroll-y                | boolean       | false   | 否   | 允许纵向滚动                                                 | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| upper-threshold         | number/string | 50      | 否   | 距顶部/左边多远时，触发 scrolltoupper 事件                   | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| lower-threshold         | number/string | 50      | 否   | 距底部/右边多远时，触发 scrolltolower 事件                   | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| scroll-top              | number/string |         | 否   | 设置竖向滚动条位置                                           | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| scroll-left             | number/string |         | 否   | 设置横向滚动条位置                                           | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| scroll-into-view        | string        |         | 否   | 值应为某子元素id（id不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素 | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| scroll-with-animation   | boolean       | false   | 否   | 在设置滚动条位置时使用动画过渡                               | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| enable-back-to-top      | boolean       | false   | 否   | iOS点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向 | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| enable-flex             | boolean       | false   | 否   | 启用 flexbox 布局。开启后，当前节点声明了 `display: flex` 就会成为 flex container，并作用于其孩子节点。 | [2.7.3](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| scroll-anchoring        | boolean       | false   | 否   | 开启 scroll anchoring 特性，即控制滚动位置不随内容变化而抖动，仅在 iOS 下生效，安卓下可参考 CSS `overflow-anchor` 属性。 | [2.8.2](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| refresher-enabled       | boolean       | false   | 否   | 开启自定义下拉刷新                                           | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| refresher-threshold     | number        | 45      | 否   | 设置自定义下拉刷新阈值                                       | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| refresher-default-style | string        | &#34;black&#34; | 否   | 设置自定义下拉刷新默认样式，支持设置 `black | white | none`， none 表示不使用默认样式 | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| refresher-background    | string        | &#34;#FFF&#34;  | 否   | 设置自定义下拉刷新区域背景颜色                               | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| refresher-triggered     | boolean       | false   | 否   | 设置当前下拉刷新状态，true 表示下拉刷新已经被触发，false 表示下拉刷新未被触发 | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| enhanced                | boolean       | false   | 否   | 启用 scroll-view 增强特性，启用后可通过 [ScrollViewContext](https://developers.weixin.qq.com/miniprogram/dev/api/ui/scroll/ScrollViewContext.html) 操作 scroll-view | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bounces                 | boolean       | true    | 否   | iOS 下 scroll-view 边界弹性控制 (同时开启 enhanced 属性后生效) | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| show-scrollbar          | boolean       | true    | 否   | 滚动条显隐控制 (同时开启 enhanced 属性后生效)                | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| paging-enabled          | boolean       | false   | 否   | 分页滑动效果 (同时开启 enhanced 属性后生效)                  | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| fast-deceleration       | boolean       | false   | 否   | 滑动减速速率控制 (同时开启 enhanced 属性后生效)              | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| binddragstart           | eventhandle   |         | 否   | 滑动开始事件 (同时开启 enhanced 属性后生效) detail { scrollTop, scrollLeft } | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| binddragging            | eventhandle   |         | 否   | 滑动事件 (同时开启 enhanced 属性后生效) detail { scrollTop, scrollLeft } | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| binddragend             | eventhandle   |         | 否   | 滑动结束事件 (同时开启 enhanced 属性后生效) detail { scrollTop, scrollLeft, velocity } | [2.12.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindscrolltoupper       | eventhandle   |         | 否   | 滚动到顶部/左边时触发                                        | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindscrolltolower       | eventhandle   |         | 否   | 滚动到底部/右边时触发                                        | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindscroll              | eventhandle   |         | 否   | 滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY} | [1.0.0](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindrefresherpulling    | eventhandle   |         | 否   | 自定义下拉刷新控件被下拉                                     | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindrefresherrefresh    | eventhandle   |         | 否   | 自定义下拉刷新被触发                                         | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindrefresherrestore    | eventhandle   |         | 否   | 自定义下拉刷新被复位                                         | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |
| bindrefresherabort      | eventhandle   |         | 否   | 自定义下拉刷新被中止                                         | [2.10.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) |

---

```index.wxml```

```html
&lt;view class=&#34;indexContainer&#34;&gt;
  &lt;!-- 轮播图区域 --&gt;
  &lt;!-- 
      微信小程序轮播图使用swiper标签实现自动轮播
      外部用一个swipper标签包裹
      内部使用一些swiper-item组件,一个swiper-item内部放置一张图片代表轮播图中的一张
      
      swiper标签有一些属性:
          + indicator-dots : 是否显示切换图标小点
          + indicator-color : 轮播图标小点的颜色
  --&gt;
  &lt;swiper class=&#34;banners&#34; indicator-dots indicator-color=&#39;ivory&#39;&gt;
      &lt;swiper-item&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
      &lt;/swiper-item&gt;
      &lt;swiper-item&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
      &lt;/swiper-item&gt;
      &lt;swiper-item&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
      &lt;/swiper-item&gt;
      &lt;swiper-item&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
      &lt;/swiper-item&gt;
  &lt;/swiper&gt;


  &lt;!-- 导航栏板块,5个标签 --&gt;
  &lt;view class=&#34;navContainer&#34;&gt;
      &lt;view class=&#34;navItem&#34;&gt;
          &lt;text class=&#34;iconfont icon-tuijian1&#34;&gt;&lt;/text&gt;
          &lt;text&gt;每日推荐&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;navItem&#34;&gt;
          &lt;text class=&#34;iconfont icon-gedan&#34;&gt;&lt;/text&gt;
          &lt;text&gt;歌单&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;navItem&#34;&gt;
          &lt;text class=&#34;iconfont icon-paihangbang&#34;&gt;&lt;/text&gt;
          &lt;text&gt;排行榜&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;navItem&#34;&gt;
          &lt;text class=&#34;iconfont icon-diantai&#34;&gt;&lt;/text&gt;
          &lt;text&gt;电台&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;navItem&#34;&gt;
          &lt;text class=&#34;iconfont icon-zhibo&#34;&gt;&lt;/text&gt;
          &lt;text&gt;直播&lt;/text&gt;
      &lt;/view&gt;
  &lt;/view&gt;

  &lt;!-- 推荐歌曲区域 --&gt;
  &lt;view class=&#34;recommendContainer&#34;&gt;
      &lt;view class=&#34;header&#34;&gt;
          &lt;!-- 
              这里不用text直接用view
              如果用text,上面会有一大块白条
              如果是view则不会发生
                  可能是因为傻逼微信更新版本没事搞标签造成的
           --&gt;
          &lt;view class=&#34;title&#34;&gt;
              推荐歌曲
          &lt;/view&gt;
          &lt;view&gt;
              &lt;text&gt;为你精心推荐&lt;/text&gt;
              &lt;text class=&#34;more&#34;&gt;查看更多&lt;/text&gt;
          &lt;/view&gt;
      &lt;/view&gt;
  &lt;/view&gt;

  &lt;!-- 滚动图片区域 --&gt;
  &lt;!-- 
      scroll-view标签用于创建滚动区域
      enable-flex:scroll-view默认禁用flex,enable-flex使得标签可以使用flex布局
      scroll-x是开启横向滚动
  --&gt;
  &lt;scroll-view class=&#34;recommendScroll&#34; enable-flex scroll-x&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
      &lt;view class=&#34;scrollItem&#34;&gt;
          &lt;image src=&#34;/static/images/recommendSong/02.jpg&#34;&gt;&lt;/image&gt;
          &lt;text&gt;我现在喜欢赚钱和看美女,喜欢旅游和孤独&lt;/text&gt;
      &lt;/view&gt;
  &lt;/scroll-view&gt;
&lt;/view&gt;
</code></pre></td></tr></table>
</div>
</div><hr>
<p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* -------------------------------------- --整个轮播图 ---------------------------------------- */</span>
<span class="c">/* 让它宽度铺满整个屏幕,高度为150px */</span>
<span class="p">.</span><span class="nc">banners</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>   
<span class="p">}</span>

<span class="c">/* 
</span><span class="c">    图片默认不会继承父元素的尺寸,所以需要手动设置
</span><span class="c">    让其长宽为父元素的100%
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">banners</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 导航栏最外层容器,设置内部为flex布局,flex布局默认为横向布局 */</span>
<span class="p">.</span><span class="nc">navContainer</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 导航栏内部每个组件,设置flex纵向布局,让它上面是图标下面是文字 */</span>
<span class="p">.</span><span class="nc">navItem</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">20</span><span class="kt">%</span><span class="p">;</span> <span class="c">/* 容器中一共有5个组件,一个20% */</span>
<span class="p">}</span>

<span class="c">/* 设置引入的图标样式 */</span>
<span class="c">/*
</span><span class="c">    navItem下有iconfont和text
</span><span class="c">    如果设置为.iconfont和.navItem text,则text字体大小会将iconfont的覆盖掉
</span><span class="c">    需要独立设置
</span><span class="c">        .navItem text
</span><span class="c">        .navItem .iconfont
</span><span class="c">*/</span>
<span class="p">.</span><span class="nc">navItem</span> <span class="p">.</span><span class="nc">iconfont</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">20</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fe2a10</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">50</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">navItem</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span><span class="mi">26</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ------------------------------------------- 推荐歌曲样式 ------------------------------------------- */</span>
<span class="c">/* 整个盒子和外面保持一些距离 */</span>
<span class="p">.</span><span class="nc">recommendContainer</span><span class="p">{</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span> 
<span class="p">}</span>

<span class="c">/* 推荐歌曲 四个字的样式 */</span>
<span class="p">.</span><span class="nc">recommendContainer</span> <span class="p">.</span><span class="nc">header</span> <span class="p">.</span><span class="nc">title</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">32</span><span class="n">rpx</span><span class="p">;</span>   
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span><span class="mh">#666</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 右侧查看更多按钮 */</span>
<span class="p">.</span><span class="nc">recommendContainer</span> <span class="p">.</span><span class="nc">header</span> <span class="p">.</span><span class="nc">more</span><span class="p">{</span>
    <span class="k">float</span><span class="p">:</span> <span class="kc">right</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="n">rpx</span> <span class="kc">solid</span> <span class="mh">#333</span><span class="p">;</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">30</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* --------------------------------------------- 滚动图片区域 -------------------------------------------*/</span>
<span class="c">/* 整个滚动框内部开启flex横向布局 */</span>
<span class="p">.</span><span class="nc">recommendScroll</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 每个滚动块整体 */</span>
<span class="p">.</span><span class="nc">scrollItem</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">margin-right</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 每个内容块中图片 */</span>
<span class="p">.</span><span class="nc">scrollItem</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
    <span class="c">/* 给点圆角 */</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 每个内容块中图片底下文字 */</span>
<span class="p">.</span><span class="nc">scrollItem</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">26</span><span class="n">rpx</span><span class="p">;</span>

    <span class="c">/* 单行文本溢出隐藏,省略号代替 */</span>
    <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
    <span class="k">text-overflow</span><span class="p">:</span> <span class="kc">ellipsis</span><span class="p">;</span> 
    <span class="k">display</span><span class="p">:</span> <span class="kp">-webkit-</span><span class="n">box</span><span class="p">;</span>
    <span class="kp">-webkit-</span><span class="n">box-orient</span><span class="p">:</span> <span class="kc">vertical</span><span class="p">;</span> <span class="c">/* 设置对其模式 */</span>
    <span class="kp">-webkit-</span><span class="n">line-clamp</span><span class="p">:</span> <span class="mi">2</span><span class="p">;</span> <span class="c">/* 设置行数 */</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<p><strong>这个项目没法做了,傻逼,录个网课弄个NodeJS服务器来也不讲解怎么用</strong></p>
<hr>
<h1 id="step10不知名项目到时候再补充">Step10.不知名项目(到时候再补充)</h1>
<h2 id="centos服务器配置redismysql">CentOS服务器配置Redis、MySQL</h2>
<h3 id="redis">Redis</h3>
<h4 id="一安装gcc依赖">一、安装gcc依赖</h4>
<p>由于 redis 是用 C 语言开发，安装之前必先确认是否安装 gcc 环境（gcc -v），如果没有安装，执行以下命令进行安装</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">yum install -y gcc
</code></pre></td></tr></table>
</div>
</div><h4 id="二下载并解压安装包">二、下载并解压安装包</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">wget http://download.redis.io/releases/redis-5.0.3.tar.gz

tar -zxvf redis-5.0.3.tar.gz
</code></pre></td></tr></table>
</div>
</div><h4 id="三cd切换到redis解压目录下执行编译">三、cd切换到redis解压目录下，执行编译</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">cd</span> redis-5.0.3
make
</code></pre></td></tr></table>
</div>
</div><h4 id="四安装并指定安装目录">四、安装并指定安装目录</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">make install PREFIX=/usr/local/redis
</code></pre></td></tr></table>
</div>
</div><h4 id="五启动服务">五、启动服务</h4>
<ul>
<li>5.1前台启动</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">cd</span> /usr/local/redis/bin/

./redis-server
</code></pre></td></tr></table>
</div>
</div><ul>
<li>5.2后台启动</li>
</ul>
<blockquote>
<p>从 redis 的源码目录中复制 redis.conf 到 redis 的安装目录</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">cp /usr/local/redis-5.0.3/redis.conf /usr/local/redis/bin/
</code></pre></td></tr></table>
</div>
</div><ul>
<li>修改 redis.conf 文件，把 daemonize no 改为 daemonize yes</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">vi redis.conf
</code></pre></td></tr></table>
</div>
</div><ul>
<li>后台启动</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">./redis-server redis.conf 
</code></pre></td></tr></table>
</div>
</div><h4 id="六设置开机启动">六、设置开机启动</h4>
<ul>
<li>添加开机启动服务</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">vi /etc/systemd/system/redis.service
</code></pre></td></tr></table>
</div>
</div><ul>
<li>复制粘贴以下内容:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">[Unit]
Description=redis-server
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</code></pre></td></tr></table>
</div>
</div><p>注意：ExecStart配置成自己的路径</p>
<ul>
<li>设置开机启动</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">systemctl daemon-reload
systemctl start redis.service
systemctl <span class="nb">enable</span> redis.service
</code></pre></td></tr></table>
</div>
</div><h4 id="七创建-redis-命令软链接">七、创建 redis 命令软链接</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">ln -s /usr/local/redis/bin/redis-cli /usr/bin/redis
</code></pre></td></tr></table>
</div>
</div><ul>
<li>测试 redis</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">redis
</code></pre></td></tr></table>
</div>
</div><ul>
<li>服务操作命令</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">systemctl start redis.service  <span class="c1">#启动redis服务</span>

systemctl stop redis.service  <span class="c1">#停止redis服务</span>

systemctl restart redis.service  <span class="c1">#重新启动服务</span>

systemctl status redis.service  <span class="c1">#查看服务当前状态</span>

systemctl <span class="nb">enable</span> redis.service  <span class="c1">#设置开机自启动</span>

systemctl disable redis.service  <span class="c1">#停止开机自启动</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h4 id="我自己启动">我自己启动</h4>
<ul>
<li>
<p>后台</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># 后台启动redis</span>
<span class="nb">cd</span> /usr/local/redis/bin
./redis-server redis.conf
  
<span class="c1"># 建立终端连接</span>
redis
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h4 id="redis设置密码">redis设置密码</h4>
<ul>
<li>
<p>启动并连接mysql</p>
</li>
<li>
<p>设置密码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">config set requirepass 密码
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>退出</p>
</li>
<li>
<p>关闭redis服务</p>
</li>
<li>
<p>重新连接</p>
</li>
<li>
<p>连接后ping,会失败</p>
</li>
<li>
<p>输入</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">auth 密码
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="mysql">MySQL</h3>
<ul>
<li>CentOS7配置MySQL之路道阻且长&hellip;</li>
<li>反正现在也不用</li>
</ul>
<hr>
<h2 id="前后端数据交互">前后端数据交互</h2>
<h3 id="创建springboot项目">创建SpringBoot项目</h3>
<ul>
<li>
<p>导入依赖</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
    <span class="nt">&lt;parent&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.6.4<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;relativePath/&gt;</span> <span class="c">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="nt">&lt;/parent&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.weixin<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>code01<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;name&gt;</span>code01<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;description&gt;</span>Demo project for Spring Boot<span class="nt">&lt;/description&gt;</span>
    <span class="nt">&lt;properties&gt;</span>
        <span class="nt">&lt;java.version&gt;</span>1.8<span class="nt">&lt;/java.version&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>com.qcloud<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>cos_api<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>5.6.15<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>com.alibaba<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>fastjson<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>1.2.4<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>commons-io<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>commons-io<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>2.6<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>commons-codec<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>commons-codec<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
  
    <span class="nt">&lt;build&gt;</span>
        <span class="nt">&lt;plugins&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="测试">测试</h3>
<ul>
<li>
<p>后端</p>
<p><code>TestController.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.weixin.controller</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">com.alibaba.fastjson.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.*</span><span class="o">;</span>
  
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&#34;/api/test&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestController</span> <span class="o">{</span>
    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">&#34;/hello&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">func</span><span class="o">(){</span>
        <span class="k">return</span> <span class="s">&#34;hello world&#34;</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/upload&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getResult</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getInteger</span><span class="o">(</span><span class="s">&#34;num1&#34;</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getInteger</span><span class="o">(</span><span class="s">&#34;num2&#34;</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>前端小程序</p>
<p><code>test.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 微信对指定url发起请求
</span><span class="c1"></span>        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
            <span class="c1">//   url: &#39;http://localhost:8080/api/test/hello&#39;,
</span><span class="c1"></span>            <span class="c1">//   method: &#39;GET&#39;,
</span><span class="c1"></span>            <span class="c1">//   success(e){
</span><span class="c1"></span>            <span class="c1">//       console.log(e.data);
</span><span class="c1"></span>            <span class="c1">//   }
</span><span class="c1"></span>            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/test/upload&#39;</span><span class="p">,</span>
            <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">num1</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span>
                <span class="nx">num2</span><span class="o">:</span> <span class="mi">105</span>
            <span class="p">},</span>
            <span class="nx">success</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h2 id="登录注册功能">登录注册功能</h2>
<h3 id="导入依赖">导入依赖</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-jdbc<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="创建数据库">创建数据库</h3>
<ul>
<li>创建数据库名为<code>springbootweixin01</code></li>
<li>创建表<code>users</code></li>
</ul>
<hr>
<h3 id="连接数据库">连接数据库</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.url=jdbc:mysql://localhost:3306/springbootweixin01?useUnicode=true&amp;characterEncoding=utf-8
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
</code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="注册">注册</h3>
<ul>
<li>获取前端数据,添加到数据库</li>
</ul>
<p><code>login.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- 输入框绑定方法 --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>用户名 <span class="p">&lt;</span><span class="nt">input</span> <span class="na">bindinput</span><span class="o">=</span><span class="s">&#34;getUsername&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>    
<span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>密码 <span class="p">&lt;</span><span class="nt">input</span> <span class="na">bindinput</span><span class="o">=</span><span class="s">&#34;getPassword&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="c">&lt;!-- 按钮绑定方法 --&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;login&#34;</span><span class="p">&gt;</span>登录<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;register&#34;</span><span class="p">&gt;</span>注册<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>login.js</code></p>
<ul>
<li>
<p>点击<code>登录</code>按钮,触发<code>login</code>方法</p>
<blockquote>
<p>获取触发该方法的输入框的值,并将它保存到js的data中</p>
</blockquote>
</li>
<li>
<p>点击<code>注册</code>按钮,触发<code>register</code>方法</p>
<blockquote>
<p>获取触发该方法的输入框的值,并将它保存到js的data中</p>
</blockquote>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/login/login.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>

    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="c1">// 用户名和密码
</span><span class="c1"></span>        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="c1">// 获取用户名和密码的方法
</span><span class="c1"></span>    <span class="nx">getUsername</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="c1">// 输入框取值是 方法的参数对象.detal.value
</span><span class="c1"></span>            <span class="c1">// 将输入框中输入的数据设置为data属性值
</span><span class="c1"></span>            <span class="nx">username</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span>
        <span class="p">})</span>
    <span class="p">},</span>
    <span class="nx">getPassword</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">password</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span>
        <span class="p">})</span>
    <span class="p">},</span>
    <span class="nx">login</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span> <span class="o">+</span> <span class="s2">&#34; &#34;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span><span class="p">);</span>
        <span class="c1">// 如果输入为空
</span><span class="c1"></span>        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span><span class="p">){</span>
            <span class="c1">// 弹出微信小程序自带提示框,并终止代码运行
</span><span class="c1"></span>            <span class="nx">wx</span><span class="p">.</span><span class="nx">showModal</span><span class="p">({</span>
              <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;用户名和密码不能为空&#39;</span>
            <span class="p">})</span>
        <span class="p">}</span>
        <span class="c1">// 和后台建立连接,可以向后台发送数据,也可以接受后台返回的数据
</span><span class="c1"></span>        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/login&#39;</span><span class="p">,</span>
            <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
            <span class="c1">// 登录方法和注册方法都是将输入框中的数据传到后台
</span><span class="c1"></span>            <span class="c1">// 如果是注册,后台就insert
</span><span class="c1"></span>            <span class="c1">// 如果是登录,后台就queryForxxx一系列判断
</span><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">username</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span>
                <span class="nx">password</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span>
            <span class="p">},</span>
            <span class="c1">// 后台返回的数据
</span><span class="c1"></span>            <span class="nx">success</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>
    <span class="nx">register</span><span class="p">(){</span>
        <span class="c1">// console.log(&#34;register&#34;);
</span><span class="c1"></span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span> <span class="o">+</span> <span class="s2">&#34; &#34;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span><span class="p">){</span>
            <span class="nx">wx</span><span class="p">.</span><span class="nx">showModal</span><span class="p">({</span>
              <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;用户名和密码不能为空&#39;</span>
            <span class="p">})</span>
        <span class="p">}</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/register&#39;</span><span class="p">,</span>
            <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">username</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span>
                <span class="nx">password</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">password</span>
            <span class="p">},</span>
            <span class="nx">success</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="后台处理">后台处理</h3>
<p><code>JdbcController.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.weixin.controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.fastjson.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.jdbc.core.JdbcTemplate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PostMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&#34;/api/sql&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JdbcController</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">JdbcTemplate</span> <span class="n">jdbcTemplate</span><span class="o">;</span>

    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/register&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">register</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">&#34;insert into users (username,password) value (?,?)&#34;</span><span class="o">;</span>
            <span class="n">jdbcTemplate</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">sql</span><span class="o">,</span><span class="n">username</span><span class="o">,</span><span class="n">password</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;success&#34;</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/login&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">login</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="c1">// 获取前端传递过来的数据
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// 根据用户名查询
</span><span class="c1"></span>            <span class="n">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">&#34;select * from users where username=&#34;</span> <span class="o">+</span> <span class="n">username</span><span class="o">;</span>
            <span class="c1">// 对象为&lt;username,password&gt;的List
</span><span class="c1"></span>            <span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="n">maps</span> <span class="o">=</span> <span class="n">jdbcTemplate</span><span class="o">.</span><span class="na">queryForList</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
            <span class="c1">// 如果根据用户名查询什么都查不到
</span><span class="c1"></span>            <span class="k">if</span><span class="o">(</span><span class="n">maps</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">0</span><span class="o">){</span>
                <span class="c1">// 直接返回没这个用户
</span><span class="c1"></span>                <span class="k">return</span> <span class="s">&#34;no user&#34;</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="c1">// 如果查到一个用户
</span><span class="c1"></span>            <span class="c1">// 说明有这个用户
</span><span class="c1"></span>            <span class="k">if</span><span class="o">(</span><span class="n">maps</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">1</span><span class="o">){</span>
                <span class="c1">// 获取这个用户在数据库中的密码
</span><span class="c1"></span>                <span class="n">String</span> <span class="n">passwordJudge</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">maps</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">0</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">);</span>
                <span class="c1">// 如果数据库中的密码等于前端传递过来的
</span><span class="c1"></span>                <span class="k">if</span><span class="o">(</span><span class="n">passwordJudge</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">password</span><span class="o">)){</span>
                    <span class="c1">// 返回登录成功
</span><span class="c1"></span>                    <span class="k">return</span> <span class="s">&#34;success&#34;</span><span class="o">;</span>
                    <span class="c1">// 否则说明密码错误
</span><span class="c1"></span>                <span class="o">}</span><span class="k">else</span><span class="o">{</span>
                    <span class="c1">// 登录失败
</span><span class="c1"></span>                    <span class="k">return</span> <span class="s">&#34;password error&#34;</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="c1">// 如果查到1个以上
</span><span class="c1"></span>            <span class="o">}</span><span class="k">else</span><span class="o">{</span>
                <span class="c1">// 直接报错,说明数据库中用户名重复了,需要维护
</span><span class="c1"></span>                <span class="k">return</span> <span class="s">&#34;error&#34;</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="springboot和redis做微信小程序交互">Springboot和redis做微信小程序交互</h2>
<h3 id="测试连接服务器上的redis">测试连接服务器上的Redis</h3>
<ul>
<li>
<p>确保阿里云开启<code>6379</code>端口号</p>
</li>
<li>
<p>找到Redis配置文件<code>redis.conf</code></p>
<blockquote>
<p>注释掉<code>127.0.0.1</code></p>
<p><code>protected-mode yes</code>改为<code>protected-mode no</code></p>
</blockquote>
</li>
<li>
<p>使用<code>RedisManager</code>可视化工具测试</p>
</li>
</ul>
<h3 id="springboot测试redis增删改查">SpringBoot测试Redis增删改查</h3>
<ul>
<li>
<p>导入redis依赖</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>配置文件中导入redis配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># redis
spring.redis.host=101.43.20.197
spring.redis.port=6379
spring.redis.password=123456
# 连接池最大连接数（使用负值表示没有限制）
spring.redis.lettuce.pool.max-active=5
# 连接池中的最大空闲连接
spring.redis.lettuce.pool.max-idle=1
# 连接池中的最小空闲连接
spring.redis.lettuce.pool.min-idle=1
# 连接池最大阻塞等待时间（使用负值表示没有限制）
spring.redis.lettuce.pool.max-wait=5000
# 关闭超时时间
spring.redis.timeout=30000
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>增删改查代码</p>
<p><code>RedisController.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.weixin.controller</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">com.alibaba.fastjson.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.redis.core.StringRedisTemplate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PostMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>
  
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&#34;/api/redis&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedisController</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">StringRedisTemplate</span> <span class="n">redisTemplate</span><span class="o">;</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/add&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">add</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;value&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span><span class="n">value</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;add success&#34;</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;add failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/delete&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">delete</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">redisTemplate</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;delete success&#34;</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;delete failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/change&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">change</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;value&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span><span class="n">value</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;change success&#34;</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;change failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/find&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">find</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;find success value:&#34;</span> <span class="o">+</span> <span class="n">value</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;find failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>使用<a href="https://www.postman.com/">PostMan</a>测试工具测试连接</p>
<ul>
<li>官网下载</li>
</ul>
</li>
<li>
<p><img src="https://img-blog.csdnimg.cn/51cf474704a4439599a6b33f57105f6d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5a2k5ZCNQA==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="img"></p>
</li>
</ul>
<h3 id="实现redis登录微信小程序">实现Redis登录微信小程序</h3>
<ul>
<li>
<p>后端</p>
<p><code>RedisController.java</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="nn">com.weixin.controller</span><span class="o">;</span>
  
<span class="kn">import</span> <span class="nn">com.alibaba.fastjson.JSONObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.redis.core.StringRedisTemplate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PostMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>
  
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">&#34;/api/redis&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RedisController</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">StringRedisTemplate</span> <span class="n">redisTemplate</span><span class="o">;</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/add&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">add</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;value&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span><span class="n">value</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;add success&#34;</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;add failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/delete&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">delete</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">redisTemplate</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;delete success&#34;</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;delete failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/change&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">change</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;value&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span><span class="n">value</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;change success&#34;</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;change failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/find&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">find</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">key</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;key&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="k">return</span> <span class="s">&#34;find success value:&#34;</span> <span class="o">+</span> <span class="n">value</span><span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;find failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="c1">// 注册,非空直接添加
</span><span class="c1"></span>    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/register&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">register</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">if</span><span class="o">(</span><span class="n">username</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">password</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">){</span>
                <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">username</span><span class="o">,</span><span class="n">password</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="s">&#34;register success&#34;</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;register failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="c1">// 登录
</span><span class="c1"></span>    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">&#34;/login&#34;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">login</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="n">JSONObject</span> <span class="n">req</span><span class="o">){</span>
        <span class="c1">// 获取前端传递过来的数据
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">);</span>
  
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// redis中 , key(username) : value(password)
</span><span class="c1"></span>            <span class="c1">// 根据指定用户名查询密码
</span><span class="c1"></span>            <span class="n">String</span> <span class="n">passwordJudge</span> <span class="o">=</span> <span class="n">redisTemplate</span><span class="o">.</span><span class="na">opsForValue</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">username</span><span class="o">);</span>
  
            <span class="k">assert</span> <span class="n">passwordJudge</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="c1">// 如果查询出来的密码和用户输入的相同
</span><span class="c1"></span>            <span class="k">if</span> <span class="o">(</span><span class="n">passwordJudge</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">password</span><span class="o">)){</span>
                <span class="c1">// 登录成功
</span><span class="c1"></span>                <span class="k">return</span> <span class="s">&#34;login success&#34;</span><span class="o">;</span>
            <span class="o">}</span><span class="k">else</span><span class="o">{</span>
                <span class="k">return</span> <span class="s">&#34;login error&#34;</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="k">return</span> <span class="s">&#34;login failed&#34;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>前台</p>
<blockquote>
<p>改前面mysql登录的url即可</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="这个项目缺shiro源码暂时停掉不是永远停止">这个项目缺shiro源码,暂时停掉,不是永远停止</h2>
<hr>
<h1 id="step11商城项目">Step11.商城项目</h1>
<h2 id="11-登录页面">1.1 登录页面</h2>
<ul>
<li>
<p>创建一个名为login的<code>page</code></p>
</li>
<li>
<p>写登录页面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;</span>欢迎登录智博商城<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- bindblur方法 : 输入框失去聚焦后触发 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;number&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;phone_number&#34;</span> <span class="na">bindblur</span><span class="o">=</span><span class="s">&#34;getPhone&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;请输入手机号码&#34;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;code&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;code_number&#34;</span> <span class="na">bindblur</span><span class="o">=</span><span class="s">&#34;getCode&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;请输入验证码&#34;</span><span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;getCodeButton&#34;</span><span class="p">&gt;</span>获取验证码<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- hover-class : html中的hover,一个独立于当前标签class的类,当点击后,触发该类在css中声明的样式变化 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;login&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;login&#34;</span> <span class="na">hover-class</span><span class="o">=</span><span class="s">&#34;buttonClick&#34;</span><span class="p">&gt;</span>商城登录<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>login.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">container</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">title</span><span class="p">{</span>
    <span class="k">color</span><span class="p">:</span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mf">.6</span><span class="p">);</span>
    <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">50</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">phone_number</span><span class="p">{</span>
    <span class="k">margin</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">500</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span><span class="mh">#576b95</span> <span class="mi">3</span><span class="n">rpx</span> <span class="kc">solid</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">5</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">code</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span><span class="kc">row</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  
    <span class="k">width</span><span class="p">:</span> <span class="mi">500</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border</span><span class="p">:</span><span class="mh">#576b95</span> <span class="mi">3</span><span class="n">rpx</span> <span class="kc">solid</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">5</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">code</span> <span class="p">.</span><span class="nc">getCodeButton</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">350</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
      
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">30</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mf">.6</span><span class="p">);</span>
  
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">transparent</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">login</span><span class="p">{</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#42b883</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>
    <span class="k">transition</span><span class="p">:</span> <span class="mf">0.2</span><span class="kt">s</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">buttonClick</span><span class="p">{</span>
    <span class="k">opacity</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>login.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span><span class="lnt">96
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/login/login.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">phone_number</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="nx">code</span><span class="o">:</span><span class="s1">&#39;&#39;</span>
    <span class="p">},</span>
  
    <span class="nx">getPhone</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">phone_number</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span>
        <span class="p">});</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">phone_number</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="nx">getCode</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">code</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span>
        <span class="p">})</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
    <span class="p">},</span>
  
    <span class="c1">// 登录,请求本地SpringBoot + Redis服务器
</span><span class="c1"></span>    <span class="nx">login</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/redis/login&#39;</span><span class="p">,</span>
          <span class="nx">data</span><span class="o">:</span> <span class="p">({</span>
              <span class="nx">phone_number</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">phone_number</span><span class="p">,</span>
              <span class="nx">code</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">code</span>
          <span class="p">}),</span>
          <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="12-tabbar导航栏">1.2 Tabbar导航栏</h2>
<ul>
<li>
<p>创建两个page,分别为:<code>shopping</code>和<code>index</code></p>
</li>
<li>
<p>导入6张图,分别为主页的Tabbar、个人中心和购物页面,以及他们被选中后的图标</p>
</li>
<li>
<p>在app.json设置Tabbar</p>
<p><code>app.json</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;tabBar&#34;</span><span class="err">:</span> <span class="p">{</span>
        <span class="nt">&#34;list&#34;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;主页&#34;</span><span class="p">,</span>
                <span class="nt">&#34;pagePath&#34;</span><span class="p">:</span> <span class="s2">&#34;pages/index/index&#34;</span><span class="p">,</span>
                <span class="nt">&#34;iconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/home.png&#34;</span><span class="p">,</span>
                <span class="nt">&#34;selectedIconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/home_select.png&#34;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;购物车&#34;</span><span class="p">,</span>
                <span class="nt">&#34;pagePath&#34;</span><span class="p">:</span> <span class="s2">&#34;pages/shopping/shopping&#34;</span><span class="p">,</span>
                <span class="nt">&#34;iconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/shopping.png&#34;</span><span class="p">,</span>
                <span class="nt">&#34;selectedIconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/shopping_select.png&#34;</span>
            <span class="p">},{</span>
                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;分类&#34;</span><span class="p">,</span>
                <span class="nt">&#34;pagePath&#34;</span><span class="p">:</span> <span class="s2">&#34;pages/group/group&#34;</span><span class="p">,</span>
                <span class="nt">&#34;iconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/group.png&#34;</span><span class="p">,</span>
                <span class="nt">&#34;selectedIconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/group_select.png&#34;</span>
            <span class="p">},{</span>
                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;个人中心&#34;</span><span class="p">,</span>
                <span class="nt">&#34;pagePath&#34;</span><span class="p">:</span> <span class="s2">&#34;pages/login/login&#34;</span><span class="p">,</span>
                <span class="nt">&#34;iconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/my.png&#34;</span><span class="p">,</span>
                <span class="nt">&#34;selectedIconPath&#34;</span><span class="p">:</span> <span class="s2">&#34;images/my_select.png&#34;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span><span class="err">,</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>app.json的page属性中的路由必须和tabbar的list对应(数量和地址,顺序随意)</p>
<p><code>app.json</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;pages&#34;</span><span class="err">:</span> <span class="p">[</span>
  <span class="s2">&#34;pages/login/login&#34;</span><span class="p">,</span>
  <span class="s2">&#34;pages/index/index&#34;</span><span class="p">,</span>
  <span class="s2">&#34;pages/shopping/shopping&#34;</span><span class="p">,</span>
  <span class="s2">&#34;pages/group/group&#34;</span>
<span class="p">]</span><span class="err">,</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="13-路由跳转">1.3 路由跳转</h2>
<ul>
<li>
<p>登录成功后跳转到主页</p>
</li>
<li>
<p>修改<code>login.js</code>的login方法</p>
<p><code>login.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// 登录,请求本地SpringBoot + Redis服务器
</span><span class="c1"></span>    <span class="nx">login</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/redis/login&#39;</span><span class="p">,</span>
          <span class="nx">data</span><span class="o">:</span> <span class="p">({</span>
              <span class="nx">phone_number</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">phone_number</span><span class="p">,</span>
              <span class="nx">code</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">code</span>
          <span class="p">}),</span>
          <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
              <span class="c1">// 弹出框
</span><span class="c1"></span>              <span class="nx">wx</span><span class="p">.</span><span class="nx">showToast</span><span class="p">({</span>
                <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;登录成功&#39;</span><span class="p">,</span>
              <span class="p">});</span>
              <span class="c1">// Tabbar跳转,关闭所有非Tabbar页面
</span><span class="c1"></span>              <span class="nx">wx</span><span class="p">.</span><span class="nx">switchTab</span><span class="p">({</span>
                <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/pages/index/index&#39;</span><span class="p">,</span>
              <span class="p">})</span>
          <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="21-头部轮播图">2.1 头部轮播图</h2>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- autoplay:自动播放轮播图
</span><span class="c">         circular:循环播放
</span><span class="c">         indicator-dots:显示轮播排点 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">autoplay</span> <span class="na">circular</span> <span class="na">indicator-dots</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 仅可放置在swiper组件中,宽高自动为100% --&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- mode:widthFix
</span><span class="c">                 图片裁剪、缩放的方式
</span><span class="c">                 widthFix:缩放模式,宽度不变,高度自动变化,保持原图宽高比不变
</span><span class="c">                 用于解决某些图片溢出、边距等问题 --&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner1.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner2.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner3.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner4.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">container</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">swiper</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">370</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">swiper</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="22-中间菜单">2.2 中间菜单</h2>
<ul>
<li>菜单栏中的图片资源是通过js请求后台服务器,后台服务器查询数据库</li>
<li>后端将查询信息返回给js,js将后台返回的数据保存到data中</li>
<li>前端就可以直接使用el表达式取值了</li>
</ul>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 首页轮播图 --&gt;</span>
    <span class="c">&lt;!-- autoplay:自动播放轮播图
</span><span class="c">         circular:循环播放
</span><span class="c">         indicator-dots:显示轮播排点 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">autoplay</span> <span class="na">circular</span> <span class="na">indicator-dots</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 仅可放置在swiper组件中,宽高自动为100% --&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- mode:widthFix
</span><span class="c">                 图片裁剪、缩放的方式
</span><span class="c">                 widthFix:缩放模式,宽度不变,高度自动变化,保持原图宽高比不变
</span><span class="c">                 用于解决某些图片溢出、边距等问题 --&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner1.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner2.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner3.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner4.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;menu&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{navList}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index1}}&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{item.src}}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{item.title}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>

    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">navList</span><span class="o">:</span><span class="p">[]</span>
    <span class="p">},</span>

    <span class="nx">getNavList</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">let</span> <span class="nx">that1</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/navList&#39;</span><span class="p">,</span>
          <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
            <span class="c1">//   console.log(res.data);
</span><span class="c1"></span>            <span class="nx">that1</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                <span class="nx">navList</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
            <span class="p">})</span>
          <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">getNavList</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">hotProductList</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* ---------------------------- 顶部轮播图 ------------------------ */</span>
<span class="p">.</span><span class="nc">container</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#576b95</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">swiper</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">370</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">swiper</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ------------------------------------------------------------------ */</span>

<span class="c">/* -------------------------------- 菜单------------------------------- */</span>
<span class="p">.</span><span class="nc">nav</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">flex-wrap</span><span class="p">:</span> <span class="kc">wrap</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space</span><span class="o">-</span><span class="n">between</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>

    <span class="c">/* 整个nav菜单圆角 */</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    
    <span class="c">/* 外部nav和内部元素保持点距离好看 */</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    
    <span class="k">margin</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* nav内部的每个组件,一个组件中有图片和标题 */</span>
<span class="p">.</span><span class="nc">nav</span> <span class="p">.</span><span class="nc">menu</span><span class="p">{</span>
    <span class="c">/* 列,内部居中 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>

    <span class="k">width</span><span class="p">:</span> <span class="mi">25</span><span class="kt">%</span><span class="p">;</span> <span class="c">/* 八个,四个一行,所以25%正好 */</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">20</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span> <span class="c">/* 上下两行保持点距离 */</span>
<span class="p">}</span>

<span class="c">/* 图片:圆 */</span>
<span class="p">.</span><span class="nc">nav</span> <span class="p">.</span><span class="nc">menu</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 文字 */</span>
<span class="p">.</span><span class="nc">nav</span> <span class="p">.</span><span class="nc">menu</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#666</span><span class="p">;</span>

    <span class="c">/* 和上方图片保持点距离 */</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">15</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="23-热门产品块">2.3 热门产品块</h2>
<ul>
<li>和菜单栏一样,图片和文字也是数据库资源</li>
</ul>
<p><code>index.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 首页轮播图 --&gt;</span>
    <span class="c">&lt;!-- autoplay:自动播放轮播图
</span><span class="c">         circular:循环播放
</span><span class="c">         indicator-dots:显示轮播排点 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">autoplay</span> <span class="na">circular</span> <span class="na">indicator-dots</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 仅可放置在swiper组件中,宽高自动为100% --&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- mode:widthFix
</span><span class="c">                 图片裁剪、缩放的方式
</span><span class="c">                 widthFix:缩放模式,宽度不变,高度自动变化,保持原图宽高比不变
</span><span class="c">                 用于解决某些图片溢出、边距等问题 --&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner1.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner2.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner3.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/swiper/banner4.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>

    <span class="c">&lt;!-- 菜单栏 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;menu&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{navList}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index1}}&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{item.src}}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{item.title}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="c">&lt;!-- 热门商品栏的标题 --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;header&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;line&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;hot&#34;</span><span class="p">&gt;</span>热门产品<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;line&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

<span class="c">&lt;!-- 热门商品栏的图片列表 --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;wrap&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 一个产品块 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;product&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{hotProductList}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index2}}&#34;</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 图片 --&gt;</span>
        <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{item.src}}&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 产品信息 --&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>{{item.name}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;price&#34;</span><span class="p">&gt;</span>{{item.price}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* ---------------------------- 顶部轮播图 ------------------------ */</span>
<span class="p">.</span><span class="nc">container</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#576b95</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">swiper</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">370</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">swiper</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ------------------------------------------------------------------ */</span>

<span class="c">/* -------------------------------- 菜单------------------------------- */</span>
<span class="p">.</span><span class="nc">nav</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">flex-wrap</span><span class="p">:</span> <span class="kc">wrap</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space</span><span class="o">-</span><span class="n">between</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>

    <span class="c">/* 整个nav菜单圆角 */</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    
    <span class="c">/* 外部nav和内部元素保持点距离好看 */</span>
    <span class="k">padding</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    
    <span class="k">margin</span><span class="p">:</span> <span class="mi">10</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* nav内部的每个组件,一个组件中有图片和标题 */</span>
<span class="p">.</span><span class="nc">nav</span> <span class="p">.</span><span class="nc">menu</span><span class="p">{</span>
    <span class="c">/* 列,内部居中 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>

    <span class="k">width</span><span class="p">:</span> <span class="mi">25</span><span class="kt">%</span><span class="p">;</span> <span class="c">/* 八个,四个一行,所以25%正好 */</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">20</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span> <span class="c">/* 上下两行保持点距离 */</span>
<span class="p">}</span>

<span class="c">/* 图片:圆 */</span>
<span class="p">.</span><span class="nc">nav</span> <span class="p">.</span><span class="nc">menu</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 文字 */</span>
<span class="p">.</span><span class="nc">nav</span> <span class="p">.</span><span class="nc">menu</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#666</span><span class="p">;</span>

    <span class="c">/* 和上方图片保持点距离 */</span>
    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">15</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* --------------------------------------------------------------------- */</span>

<span class="c">/* --------------------------------产品列表------------------------------ */</span>
<span class="p">.</span><span class="nc">header</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header</span> <span class="p">.</span><span class="nc">line</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">60</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">2</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#666</span><span class="p">;</span>

    <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">header</span> <span class="p">.</span><span class="nc">line</span> <span class="p">.</span><span class="nc">hot</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">40</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">wrap</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">flex-wrap</span><span class="p">:</span> <span class="kc">wrap</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span><span class="mh">#576b95</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">wrap</span> <span class="p">.</span><span class="nc">product</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>

    <span class="k">width</span><span class="p">:</span> <span class="mi">46</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">margin</span><span class="p">:</span><span class="mi">15</span><span class="n">rpx</span><span class="p">;</span>

    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">wrap</span> <span class="p">.</span><span class="nc">product</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">wrap</span> <span class="p">.</span><span class="nc">product</span> <span class="p">.</span><span class="nc">info</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space</span><span class="o">-</span><span class="n">around</span><span class="p">;</span>

    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#666</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">wrap</span> <span class="p">.</span><span class="nc">product</span> <span class="p">.</span><span class="nc">info</span> <span class="p">.</span><span class="nc">price</span><span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">red</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p><code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span><span class="lnt">96
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/index/index.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>

    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">navList</span><span class="o">:</span><span class="p">[],</span>
        <span class="nx">hotProductList</span><span class="o">:</span><span class="p">[]</span>
    <span class="p">},</span>

    <span class="nx">getNavList</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">let</span> <span class="nx">that1</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/navList&#39;</span><span class="p">,</span>
          <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
            <span class="c1">//   console.log(res.data);
</span><span class="c1"></span>            <span class="nx">that1</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                <span class="nx">navList</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
            <span class="p">})</span>
          <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">},</span>

    <span class="nx">hotProductList</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">let</span> <span class="nx">that2</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/hotProductList&#39;</span><span class="p">,</span>
          <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
              <span class="nx">that2</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                <span class="nx">hotProductList</span><span class="o">:</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
              <span class="p">})</span>
          <span class="p">}</span>
        <span class="p">});</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">hotProductList</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">getNavList</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">hotProductList</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="24-产品详情页">2.4 产品详情页</h2>
<ul>
<li>
<p>将主页中的商品块,view改成navigator,通过url跳转页面,url的值是页面路由</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- 一个产品块 --&gt;</span>
  <span class="c">&lt;!-- js的onLoad方法可以使用options.id获取到params --&gt;</span>
<span class="p">&lt;</span><span class="nt">navigator</span> <span class="na">url</span><span class="o">=</span><span class="s">&#34;/pages/detail/detail?id={{item.id}}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;product&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{hotProductList}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index}}&#34;</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>编写详情页</p>
<p><code>detail.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- y轴滚动条 --&gt;</span>
<span class="p">&lt;</span><span class="nt">scroll-view</span> <span class="na">scroll-y</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 标题 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;</span>
            产品详情
        <span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- 商品轮播图 --&gt;</span>
    <span class="c">&lt;!-- autoplay:自动播放 circular:循环播放 indicator-dots:开启flex布局 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">swiper</span> <span class="na">autoplay</span> <span class="na">circular</span> <span class="na">indicator-dots</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 仅可放置在swiper组件中,宽高自动为100% --&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- video组件,controls=&#39;true&#39;开启播放控制按钮 --&gt;</span>
            <span class="p">&lt;</span><span class="nt">video</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&#34;</span> <span class="na">controls</span><span class="o">=</span><span class="s">&#34;true&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">video</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- mode:widthFix
</span><span class="c">                    图片裁剪、缩放的方式
</span><span class="c">                    widthFix:缩放模式,宽度不变,高度自动变化,保持原图宽高比不变
</span><span class="c">                    用于解决某些图片溢出、边距等问题 --&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/detail/swiper/mate30pro01.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/detail/swiper/mate30pro02.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/detail/swiper/mate30pro03.jpg&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">swiper-item</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">swiper</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- 商品信息 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>华为mate30pro<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;price&#34;</span><span class="p">&gt;</span>￥6099元<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  
    <span class="c">&lt;!-- 详情图 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;title&#34;</span><span class="p">&gt;</span>详情介绍<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;wrap&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/detail/info/detail01.png&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/detail/info/detail02.png&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;/images/detail/info/detail03.png&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">scroll-view</span><span class="p">&gt;</span>
  
<span class="c">&lt;!-- 底部添加购物车及购买按钮 --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;bottom&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;addCar&#34;</span><span class="p">&gt;</span>添加到购物车<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;buy&#34;</span><span class="p">&gt;</span>立即购买<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>detail.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* ----------------------------------------- 标题 ---------------------------------------------- */</span>
<span class="p">.</span><span class="nc">title</span><span class="p">{</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
    <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">50</span><span class="n">rpx</span><span class="p">;</span>
  
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">40</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* --------------------------------------------------------------------------------------------- */</span>
  
<span class="c">/* ------------------------------------------- 轮播图 ------------------------------------------- */</span>
<span class="c">/* 滚动条 */</span>
<span class="nt">scroll-view</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span> <span class="c">/* 高度为可视区域的100% */</span>
<span class="p">}</span>
  
<span class="nt">swiper</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">96</span><span class="kt">%</span><span class="p">;</span> <span class="c">/* 给margin留点空隙 */</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">490</span><span class="n">rpx</span><span class="p">;</span> <span class="c">/* 高度经过调整发现这个数值是最合适的 */</span>
    <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* html中video是写在image前面,如果这里写反了则会有问题 */</span>
<span class="c">/* swiper-item宽高自动为swiper的100%,所以不用设置 */</span>
<span class="nt">swiper</span> <span class="nt">video</span><span class="o">,</span><span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">16</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ---------------------------------------------------------------------------------------------- */</span>
  
<span class="c">/* ----------------------------------------- 轮播图产品介绍 -------------------------------------- */</span>
<span class="p">.</span><span class="nc">info</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">95</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">teal</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">6</span><span class="n">rpx</span><span class="p">;</span>
    <span class="c">/* 让商品名和价格分开,两边还能平分空白区域 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space</span><span class="o">-</span><span class="n">around</span><span class="p">;</span>
      
    <span class="k">margin</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">info</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">font-size</span><span class="p">:</span> <span class="mi">40</span><span class="n">rpx</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span>
    <span class="k">line-height</span><span class="p">:</span> <span class="mi">80</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ----------------------------------------------------------------------------------------------- */</span>
  
<span class="c">/* ------------------------------------------ 添加购物车和购买 ------------------------------------- */</span>
<span class="p">.</span><span class="nc">bottom</span><span class="p">{</span>
    <span class="c">/* 加上bottom就出问题,不知道怎么回事 */</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
    <span class="c">/* bottom: 0; */</span>
    <span class="c">/* left: 0; */</span>
      
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
      
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">bottom</span> <span class="nt">button</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">bottom</span> <span class="p">.</span><span class="nc">addCar</span><span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">orange</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="p">.</span><span class="nc">bottom</span> <span class="p">.</span><span class="nc">buy</span><span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">red</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ------------------------------------------------------------------------------------------------ */</span>
</code></pre></td></tr></table>
</div>
</div><p><code>detail.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/detail/detail.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">productId</span><span class="o">:</span><span class="s2">&#34;&#34;</span>
    <span class="p">},</span>
  
    <span class="c1">// 添加到购物车功能
</span><span class="c1"></span>    <span class="nx">addCar</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// 获取该商品的id
</span><span class="c1"></span>        <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span>  <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">productId</span>
  
        <span class="c1">// wx.setStorageSync(&#39;key&#39;, data)方法将数据以key-value形式存储到本地缓存
</span><span class="c1"></span>        <span class="c1">// 其他页面可以通过wxwx.getStorageSync(&#39;key&#39;)方法取值
</span><span class="c1"></span>        <span class="nx">wx</span><span class="p">.</span><span class="nx">setStorageSync</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
  
        <span class="c1">// showModal和showTotal不同的是,showModal有取消确定选项,对用户友好
</span><span class="c1"></span>        <span class="nx">wx</span><span class="p">.</span><span class="nx">showModal</span><span class="p">({</span>
          <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;提示&#39;</span><span class="p">,</span>
          <span class="nx">content</span><span class="o">:</span> <span class="s1">&#39;是否添加到购物车&#39;</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 获取前端传过来的商品id,这个id是前端首页加载时从数据库中获取的商品列表,每个商品有个id属性
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">productId</span><span class="o">:</span> <span class="nx">options</span><span class="p">.</span><span class="nx">id</span>
        <span class="p">})</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="关于微信小程序的wxrequest">关于微信小程序的wx.request</h3>
<ul>
<li>
<p>wx.request发起的全部是异步请求</p>
</li>
<li>
<p>这里的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">productList</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/hotProductList&#39;</span><span class="p">,</span>
          <span class="nx">success</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                  <span class="nx">productList</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
              <span class="p">})</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">productList</span><span class="p">)</span>
          <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>wx.request赋值有两种操作</p>
</li>
<li>
<p>第一种就是复制一份this</p>
<blockquote>
<p>如果是success(res),则无法使用this,因为这是回调函数,此时的this已经不是this了,需要将this复制一份</p>
<p>就如上面的例子</p>
</blockquote>
</li>
<li>
<p>第二种是使用ES6,可以使用this</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">productList</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/hotProductList&#39;</span><span class="p">,</span>
          <span class="nx">success</span><span class="o">:</span><span class="nx">res</span><span class="p">=&gt;</span> <span class="p">{</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                  <span class="nx">productList</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
              <span class="p">})</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">productList</span><span class="p">)</span>
          <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">},</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>如果在wx.request的success中修改data数值,在wx.request外部打印修改的值</p>
</li>
<li>
<p>结果会为空</p>
</li>
<li>
<p>因为wx.request方法是异步的,没等wx.request内部执行完,程序也会继续向下执行</p>
</li>
<li>
<p>所以就在success方法中,设置完数据后直接获取就行</p>
</li>
</ul>
<hr>
<h2 id="31-购物车页">3.1 购物车页</h2>
<ul>
<li>
<p>前面虽然使用wx.setStorageSync和wx.getStorageSync将数据保存到本地并可以在不同页面实现设置和取值</p>
</li>
<li>
<p>但是这里只是为了开发模板,真正从详情页向购物车页添加商品,具体项目再设置</p>
</li>
<li>
<p>编写购物车页面</p>
<p><code>cart.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="c">&lt;!-- 商品列表栏 --&gt;</span>
<span class="p">&lt;</span><span class="nt">scroll-view</span> <span class="na">scroll-y</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 一个view是一个商品 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;product&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{productList}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index}}&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{item.src}}&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{item.name}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;price&#34;</span><span class="p">&gt;</span>￥{{item.price}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
  
        <span class="c">&lt;!-- 复选框,绑定change事件 --&gt;</span>
        <span class="p">&lt;</span><span class="nt">checkbox-group</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;{{item.id}}&#34;</span> <span class="na">bindchange</span><span class="o">=</span><span class="s">&#34;change&#34;</span><span class="p">&gt;</span>
            <span class="c">&lt;!-- 当点击任意复选框组中任意一个选项框时,都会触发bindchange方法 --&gt;</span>
            <span class="c">&lt;!-- js可以通过 函数参数.currentTarget.id获取到value中的属性值 --&gt;</span>
            <span class="p">&lt;</span><span class="nt">checkbox</span> <span class="na">value</span><span class="o">=</span><span class="s">&#34;{{item.id}}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">checkbox</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">checkbox-group</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">scroll-view</span><span class="p">&gt;</span>
  
<span class="c">&lt;!-- 底部付款汇总块,price实时价格通过js实现计算 --&gt;</span>
<span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;bottom&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>
        去付款
        <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>￥{{price}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>cart.css</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="c">/* ------------------------------------- 滚动条 ----------------------------------------- */</span>
<span class="c">/* 正常设计师宽度100%,高度为可视化区域的100% */</span>
<span class="nt">scroll-view</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ----------------------------------- 商品列表中每个块 ---------------------------------- */</span>
<span class="p">.</span><span class="nc">product</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  
    <span class="k">border-bottom</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="mh">#666666</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 前端中高度自适应 mode:widthFix; */</span>
<span class="p">.</span><span class="nc">product</span> <span class="nt">image</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">product</span> <span class="p">.</span><span class="nc">info</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">80</span><span class="kt">%</span><span class="p">;</span>
    <span class="c">/* 信息,名称和价格垂直排列 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">product</span> <span class="p">.</span><span class="nc">info</span> <span class="p">.</span><span class="nc">price</span><span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">red</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 最后一个商品条元素 */</span>
<span class="c">/* 因为底部按钮开启了定位,如果不设置margin-bottom底部按钮会盖住最后一个商品 */</span>
<span class="p">.</span><span class="nc">product</span><span class="p">:</span><span class="nd">last-child</span><span class="p">{</span>
    <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">60</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ----------------------------------------------------------------------------------------- */</span>
  
<span class="c">/* ---------------------------------------- 底部按钮 ---------------------------------------- */</span>
<span class="p">.</span><span class="nc">bottom</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
  
    <span class="c">/* 一直在屏幕最底部 */</span>
    <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
    <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* 按钮,新版本按钮被写死了,所以许多样式设置需要 !important */</span>
<span class="nt">button</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span> <span class="cp">!important</span><span class="p">;</span>
    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">0</span> <span class="cp">!important</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="kc">orangered</span><span class="p">;</span>
    <span class="k">color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>
<span class="p">}</span>
  
<span class="c">/* ---------------------------------------------------------------------------------------- */</span>
</code></pre></td></tr></table>
</div>
</div><p><code>cart.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/cart/cart.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">product</span><span class="o">:</span><span class="p">[],</span>
        <span class="nx">productList</span><span class="o">:</span><span class="p">[],</span>
        <span class="nx">price</span><span class="o">:</span> <span class="mi">0</span>
    <span class="p">},</span>
  
    <span class="c1">// 商品列表
</span><span class="c1"></span>    <span class="nx">productList</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">wx</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
          <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;http://localhost:8080/api/sql/hotProductList&#39;</span><span class="p">,</span>
          <span class="nx">success</span><span class="o">:</span><span class="nx">res</span><span class="p">=&gt;</span> <span class="p">{</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
                  <span class="nx">productList</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span>
              <span class="p">})</span>
              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">productList</span><span class="p">)</span>
          <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">},</span>
  
    <span class="c1">// 计算当前总价格的函数
</span><span class="c1"></span>    <span class="nx">change</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">sumPrice</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 每次点击的总价格
</span><span class="c1"></span>        <span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span> <span class="c1">// 点击的复选框的value
</span><span class="c1"></span>        <span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">productList</span><span class="p">;</span> <span class="c1">// 购物车的商品列表
</span><span class="c1"></span>  
        <span class="c1">// 如果点击的复选框value不为空字符串
</span><span class="c1"></span>        <span class="k">if</span><span class="p">(</span><span class="nx">num</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">){</span>
            <span class="c1">// 遍历产品列表,找出当前点击的id
</span><span class="c1"></span>            <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                <span class="c1">// 找到了,加在当前对象中的price(当前总价格)中,并将当前总和赋值给函数中的sumPrice
</span><span class="c1"></span>                <span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span> <span class="o">==</span> <span class="nx">num</span><span class="p">){</span>
                    <span class="nx">sumPrice</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">price</span> <span class="o">+</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">price</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span> <span class="o">==</span> <span class="nx">num</span><span class="p">){</span>
                    <span class="c1">// 找到了,将当前点击的商品价格从当前对象的price(当前总价格)中减去,并将当前总和赋值给函数中的sumPrice
</span><span class="c1"></span>                    <span class="nx">sumPrice</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">price</span> <span class="o">-</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">price</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
  
        <span class="c1">// 最后将实际总和赋值给data的price
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">price</span><span class="o">:</span><span class="nx">sumPrice</span>
        <span class="p">})</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">productList</span><span class="p">();</span>
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">},</span>
  
    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h2 id="32-分类页">3.2 分类页</h2>
<p><code>group.wxml</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- 左侧导航菜单 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;menu&#34;</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 绑定搜索类型, --&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;{{item.id}}&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;classType&#34;</span> <span class="na">bindtap</span><span class="o">=</span><span class="s">&#34;searchTab&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{classType}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index}}&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{item.name}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>

    <span class="c">&lt;!-- 产品列表 --&gt;</span>
    <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;list&#34;</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- 如果是初始化页面或者没有搜索类型,默认显示全部,否则显示通过js搜索的指定类别的所有商品 --&gt;</span>
        <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;productList&#34;</span> <span class="na">wx:for</span><span class="o">=</span><span class="s">&#34;{{productList==&#39;&#39;?productAll:productList}}&#34;</span> <span class="na">wx:key</span><span class="o">=</span><span class="s">&#34;{{index}}&#34;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">image</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;{{item.src}}&#34;</span> <span class="na">mode</span><span class="o">=</span><span class="s">&#34;widthFix&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">image</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">view</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;info&#34;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">text</span><span class="p">&gt;</span>{{item.name}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">text</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;price&#34;</span><span class="p">&gt;</span>￥{{item.price}}<span class="p">&lt;/</span><span class="nt">text</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">view</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><code>group.wxss</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">container</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span> <span class="c">/* 左侧导航栏和中间商品列表横向布局 */</span>
<span class="p">}</span>

<span class="c">/* ------------------------------------------- 左侧菜单 ------------------------------------ */</span>
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">menu</span><span class="p">{</span>
    <span class="c">/* 占全宽的20% */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">20</span><span class="kt">%</span><span class="p">;</span>

    <span class="c">/* 里面的item纵向排列 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>

    <span class="c">/* 高度最短为100vh,防止选项过多 */</span>
    <span class="k">min-height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span><span class="mf">0.3</span><span class="p">);</span>


<span class="p">}</span>

<span class="c">/* 导航栏中样式 */</span>
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">menu</span> <span class="p">.</span><span class="nc">classType</span><span class="p">{</span>
    <span class="c">/* 里面的文字横向居中显示 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>

    <span class="c">/* 宽度为100% */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="c">/* 上下相邻item保持距离 */</span>
    <span class="k">margin</span><span class="p">:</span> <span class="mi">20</span><span class="n">rpx</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 导航栏中item字体样式 */</span>
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">menu</span> <span class="p">.</span><span class="nc">classType</span> <span class="nt">text</span><span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.5</span><span class="p">);</span>
    <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
    <span class="k">font-weight</span><span class="p">:</span> <span class="mi">500</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ---------------------------------------- 商品列表 ----------------------------------------  */</span>

<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">list</span><span class="p">{</span>
    <span class="c">/* 导航栏占20%,商品列表占80% */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">80</span><span class="kt">%</span><span class="p">;</span>

    <span class="c">/* 纵向排列 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 商品列表中的单个组件 */</span>
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">list</span> <span class="p">.</span><span class="nc">productList</span><span class="p">{</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>

    <span class="c">/* 横向排列,居中显示 */</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">row</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 商品列表 -&gt; 单个组件 -&gt; 图片 */</span>
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">list</span> <span class="p">.</span><span class="nc">productList</span> <span class="nt">image</span><span class="p">{</span>
    <span class="c">/* 宽度设置适当,前端高度自适应 */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">300</span><span class="n">rpx</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* 商品列表 -&gt; 单个组件 -&gt; 信息 */</span>
<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">list</span> <span class="p">.</span><span class="nc">productList</span> <span class="p">.</span><span class="nc">info</span><span class="p">{</span>
    <span class="c">/* 垂直排列 */</span>
    <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
    <span class="k">justify-content</span><span class="p">:</span> <span class="kc">space</span><span class="o">-</span><span class="n">around</span><span class="p">;</span>
<span class="p">}</span>


<span class="p">.</span><span class="nc">container</span> <span class="p">.</span><span class="nc">list</span> <span class="p">.</span><span class="nc">productList</span> <span class="p">.</span><span class="nc">info</span> <span class="p">.</span><span class="nc">price</span><span class="p">{</span>
    <span class="k">color</span><span class="p">:</span> <span class="kc">red</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* -------------------------------------------------------------------------------------------- */</span>
</code></pre></td></tr></table>
</div>
</div><p><code>group.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="c1">// pages/group/group.js
</span><span class="c1"></span><span class="nx">Page</span><span class="p">({</span>

    <span class="cm">/**
</span><span class="cm">     * 页面的初始数据
</span><span class="cm">     */</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
        <span class="c1">// 产品类别
</span><span class="c1"></span>        <span class="nx">classType</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&#34;id&#34;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&#34;name&#34;</span><span class="o">:</span> <span class="s2">&#34;手机&#34;</span>
            <span class="p">},</span> <span class="p">{</span>
                <span class="s2">&#34;id&#34;</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&#34;name&#34;</span><span class="o">:</span> <span class="s2">&#34;电脑&#34;</span>
            <span class="p">},</span> <span class="p">{</span>
                <span class="s2">&#34;id&#34;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&#34;name&#34;</span><span class="o">:</span> <span class="s2">&#34;软件&#34;</span>
            <span class="p">},</span> <span class="p">{</span>
                <span class="s2">&#34;id&#34;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
                <span class="s2">&#34;name&#34;</span><span class="o">:</span> <span class="s2">&#34;图书&#34;</span>
            <span class="p">}</span>
        <span class="p">],</span> <span class="c1">// 分类
</span><span class="c1"></span>        <span class="nx">productList</span><span class="o">:</span> <span class="p">[],</span> <span class="c1">// 产品列表
</span><span class="c1"></span>
        <span class="c1">// 设置一些初始数据,默认显示全部商品,productList用于存储当前搜索的分类数据
</span><span class="c1"></span>        <span class="c1">// classid是分类id
</span><span class="c1"></span>        <span class="nx">productAll</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate1.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为nova100 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;1000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate2.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为nova200 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;2000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate3.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为Mate100 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;3000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">3</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate4.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为Mate200 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;4000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate5.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为nova100 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;1000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">3</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate6.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为nova200 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;2000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate7.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为Mate100 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;3000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate8.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为Mate200 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;4000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate9.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为nova100 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;1000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">3</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate10.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为nova200 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;2000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">4</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate11.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为Mate100 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;3000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">3</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">src</span><span class="o">:</span> <span class="s2">&#34;/images/product/cate12.jpg&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;华为Mate200 5G&#34;</span><span class="p">,</span> <span class="nx">price</span><span class="o">:</span> <span class="s2">&#34;4000&#34;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span><span class="s2">&#34;classid&#34;</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span>
        <span class="p">]</span> <span class="c1">// 初始数据
</span><span class="c1"></span>    <span class="p">},</span>

    <span class="c1">// 搜索商品分类
</span><span class="c1"></span>    <span class="nx">searchTab</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
        <span class="c1">// 全部商品数组
</span><span class="c1"></span>        <span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">productAll</span><span class="p">;</span>
        
        <span class="c1">// 复选框可以通过这个方法获取value
</span><span class="c1"></span>        <span class="c1">// 视图可以通过点击获取id
</span><span class="c1"></span>        <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>

        <span class="c1">// 当前搜索的指定类型的商品
</span><span class="c1"></span>        <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="p">[];</span>

        <span class="c1">// 遍历全部商品
</span><span class="c1"></span>        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
            <span class="c1">// 将指定类型的全部保存到列表中
</span><span class="c1"></span>            <span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">classid</span> <span class="o">==</span> <span class="nx">id</span><span class="p">){</span>
                <span class="nx">list</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// list是搜索出来的商品列表,设置到productList中
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">({</span>
            <span class="nx">productList</span><span class="o">:</span><span class="nx">list</span>
        <span class="p">})</span>
    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面加载
</span><span class="cm">     */</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面初次渲染完成
</span><span class="cm">     */</span>
    <span class="nx">onReady</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面显示
</span><span class="cm">     */</span>
    <span class="nx">onShow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面隐藏
</span><span class="cm">     */</span>
    <span class="nx">onHide</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 生命周期函数--监听页面卸载
</span><span class="cm">     */</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面相关事件处理函数--监听用户下拉动作
</span><span class="cm">     */</span>
    <span class="nx">onPullDownRefresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 页面上拉触底事件的处理函数
</span><span class="cm">     */</span>
    <span class="nx">onReachBottom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">},</span>

    <span class="cm">/**
</span><span class="cm">     * 用户点击右上角分享
</span><span class="cm">     */</span>
    <span class="nx">onShareAppMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="step12输入框组件详解">Step12.输入框组件详解</h1>
<p><code>input</code></p>
<blockquote>
<p>基础库 1.0.0 开始支持，低版本需做<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>输入框。该组件是<a href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html">原生组件</a>，使用时请注意相关限制</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">value</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">输入框的初始内容</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">text</td>
<td align="left">否</td>
<td align="left">input 的类型</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">合法值说明最低版本text文本输入键盘number数字输入键盘idcard身份证输入键盘digit带小数点的数字键盘safe-password密码安全输入键盘 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/safe-password.html">指引</a><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a>nickname昵称输入键盘<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.21.2</a></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">password</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否是密码类型</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">placeholder</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">输入框为空时占位符</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">placeholder-style</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">指定 placeholder 的样式</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">placeholder-class</td>
<td align="left">string</td>
<td align="left">input-placeholder</td>
<td align="left">否</td>
<td align="left">指定 placeholder 的样式类</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">disabled</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否禁用</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">maxlength</td>
<td align="left">number</td>
<td align="left">140</td>
<td align="left">否</td>
<td align="left">最大输入长度，设置为 -1 的时候不限制最大长度</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">cursor-spacing</td>
<td align="left">number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">指定光标与键盘的距离，取 input 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">auto-focus</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">(即将废弃，请直接使用 focus )自动聚焦，拉起键盘</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">focus</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">获取焦点</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">confirm-type</td>
<td align="left">string</td>
<td align="left">done</td>
<td align="left">否</td>
<td align="left">设置键盘右下角按钮的文字，仅在type='text'时生效</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td align="left">合法值说明send右下角按钮为“发送”search右下角按钮为“搜索”next右下角按钮为“下一个”go右下角按钮为“前往”done右下角按钮为“完成”</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">always-embed</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">强制 input 处于同层状态，默认 focus 时 input 会切到非同层状态 (仅在 iOS 下生效)</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.4</a></td>
</tr>
<tr>
<td align="left">confirm-hold</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">点击键盘右下角按钮时是否保持键盘不收起</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td align="left">cursor</td>
<td align="left">number</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">指定focus时的光标位置</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td align="left">selection-start</td>
<td align="left">number</td>
<td align="left">-1</td>
<td align="left">否</td>
<td align="left">光标起始位置，自动聚集时有效，需与selection-end搭配使用</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">selection-end</td>
<td align="left">number</td>
<td align="left">-1</td>
<td align="left">否</td>
<td align="left">光标结束位置，自动聚集时有效，需与selection-start搭配使用</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">adjust-position</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">键盘弹起时，是否自动上推页面</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td align="left">hold-keyboard</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">focus时，点击页面的时候不收起键盘</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.2</a></td>
</tr>
<tr>
<td align="left">safe-password-cert-path</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">安全键盘加密公钥的路径，只支持包内路径</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a></td>
</tr>
<tr>
<td align="left">safe-password-length</td>
<td align="left">number</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">安全键盘输入密码长度</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a></td>
</tr>
<tr>
<td align="left">safe-password-time-stamp</td>
<td align="left">number</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">安全键盘加密时间戳</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a></td>
</tr>
<tr>
<td align="left">safe-password-nonce</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">安全键盘加密盐值</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a></td>
</tr>
<tr>
<td align="left">safe-password-salt</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">安全键盘计算hash盐值，若指定custom-hash 则无效</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a></td>
</tr>
<tr>
<td align="left">safe-password-custom-hash</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">安全键盘计算hash的算法表达式，如 <code>md5(sha1('foo' + sha256(sm3(password + 'bar'))))</code></td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.18.0</a></td>
</tr>
<tr>
<td align="left">bindinput</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">键盘输入时触发，event.detail = {value, cursor, keyCode}，keyCode 为键值，2.1.0 起支持，处理函数可以直接 return 一个字符串，将替换输入框的内容。</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindfocus</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindblur</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">输入框失去焦点时触发，event.detail = { value, encryptedValue, encryptError }</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindconfirm</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">点击完成按钮时触发，event.detail = { value }</td>
<td align="left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindkeyboardheightchange</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">键盘高度发生变化的时候触发此事件，event.detail = {height: height, duration: duration}</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<hr>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Zhang's Blog</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        2022-02-12
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/vue/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Vue</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/vuforia/">
            <span class="next-text nav-default">Vuforia</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="https://stackoverflow.com/" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://twitter.com/" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.facebook.com/" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://www.linkedin.com/" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://www.google.com/" class="iconfont icon-google" title="google"></a>
      <a href="https://github.com/" class="iconfont icon-github" title="github"></a>
      <a href="https://weibo.com/" class="iconfont icon-weibo" title="weibo"></a>
      <a href="https://www.zhihu.com/" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/" class="iconfont icon-douban" title="douban"></a>
      <a href="https://getpocket.com/" class="iconfont icon-pocket" title="pocket"></a>
      <a href="https://www.tumblr.com/" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="https://www.instagram.com/" class="iconfont icon-instagram" title="instagram"></a>
      <a href="https://about.gitlab.com/" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="https://www.bilibili.com/" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://golang.org/">GoLang</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Author - 
    <a class="theme-link" href="https://space.bilibili.com/628950169/">Mr'zhang</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>Zhang's Blog</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
